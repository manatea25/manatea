<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FLAP - Feel Like A Pro</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(180deg, #1e7d32 0%, #2e7d32 100%);
            color: white;
            overflow-x: hidden;
        }

        /* Football Field Background */
        .app {
            max-width: 414px;
            margin: 0 auto;
            min-height: 100vh;
            position: relative;
            background: 
                linear-gradient(90deg, transparent 49%, rgba(255,255,255,0.1) 49%, rgba(255,255,255,0.1) 51%, transparent 51%),
                repeating-linear-gradient(0deg, transparent, transparent 45px, rgba(255,255,255,0.1) 45px, rgba(255,255,255,0.1) 47px);
        }

        /* Modern screen system */
        .screen {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            min-height: 100vh;
            width: 100%;
            background: linear-gradient(180deg, #1e7d32 0%, #2e7d32 100%);
            overflow-y: auto;
        }

        .screen.active {
            display: block;
            animation: slideIn 0.3s ease;
        }

        /* Fix for modal scrolling */
        .modal {
            overflow-y: auto !important;
        }

        /* Enhanced input field styles */
        input[type="email"], input[type="password"], input[type="text"], input[type="tel"] {
            transition: all 0.3s ease !important;
        }

        input[type="email"]:focus, input[type="password"]:focus, input[type="text"]:focus, input[type="tel"]:focus {
            border-color: rgba(255,255,255,0.8) !important;
            background: rgba(255,255,255,0.25) !important;
            box-shadow: 0 0 20px rgba(255,255,255,0.3) !important;
            outline: none !important;
        }

        input::placeholder {
            color: rgba(255,255,255,0.8) !important;
            font-weight: 400 !important;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Welcome Screen */
        .welcome-screen {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 40px 20px;
            text-align: center;
        }

        .welcome-logo {
            width: 120px;
            height: 120px;
            background: url('https://raw.githubusercontent.com/manatea25/manatea/design-options/Bold%20Graphic%20Design%20With%20Dynamic%20Logo%20On%20Green%20Background.png.jpg') center/cover;
            border-radius: 30px;
            border: 4px solid #fff;
            box-shadow: 0 15px 40px rgba(0,0,0,0.3);
            margin-bottom: 30px;
            animation: logoBounce 2s infinite;
        }

        @keyframes logoBounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .welcome-title {
            font-size: 32px;
            font-weight: 800;
            margin-bottom: 10px;
            text-shadow: 2px 2px 8px rgba(0,0,0,0.3);
        }

        .welcome-subtitle {
            font-size: 18px;
            opacity: 0.9;
            margin-bottom: 40px;
            line-height: 1.5;
        }

        .auth-buttons {
            width: 100%;
            max-width: 300px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .auth-btn {
            padding: 15px;
            border: none;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .auth-btn.primary {
            background: linear-gradient(135deg, #4caf50, #66bb6a);
            color: white;
            box-shadow: 0 8px 25px rgba(76, 175, 80, 0.4);
        }

        .auth-btn.secondary {
            background: rgba(255,255,255,0.2);
            color: white;
            border: 2px solid rgba(255,255,255,0.5);
        }

        .auth-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(76, 175, 80, 0.6);
        }

        /* Auth Forms */
        .auth-form {
            padding: 40px 20px;
        }

        .form-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .form-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .form-subtitle {
            opacity: 0.8;
            font-size: 14px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: rgba(255,255,255,0.9);
        }

        .form-input {
            width: 100%;
            padding: 15px;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 15px;
            background: rgba(255,255,255,0.1);
            color: white;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: #4caf50;
            background: rgba(255,255,255,0.2);
        }

        .form-input::placeholder {
            color: rgba(255,255,255,0.7);
            font-weight: 400;
        }

        /* Better input styling for auth screen */
        input[type="text"]::placeholder,
        input[type="email"]::placeholder,
        input[type="password"]::placeholder {
            color: rgba(255,255,255,0.8) !important;
            font-weight: 400;
        }

        input[type="text"]:focus,
        input[type="email"]:focus,
        input[type="password"]:focus {
            border-color: #4caf50 !important;
            background: rgba(255,255,255,0.25) !important;
            box-shadow: 0 0 15px rgba(76, 175, 80, 0.3);
        }

        .position-select {
            width: 100%;
            padding: 15px;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 15px;
            background: rgba(255,255,255,0.1);
            color: white;
            font-size: 16px;
        }

        .position-select option {
            background: #2e7d32;
            color: white;
        }

        .form-submit {
            width: 100%;
            padding: 15px;
            border: none;
            border-radius: 25px;
            background: linear-gradient(135deg, #4caf50, #66bb6a);
            color: white;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s ease;
        }

        .form-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(76, 175, 80, 0.6);
        }

        .back-to-welcome {
            background: none;
            border: none;
            color: rgba(255,255,255,0.8);
            padding: 10px;
            cursor: pointer;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, #1b5e20, #2e7d32);
            padding: 15px 20px;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
            border-bottom: 2px solid #4caf50;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo {
            width: 40px;
            height: 40px;
            background: url('https://raw.githubusercontent.com/manatea25/manatea/design-options/Bold%20Graphic%20Design%20With%20Dynamic%20Logo%20On%20Green%20Background.png.jpg') center/cover;
            border-radius: 10px;
            border: 2px solid #fff;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            animation: logoPulse 2s infinite;
        }

        @keyframes logoPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .brand-text {
            color: white;
        }

        .brand-name {
            font-size: 18px;
            font-weight: 800;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .brand-tagline {
            font-size: 9px;
            opacity: 0.9;
            font-weight: 500;
            letter-spacing: 1px;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .coins-display {
            background: linear-gradient(135deg, #ffc107, #ff8f00);
            padding: 6px 12px;
            border-radius: 15px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 4px;
            box-shadow: 0 4px 15px rgba(255, 193, 7, 0.4);
            font-size: 13px;
        }

        .notifications-btn {
            position: relative;
            background: rgba(255,255,255,0.2);
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .notifications-btn:hover {
            background: rgba(255,255,255,0.3);
            transform: scale(1.1);
        }

        .notification-badge {
            position: absolute;
            top: -2px;
            right: -2px;
            background: #f44336;
            color: white;
            border-radius: 50%;
            width: 16px;
            height: 16px;
            font-size: 9px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            animation: bounce 1s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        /* Navigation Tabs */
        .nav-tabs {
            display: flex;
            background: rgba(255,255,255,0.1);
            margin: 0 15px;
            border-radius: 12px;
            padding: 4px;
            backdrop-filter: blur(10px);
            margin-top: 12px;
        }

        .nav-tab {
            flex: 1;
            padding: 8px 4px;
            text-align: center;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            font-size: 11px;
        }

        .nav-tab.active {
            background: rgba(255,255,255,0.2);
            color: #4caf50;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }

        /* Content Sections - WORKING VERSION */
        .content-section {
            display: none;
        }

        .content-section.active {
            display: block;
        }



        /* Challenge Video Voting */
        .challenge-video-item {
            background: rgba(255,255,255,0.9);
            border-radius: 15px;
            margin-bottom: 15px;
            overflow: hidden;
            box-shadow: 0 6px 20px rgba(0,0,0,0.1);
            color: #333;
        }

        .challenge-video-header {
            padding: 15px;
            background: linear-gradient(135deg, #ff9800, #ffb74d);
            color: white;
        }

        .challenge-video-title {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .challenge-video-meta {
            font-size: 12px;
            opacity: 0.9;
        }

        .video-thumbnail {
            height: 200px;
            background: linear-gradient(45deg, #4caf50, #8bc34a);
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 50px;
            cursor: pointer;
        }

        .play-button {
            position: absolute;
            width: 70px;
            height: 70px;
            background: rgba(255,255,255,0.9);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #4caf50;
            font-size: 30px;
            transition: all 0.3s ease;
        }

        .play-button:hover {
            transform: scale(1.1);
        }

        .video-voting {
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .vote-buttons {
            display: flex;
            gap: 10px;
        }

        .vote-btn {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 8px 15px;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .vote-btn.like {
            background: linear-gradient(135deg, #4caf50, #66bb6a);
            color: white;
        }

        .vote-btn.dislike {
            background: linear-gradient(135deg, #f44336, #ef5350);
            color: white;
        }

        .vote-btn:hover {
            transform: scale(1.05);
        }

        .video-score {
            font-size: 18px;
            font-weight: 700;
            color: #2e7d32;
        }

        /* Player Profile Modal */
        .player-profile-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 3000;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .player-profile-modal.show {
            display: flex;
            animation: modalIn 0.4s ease;
        }

        @keyframes modalIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .player-profile-content {
            background: white;
            border-radius: 20px;
            width: 100%;
            max-width: 380px;
            max-height: 90vh;
            overflow-y: auto;
            color: #333;
            position: relative;
        }

        .profile-cover {
            height: 120px;
            background: linear-gradient(135deg, #4caf50, #8bc34a);
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .profile-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(255,255,255,0.2);
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .profile-avatar-large {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #2e7d32, #4caf50);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 32px;
            font-weight: 800;
            border: 4px solid white;
            margin-top: -40px;
        }

        .profile-main {
            padding: 20px;
            text-align: center;
        }

        .profile-name {
            font-size: 22px;
            font-weight: 700;
            color: #2e7d32;
            margin-bottom: 5px;
        }

        .profile-position {
            color: #666;
            margin-bottom: 10px;
        }

        .profile-rating {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            color: #ff9800;
            font-weight: 700;
            font-size: 16px;
            margin-bottom: 20px;
        }

        .profile-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 25px;
        }

        .profile-stat {
            text-align: center;
            padding: 15px;
            background: rgba(76, 175, 80, 0.1);
            border-radius: 12px;
        }

        .profile-stat-number {
            font-size: 20px;
            font-weight: 800;
            color: #2e7d32;
            margin-bottom: 5px;
        }

        .profile-stat-label {
            font-size: 11px;
            color: #666;
            text-transform: uppercase;
        }

        .profile-actions {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .profile-btn {
            flex: 1;
            padding: 10px;
            border: none;
            border-radius: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .profile-btn.primary {
            background: linear-gradient(135deg, #4caf50, #66bb6a);
            color: white;
        }

        .profile-btn.secondary {
            background: #f5f5f5;
            color: #666;
        }

        .profile-achievements {
            text-align: left;
        }

        .achievements-title {
            font-size: 16px;
            font-weight: 700;
            color: #2e7d32;
            margin-bottom: 15px;
        }

        .achievements-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }

        .achievement-badge {
            aspect-ratio: 1;
            background: rgba(76, 175, 80, 0.1);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .achievement-badge:hover {
            background: rgba(76, 175, 80, 0.2);
            transform: scale(1.05);
        }

        /* Match Creation Form */
        .match-form {
            background: rgba(255,255,255,0.9);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            color: #333;
            box-shadow: 0 6px 20px rgba(0,0,0,0.1);
        }

        .match-form-title {
            font-size: 20px;
            font-weight: 700;
            color: #2e7d32;
            margin-bottom: 15px;
            text-align: center;
        }

        .form-row {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .form-field {
            flex: 1;
        }

        .form-field label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #333;
            font-size: 13px;
        }

        .form-field input,
        .form-field select,
        .form-field textarea {
            width: 100%;
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .form-field input:focus,
        .form-field select:focus,
        .form-field textarea:focus {
            outline: none;
            border-color: #4caf50;
        }

        .create-match-btn {
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, #4caf50, #66bb6a);
            color: white;
            border: none;
            border-radius: 20px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .create-match-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
        }

        /* Waiting List */
        .waiting-list {
            background: rgba(255,255,255,0.9);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            color: #333;
            box-shadow: 0 6px 20px rgba(0,0,0,0.1);
        }

        .waiting-list-title {
            font-size: 18px;
            font-weight: 700;
            color: #2e7d32;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .waiting-player {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 10px;
            background: rgba(76, 175, 80, 0.1);
            border-radius: 10px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .waiting-player:hover {
            background: rgba(76, 175, 80, 0.2);
            transform: translateX(5px);
        }

        .waiting-avatar {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #4caf50, #2e7d32);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
        }

        .waiting-info {
            flex: 1;
        }

        .waiting-name {
            font-weight: 600;
            margin-bottom: 2px;
        }

        .waiting-meta {
            font-size: 12px;
            color: #666;
        }

        .waiting-actions {
            display: flex;
            gap: 5px;
        }

        .waiting-btn {
            padding: 5px 10px;
            border: none;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .waiting-btn.accept {
            background: #4caf50;
            color: white;
        }

        .waiting-btn.reject {
            background: #f44336;
            color: white;
        }

        /* Team Builder */
        .team-builder {
            background: rgba(255,255,255,0.9);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            color: #333;
            box-shadow: 0 6px 20px rgba(0,0,0,0.1);
        }

        .team-builder-title {
            font-size: 18px;
            font-weight: 700;
            color: #2e7d32;
            margin-bottom: 15px;
            text-align: center;
        }

        .teams-container {
            display: flex;
            gap: 15px;
        }

        .team {
            flex: 1;
            background: rgba(76, 175, 80, 0.1);
            border-radius: 12px;
            padding: 15px;
            border: 2px solid #4caf50;
        }

        .team-name {
            font-size: 16px;
            font-weight: 700;
            color: #2e7d32;
            margin-bottom: 10px;
            text-align: center;
        }

        .team-player {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px;
            background: white;
            border-radius: 8px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .team-player:hover {
            transform: scale(1.02);
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .team-avatar {
            width: 30px;
            height: 30px;
            background: linear-gradient(135deg, #4caf50, #2e7d32);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
            font-weight: 700;
        }

        .team-player-info {
            flex: 1;
        }

        .team-player-name {
            font-size: 13px;
            font-weight: 600;
        }

        .team-player-rating {
            font-size: 11px;
            color: #ff9800;
        }

        .auto-balance-btn {
            width: 100%;
            padding: 10px;
            background: linear-gradient(135deg, #ff9800, #ffb74d);
            color: white;
            border: none;
            border-radius: 15px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 15px;
            transition: all 0.3s ease;
        }

        .auto-balance-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 152, 0, 0.4);
        }

        /* Match Score Tracker */
        .score-tracker {
            background: rgba(255,255,255,0.9);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            color: #333;
            box-shadow: 0 6px 20px rgba(0,0,0,0.1);
        }

        .score-header {
            text-align: center;
            margin-bottom: 20px;
        }

        .match-title {
            font-size: 18px;
            font-weight: 700;
            color: #2e7d32;
            margin-bottom: 5px;
        }

        .match-time {
            font-size: 14px;
            color: #666;
        }

        .score-display {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin-bottom: 25px;
        }

        .team-score {
            text-align: center;
        }

        .team-score-name {
            font-size: 16px;
            font-weight: 700;
            color: #2e7d32;
            margin-bottom: 10px;
        }

        .team-score-number {
            font-size: 48px;
            font-weight: 800;
            color: #4caf50;
            background: rgba(76, 175, 80, 0.1);
            border-radius: 15px;
            padding: 15px 20px;
            min-width: 100px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .team-score-number:hover {
            background: rgba(76, 175, 80, 0.2);
            transform: scale(1.05);
        }

        .score-vs {
            font-size: 24px;
            font-weight: 700;
            color: #666;
        }

        .score-actions {
            display: flex;
            gap: 10px;
        }

        .score-btn {
            flex: 1;
            padding: 10px;
            border: none;
            border-radius: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .score-btn.end-match {
            background: linear-gradient(135deg, #f44336, #ef5350);
            color: white;
        }

        .score-btn.reset {
            background: #f5f5f5;
            color: #666;
        }

        /* Player Rating Modal */
        .rating-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 3000;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .rating-modal.show {
            display: flex;
            animation: modalIn 0.4s ease;
        }

        .rating-content {
            background: white;
            border-radius: 20px;
            padding: 25px;
            max-width: 350px;
            width: 100%;
            color: #333;
            text-align: center;
        }

        .rating-title {
            font-size: 20px;
            font-weight: 700;
            color: #2e7d32;
            margin-bottom: 15px;
        }

        .rating-player {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(76, 175, 80, 0.1);
            border-radius: 12px;
        }

        .rating-player-avatar {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #4caf50, #2e7d32);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
            font-weight: 700;
        }

        .rating-player-info {
            flex: 1;
            text-align: left;
        }

        .rating-player-name {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 3px;
        }

        .rating-player-position {
            font-size: 13px;
            color: #666;
        }

        .star-rating {
            display: flex;
            justify-content: center;
            gap: 5px;
            margin-bottom: 20px;
        }

        .star {
            font-size: 30px;
            color: #ddd;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .star.active,
        .star:hover {
            color: #ffc107;
            transform: scale(1.2);
        }

        .rating-comment {
            width: 100%;
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            margin-bottom: 20px;
            resize: vertical;
            min-height: 60px;
        }

        .rating-buttons {
            display: flex;
            gap: 10px;
        }

        .rating-btn {
            flex: 1;
            padding: 10px;
            border: none;
            border-radius: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .rating-btn.submit {
            background: linear-gradient(135deg, #4caf50, #66bb6a);
            color: white;
        }

        .rating-btn.skip {
            background: #f5f5f5;
            color: #666;
        }

        /* Utilities */
        .loading-spinner {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 2000;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(76,175,80,0.3);
            border-top: 4px solid #4caf50;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .message-toast {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: #4caf50;
            color: white;
            padding: 12px 20px;
            border-radius: 25px;
            font-weight: 600;
            font-size: 14px;
            z-index: 2000;
            opacity: 0;
            transition: all 0.3s ease;
        }

        .message-toast.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }

        .message-toast.error {
            background: #f44336;
        }

        .fab {
            position: fixed;
            bottom: 25px;
            right: 25px;
            width: 56px;
            height: 56px;
            background: linear-gradient(135deg, #4caf50, #2e7d32);
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 20px;
            cursor: pointer;
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .fab:hover {
            transform: scale(1.1) rotate(90deg);
            box-shadow: 0 8px 25px rgba(76, 175, 80, 0.6);
        }

        /* Hide elements */
        .hidden {
            display: none !important;
        }

        /* Responsive */
        @media (max-width: 414px) {
            .app {
                margin: 0;
            }
        }
    </style>
</head>
<body>
    <div class="app">
        <!-- Modern Auth Screen -->
        <div class="screen welcome-screen active" id="authScreen">
            <div style="display: flex; flex-direction: column; justify-content: center; align-items: center; min-height: 100vh; padding: 40px 20px; text-align: center;">
                <div class="welcome-logo"></div>
                <h1 class="welcome-title">FLAP</h1>
                <p class="welcome-subtitle">Feel Like A Pro<br>–ü–æ–∫–∞–∂–∏ —Å–≤–æ—ó —Ñ—É—Ç–±–æ–ª—å–Ω—ñ –Ω–∞–≤–∏—á–∫–∏<br>—ñ —Å—Ç–∞–Ω—å –ø—Ä–æ—Ñ–µ—Å—ñ–æ–Ω–∞–ª–æ–º!</p>
                
                <!-- Modern Auth Form -->
                <div style="width: 100%; max-width: 300px; margin-top: 40px;">
                    <div id="authToggle" style="display: flex; background: rgba(255,255,255,0.1); border-radius: 25px; padding: 4px; margin-bottom: 30px;">
                        <button id="loginTab" onclick="switchAuthMode('login')" style="flex: 1; padding: 12px; border: none; border-radius: 20px; background: linear-gradient(135deg, #4caf50, #66bb6a); color: white; font-weight: 700; cursor: pointer; transition: all 0.3s ease;">
                            –£–≤—ñ–π—Ç–∏
                        </button>
                        <button id="registerTab" onclick="switchAuthMode('register')" style="flex: 1; padding: 12px; border: none; border-radius: 20px; background: transparent; color: rgba(255,255,255,0.7); font-weight: 700; cursor: pointer; transition: all 0.3s ease;">
                            –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è
                        </button>
                    </div>

                    <!-- Login Form -->
                    <div id="loginForm" style="display: block;">
                        <div style="margin-bottom: 20px;">
                            <input type="text" placeholder="Email –∞–±–æ —Ç–µ–ª–µ—Ñ–æ–Ω" style="width: 100%; padding: 15px; border: 2px solid rgba(255,255,255,0.4); border-radius: 15px; background: rgba(255,255,255,0.15); color: white; font-size: 16px; margin-bottom: 15px; font-weight: 500;">
                            <input type="password" placeholder="–ü–∞—Ä–æ–ª—å" style="width: 100%; padding: 15px; border: 2px solid rgba(255,255,255,0.4); border-radius: 15px; background: rgba(255,255,255,0.15); color: white; font-size: 16px; font-weight: 500;">
                        </div>
                        <button onclick="handleQuickLogin()" style="width: 100%; padding: 15px; border: none; border-radius: 25px; background: linear-gradient(135deg, #4caf50, #66bb6a); color: white; font-size: 16px; font-weight: 700; cursor: pointer; margin-bottom: 20px;">
                            –£–≤—ñ–π—Ç–∏
                        </button>
                    </div>

                    <!-- Register Form -->
                    <div id="registerForm" style="display: none;">
                        <div style="margin-bottom: 20px;">
                            <input type="text" placeholder="–Ü–º'—è —Ç–∞ –ø—Ä—ñ–∑–≤–∏—â–µ" style="width: 100%; padding: 15px; border: 2px solid rgba(255,255,255,0.4); border-radius: 15px; background: rgba(255,255,255,0.15); color: white; font-size: 16px; margin-bottom: 15px; font-weight: 500;">
                            <input type="email" placeholder="Email" style="width: 100%; padding: 15px; border: 2px solid rgba(255,255,255,0.4); border-radius: 15px; background: rgba(255,255,255,0.15); color: white; font-size: 16px; margin-bottom: 15px; font-weight: 500;">
                            <input type="password" placeholder="–ü–∞—Ä–æ–ª—å" style="width: 100%; padding: 15px; border: 2px solid rgba(255,255,255,0.4); border-radius: 15px; background: rgba(255,255,255,0.15); color: white; font-size: 16px; font-weight: 500;">
                        </div>
                        <button onclick="handleQuickRegister()" style="width: 100%; padding: 15px; border: none; border-radius: 25px; background: linear-gradient(135deg, #4caf50, #66bb6a); color: white; font-size: 16px; font-weight: 700; cursor: pointer; margin-bottom: 20px;">
                            –°—Ç–≤–æ—Ä–∏—Ç–∏ –∞–∫–∞—É–Ω—Ç
                        </button>
                    </div>

                    <!-- Social Login -->
                    <div style="margin: 20px 0; text-align: center; color: rgba(255,255,255,0.6);">–∞–±–æ</div>
                    
                    <button onclick="loginWithGoogle()" style="width: 100%; padding: 15px; border: 2px solid rgba(255,255,255,0.3); border-radius: 25px; background: rgba(255,255,255,0.1); color: white; font-size: 16px; font-weight: 600; cursor: pointer; margin-bottom: 10px; display: flex; align-items: center; justify-content: center; gap: 10px;">
                        <div style="width: 20px; height: 20px; background: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #db4437; font-weight: 700; font-size: 12px;">G</div>
                        Google
                    </button>
                    
                    <button onclick="loginWithFacebook()" style="width: 100%; padding: 15px; border: 2px solid rgba(255,255,255,0.3); border-radius: 25px; background: rgba(255,255,255,0.1); color: white; font-size: 16px; font-weight: 600; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 10px;">
                        <div style="width: 20px; height: 20px; background: #1877f2; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 12px;">f</div>
                        Facebook
                    </button>
                </div>
            </div>
        </div>

        <!-- Profile Creation Modal -->
        <div class="rating-modal" id="profileCreationModal">
            <div class="rating-content" style="max-width: 400px; max-height: 90vh; overflow-y: auto;">
                <div class="rating-title">üë§ –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—Ä–æ—Ñ—ñ–ª—é</div>
                <form onsubmit="completeProfileCreation(event)">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <div id="profilePhotoPreview" style="width: 80px; height: 80px; border-radius: 50%; background: #ddd; margin: 0 auto 10px; display: flex; align-items: center; justify-content: center; font-size: 24px; color: #666; cursor: pointer;" onclick="document.getElementById('profilePhoto').click()">
                            üì∑
                        </div>
                        <input type="file" id="profilePhoto" accept="image/*" style="display: none;" onchange="previewProfilePhoto(event)">
                        <div style="font-size: 12px; color: #666;">–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å —â–æ–± –¥–æ–¥–∞—Ç–∏ —Ñ–æ—Ç–æ</div>
                    </div>
                    
                    <div style="text-align: left; margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600;">–Ü–º'—è —Ç–∞ –ø—Ä—ñ–∑–≤–∏—â–µ</label>
                        <input type="text" id="profileName" placeholder="–ú–∞–∫—Å–∏–º –ö–æ–≤–∞–ª—å" style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 8px;">
                    </div>
                    
                    <div style="display: flex; gap: 10px; margin-bottom: 15px;">
                        <div style="flex: 1; text-align: left;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600;">–ü–æ–∑–∏—Ü—ñ—è</label>
                            <select id="profilePosition" style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 8px;">
                                <option value="">–û–±–µ—Ä—ñ—Ç—å –ø–æ–∑–∏—Ü—ñ—é</option>
                                <option value="–í–æ—Ä–æ—Ç–∞—Ä">–í–æ—Ä–æ—Ç–∞—Ä</option>
                                <option value="–ó–∞—Ö–∏—Å–Ω–∏–∫">–ó–∞—Ö–∏—Å–Ω–∏–∫</option>
                                <option value="–ü—ñ–≤–∑–∞—Ö–∏—Å–Ω–∏–∫">–ü—ñ–≤–∑–∞—Ö–∏—Å–Ω–∏–∫</option>
                                <option value="–ù–∞–ø–∞–¥–Ω–∏–∫">–ù–∞–ø–∞–¥–Ω–∏–∫</option>
                            </select>
                        </div>
                        <div style="flex: 1; text-align: left;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600;">–ú—ñ—Å—Ç–æ</label>
                            <select id="profileCity" style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 8px;">
                                <option value="">–û–±–µ—Ä—ñ—Ç—å –º—ñ—Å—Ç–æ</option>
                                <option value="–ö–∏—ó–≤">–ö–∏—ó–≤</option>
                                <option value="–õ—å–≤—ñ–≤">–õ—å–≤—ñ–≤</option>
                                <option value="–û–¥–µ—Å–∞">–û–¥–µ—Å–∞</option>
                                <option value="–•–∞—Ä–∫—ñ–≤">–•–∞—Ä–∫—ñ–≤</option>
                                <option value="–î–Ω—ñ–ø—Ä–æ">–î–Ω—ñ–ø—Ä–æ</option>
                            </select>
                        </div>
                    </div>
                    
                    <div style="text-align: left; margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600;">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                        <input type="tel" id="profilePhone" placeholder="+380501234567" style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 8px;">
                    </div>
                    
                    <div style="text-align: left; margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600;">Instagram</label>
                        <input type="text" id="profileInstagram" placeholder="@your_instagram" style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 8px;">
                    </div>
                    
                    <div style="text-align: left; margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600;">–ü—Ä–æ —Å–µ–±–µ</label>
                        <textarea id="profileBio" placeholder="–†–æ–∑–∫–∞–∂—ñ—Ç—å –ø—Ä–æ —Å–µ–±–µ..." rows="3" style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 8px; resize: vertical;"></textarea>
                    </div>
                    
                    <div class="rating-buttons">
                        <button type="submit" class="rating-btn submit">–°—Ç–≤–æ—Ä–∏—Ç–∏ –ø—Ä–æ—Ñ—ñ–ª—å</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Main App Screen -->
        <div class="screen" id="mainScreen">
            <!-- Header -->
            <div class="header">
                <div class="header-content">
                    <div class="logo-section">
                        <div class="logo"></div>
                        <div class="brand-text">
                            <div class="brand-name">FLAP</div>
                            <div class="brand-tagline">FEEL LIKE A PRO</div>
                        </div>
                    </div>
                    <div class="header-right">
                        <div class="coins-display">
                            <i class="fas fa-coins"></i>
                            <span id="coinCount">250</span>
                        </div>
                        <button class="notifications-btn" onclick="toggleNotifications()">
                            <i class="fas fa-bell"></i>
                            <div class="notification-badge" id="notificationBadge">5</div>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Navigation Tabs -->
            <div class="nav-tabs">
                <div class="nav-tab active" onclick="showSection('videos')">
                    <i class="fas fa-video"></i><br>–í—ñ–¥–µ–æ
                </div>
                <div class="nav-tab" onclick="showSection('challenges')">
                    <i class="fas fa-trophy"></i><br>–ß–µ–ª–µ–Ω–¥–∂—ñ
                </div>
                <div class="nav-tab" onclick="showSection('matches')">
                    <i class="fas fa-futbol"></i><br>–ú–∞—Ç—á—ñ
                </div>
                <div class="nav-tab" onclick="showSection('rating')">
                    <i class="fas fa-crown"></i><br>–†–µ–π—Ç–∏–Ω–≥
                </div>
                <div class="nav-tab" onclick="showSection('profile')">
                    <i class="fas fa-user"></i><br>–ü—Ä–æ—Ñ—ñ–ª—å
                </div>
            </div>

            <!-- Videos Section -->
            <div class="content-section active" id="videos">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <h3 style="font-size: 18px; margin: 0;">üìπ –í—ñ–¥–µ–æ</h3>
                    <button class="create-video-btn" onclick="showCreateVideo()" style="padding: 8px 15px; background: linear-gradient(45deg, #4caf50, #66bb6a); border: none; border-radius: 20px; color: white; font-weight: 600; font-size: 12px; cursor: pointer;">
                        ‚ûï –°—Ç–≤–æ—Ä–∏—Ç–∏ –≤—ñ–¥–µ–æ
                    </button>
                </div>
                
                <!-- Video Filters -->
                <div style="margin-bottom: 15px;">
                    <h4 style="color: white; margin-bottom: 10px; font-size: 14px;">üîç –§—ñ–ª—å—Ç—Ä–∏</h4>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 10px;">
                        <select id="cityFilter" onchange="applyVideoFilters()" style="padding: 8px; border-radius: 10px; border: 2px solid rgba(255,255,255,0.3); background: rgba(255,255,255,0.9); color: #333; font-size: 12px;">
                            <option value="">üèôÔ∏è –í—Å—ñ –º—ñ—Å—Ç–∞</option>
                            <option value="–ö–∏—ó–≤">–ö–∏—ó–≤</option>
                            <option value="–õ—å–≤—ñ–≤">–õ—å–≤—ñ–≤</option>
                            <option value="–û–¥–µ—Å–∞">–û–¥–µ—Å–∞</option>
                            <option value="–•–∞—Ä–∫—ñ–≤">–•–∞—Ä–∫—ñ–≤</option>
                            <option value="–î–Ω—ñ–ø—Ä–æ">–î–Ω—ñ–ø—Ä–æ</option>
                        </select>
                        <select id="categoryFilter" onchange="applyVideoFilters()" style="padding: 8px; border-radius: 10px; border: 2px solid rgba(255,255,255,0.3); background: rgba(255,255,255,0.9); color: #333; font-size: 12px;">
                            <option value="">‚öΩ –í—Å—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó</option>
                            <option value="tricks">üéØ –§—ñ–Ω—Ç–∏</option>
                            <option value="accuracy">‚öΩ –¢–æ—á–Ω—ñ—Å—Ç—å</option>
                            <option value="speed">üèÉ –®–≤–∏–¥–∫—ñ—Å—Ç—å</option>
                            <option value="top">üî• –¢–æ–ø</option>
                        </select>
                    </div>
                    <select id="ratingFilter" onchange="applyVideoFilters()" style="width: 100%; padding: 8px; border-radius: 10px; border: 2px solid rgba(255,255,255,0.3); background: rgba(255,255,255,0.9); color: #333; font-size: 12px;">
                        <option value="">‚≠ê –í—Å—ñ —Ä–µ–π—Ç–∏–Ω–≥–∏</option>
                        <option value="4.0">‚≠ê 4.0+</option>
                        <option value="4.5">‚≠ê 4.5+</option>
                    </select>
                </div>
                
                <div class="challenge-video-item">
                    <div class="challenge-video-header">
                        <h4 class="challenge-video-title">–ö—Ä–∞—â–∏–π —Ñ—ñ–Ω—Ç —Ç–∏–∂–Ω—è</h4>
                        <div class="challenge-video-meta">–ü—Ä–∏–∑–æ–≤–∏–π —Ñ–æ–Ω–¥: 200‚Ç¥ ‚Ä¢ –£—á–∞—Å–Ω–∏–∫—ñ–≤: 12</div>
                    </div>
                    <div class="video-thumbnail" onclick="playVideo('challenge1_video1')">
                        <i class="fas fa-play-circle"></i>
                        <div class="play-button">
                            <i class="fas fa-play"></i>
                        </div>
                    </div>
                    <div class="video-voting">
                        <div style="display: flex; align-items: center; gap: 10px; flex: 1;">
                            <span style="font-weight: 600; font-size: 14px;">–í–∞—à–∞ –æ—Ü—ñ–Ω–∫–∞:</span>
                            <input type="range" id="slider_challenge1_video1" min="0" max="5" step="0.01" value="0" onchange="updateVoteValue('challenge1_video1', this.value)" style="flex: 1; height: 6px; border-radius: 5px; background: #ddd; outline: none; -webkit-appearance: none;">
                            <span id="vote_challenge1_video1" style="font-weight: 700; color: #ff9800; min-width: 35px;">0.0</span>
                            <button onclick="voteForVideo('challenge1_video1', event)" style="padding: 6px 12px; background: #4caf50; color: white; border: none; border-radius: 12px; font-size: 12px; font-weight: 600; cursor: pointer; margin-left: 5px;">–ì–æ–ª–æ—Å</button>
                        </div>
                        <div class="video-score">‚≠ê 4.1</div>
                    </div>
                    <div style="padding: 0 15px 15px; color: #333;">
                        <strong class="video-author" onclick="showPlayerProfile('andriy_k')">–ê–Ω–¥—Ä—ñ–π –ö–æ–≤–∞–ª–µ–Ω–∫–æ</strong> ‚Ä¢ –ü—ñ–≤–∑–∞—Ö–∏—Å–Ω–∏–∫ ‚Ä¢ –ö–∏—ó–≤<br>
                        <small style="color: #666;">2 –≥–æ–¥–∏–Ω–∏ —Ç–æ–º—É ‚Ä¢ –ì—ñ–¥—Ä–æ–ø–∞—Ä–∫</small>
                        
                        <!-- Comments Section -->
                        <div style="margin-top: 15px; border-top: 1px solid #eee; padding-top: 15px;">
                            <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                                <i class="fas fa-comments" style="color: #666;"></i>
                                <span style="font-weight: 600; font-size: 14px;">–ö–æ–º–µ–Ω—Ç–∞—Ä—ñ (3)</span>
                                <button onclick="toggleComments('challenge1_video1')" style="margin-left: auto; background: none; border: none; color: #4caf50; font-size: 12px; cursor: pointer;">
                                    <i class="fas fa-chevron-down"></i>
                                </button>
                            </div>
                            <div id="comments_challenge1_video1" style="display: none;">
                                <div style="display: flex; gap: 8px; margin-bottom: 10px;">
                                    <div style="width: 25px; height: 25px; background: #4caf50; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 10px; font-weight: 700;">–ú–ö</div>
                                    <div style="flex: 1;">
                                        <input type="text" placeholder="–î–æ–¥–∞—Ç–∏ –∫–æ–º–µ–Ω—Ç–∞—Ä..." onkeypress="addComment(event, 'challenge1_video1')" style="width: 100%; padding: 8px 12px; border: 1px solid #ddd; border-radius: 15px; font-size: 12px;">
                                    </div>
                                </div>
                                <div class="comment" style="display: flex; gap: 8px; margin-bottom: 8px; padding: 8px; background: #f8f8f8; border-radius: 8px;">
                                    <div style="width: 25px; height: 25px; background: #2196f3; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 10px; font-weight: 700;">–û–ú</div>
                                    <div style="flex: 1;">
                                        <div style="font-weight: 600; font-size: 12px;">–û–ª–µ–∫—Å–∞–Ω–¥—Ä –ú.</div>
                                        <div style="font-size: 11px; color: #666;">–ö—Ä—É—Ç–∏–π —Ñ—ñ–Ω—Ç! üî•</div>
                                        <div style="font-size: 10px; color: #999; margin-top: 2px;">1 –≥–æ–¥ —Ç–æ–º—É</div>
                                    </div>
                                </div>
                                <div class="comment" style="display: flex; gap: 8px; margin-bottom: 8px; padding: 8px; background: #f8f8f8; border-radius: 8px;">
                                    <div style="width: 25px; height: 25px; background: #ff9800; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 10px; font-weight: 700;">–í–°</div>
                                    <div style="flex: 1;">
                                        <div style="font-weight: 600; font-size: 12px;">–í—ñ—Ç–∞–ª—ñ–π –°.</div>
                                        <div style="font-size: 11px; color: #666;">–¢—Ä–µ–±–∞ —Ç–∞–∫–µ —Å–ø—Ä–æ–±—É–≤–∞—Ç–∏ –Ω–∞ —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—ñ!</div>
                                        <div style="font-size: 10px; color: #999; margin-top: 2px;">3 –≥–æ–¥ —Ç–æ–º—É</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="challenge-video-item">
                    <div class="challenge-video-header">
                        <h4 class="challenge-video-title">–¢–æ—á–Ω—ñ—Å—Ç—å —É–¥–∞—Ä—ñ–≤</h4>
                        <div class="challenge-video-meta">–ü—Ä–∏–∑–æ–≤–∏–π —Ñ–æ–Ω–¥: 150‚Ç¥ ‚Ä¢ –£—á–∞—Å–Ω–∏–∫—ñ–≤: 8</div>
                    </div>
                    <div class="video-thumbnail" onclick="playVideo('challenge1_video2')">
                        <i class="fas fa-futbol"></i>
                        <div class="play-button">
                            <i class="fas fa-play"></i>
                        </div>
                    </div>
                    <div class="video-voting">
                        <div style="display: flex; align-items: center; gap: 10px; flex: 1;">
                            <span style="font-weight: 600; font-size: 14px;">–í–∞—à–∞ –æ—Ü—ñ–Ω–∫–∞:</span>
                            <input type="range" id="slider_challenge1_video2" min="0" max="5" step="0.01" value="0" onchange="updateVoteValue('challenge1_video2', this.value)" style="flex: 1; height: 6px; border-radius: 5px; background: #ddd; outline: none; -webkit-appearance: none;">
                            <span id="vote_challenge1_video2" style="font-weight: 700; color: #ff9800; min-width: 35px;">0.0</span>
                            <button onclick="voteForVideo('challenge1_video2', event)" style="padding: 6px 12px; background: #4caf50; color: white; border: none; border-radius: 12px; font-size: 12px; font-weight: 600; cursor: pointer; margin-left: 5px;">–ì–æ–ª–æ—Å</button>
                        </div>
                        <div class="video-score">‚≠ê 4.2</div>
                    </div>
                    <div style="padding: 0 15px 15px; color: #333;">
                        <strong class="video-author" onclick="showPlayerProfile('petro_m')">–ü–µ—Ç—Ä–æ –ú–µ–ª—å–Ω–∏–∫</strong> ‚Ä¢ –ù–∞–ø–∞–¥–Ω–∏–∫ ‚Ä¢ –õ—å–≤—ñ–≤<br>
                        <small style="color: #666;">4 –≥–æ–¥–∏–Ω–∏ —Ç–æ–º—É ‚Ä¢ –°—Ç–∞–¥—ñ–æ–Ω "–î–∏–Ω–∞–º–æ"</small>
                    </div>
                </div>

                <div class="challenge-video-item">
                    <div class="challenge-video-header">
                        <h4 class="challenge-video-title">–®–≤–∏–¥–∫—ñ—Å–Ω–∏–π –¥—Ä–∏–±–ª—ñ–Ω–≥</h4>
                        <div class="challenge-video-meta">–ü—Ä–∏–∑–æ–≤–∏–π —Ñ–æ–Ω–¥: 100‚Ç¥ ‚Ä¢ –£—á–∞—Å–Ω–∏–∫—ñ–≤: 15</div>
                    </div>
                    <div class="video-thumbnail" onclick="playVideo('challenge2_video1')">
                        <i class="fas fa-bullseye"></i>
                        <div class="play-button">
                            <i class="fas fa-play"></i>
                        </div>
                    </div>
                    <div class="video-voting">
                        <div style="display: flex; align-items: center; gap: 10px; flex: 1;">
                            <span style="font-weight: 600; font-size: 14px;">–í–∞—à–∞ –æ—Ü—ñ–Ω–∫–∞:</span>
                            <input type="range" id="slider_challenge2_video1" min="0" max="5" step="0.01" value="0" onchange="updateVoteValue('challenge2_video1', this.value)" style="flex: 1; height: 6px; border-radius: 5px; background: #ddd; outline: none; -webkit-appearance: none;">
                            <span id="vote_challenge2_video1" style="font-weight: 700; color: #ff9800; min-width: 35px;">0.0</span>
                            <button onclick="voteForVideo('challenge2_video1', event)" style="padding: 6px 12px; background: #4caf50; color: white; border: none; border-radius: 12px; font-size: 12px; font-weight: 600; cursor: pointer; margin-left: 5px;">–ì–æ–ª–æ—Å</button>
                        </div>
                        <div class="video-score">‚≠ê 3.8</div>
                    </div>
                    <div style="padding: 0 15px 15px; color: #333;">
                        <strong class="video-author" onclick="showPlayerProfile('dmitro_k')">–î–º–∏—Ç—Ä–æ –ö–æ–≤–∞–ª–µ–Ω–∫–æ</strong> ‚Ä¢ –í–æ—Ä–æ—Ç–∞—Ä ‚Ä¢ –û–¥–µ—Å–∞<br>
                        <small style="color: #666;">6 –≥–æ–¥–∏–Ω —Ç–æ–º—É ‚Ä¢ –ü–∞—Ä–∫ –®–µ–≤—á–µ–Ω–∫–∞</small>
                    </div>
                </div>
            </div>

            <!-- Matches Section - COMPLETELY REDESIGNED -->
            <div class="content-section" id="matches">
                <!-- Match Tabs -->
                <div style="display: flex; margin-bottom: 20px; background: rgba(255,255,255,0.1); border-radius: 25px; padding: 4px;">
                    <button id="availableTab" onclick="switchMatchTab('available')" style="flex: 1; padding: 10px; background: linear-gradient(135deg, #4caf50, #66bb6a); color: white; border: none; border-radius: 20px; font-weight: 600; cursor: pointer; transition: all 0.3s;">
                        üåü –î–æ—Å—Ç—É–ø–Ω—ñ –º–∞—Ç—á—ñ
                    </button>
                    <button id="myMatchesTab" onclick="switchMatchTab('my')" style="flex: 1; padding: 10px; background: transparent; color: rgba(255,255,255,0.7); border: none; border-radius: 20px; font-weight: 600; cursor: pointer; transition: all 0.3s;">
                        üë§ –ú–æ—ó –º–∞—Ç—á—ñ
                    </button>
                </div>

                <!-- Available Matches Tab -->
                <div id="availableMatches" style="display: block;">
                    <!-- Create Match Button -->
                    <div style="margin-bottom: 20px;">
                        <button onclick="showCreateMatchModal()" style="width: 100%; padding: 12px; background: linear-gradient(135deg, #4caf50, #66bb6a); color: white; border: none; border-radius: 20px; font-weight: 700; cursor: pointer;">
                            ‚ûï –°—Ç–≤–æ—Ä–∏—Ç–∏ –º–∞—Ç—á
                        </button>
                    </div>
                
                <!-- Search -->
                <div style="position: relative; margin-bottom: 15px;">
                    <input type="text" placeholder="üîç –ü–æ—à—É–∫ –º–∞—Ç—á—ñ–≤..." onkeyup="searchMatches(this.value)" style="width: 100%; padding: 12px 40px 12px 15px; border: 2px solid rgba(255,255,255,0.3); border-radius: 20px; background: rgba(255,255,255,0.1); color: white; font-size: 14px;">
                    <i class="fas fa-search" style="position: absolute; right: 15px; top: 50%; transform: translateY(-50%); color: rgba(255,255,255,0.6);"></i>
                </div>
                
                <!-- Advanced Filters -->
                <div style="background: rgba(255,255,255,0.1); border-radius: 15px; padding: 15px; margin-bottom: 20px;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 10px;">
                        <select id="cityFilterMatch" onchange="applyMatchFilters()" style="padding: 8px; border-radius: 10px; border: none; background: rgba(255,255,255,0.9); color: #333; font-size: 12px;">
                            <option value="">üèôÔ∏è –í—Å—ñ –º—ñ—Å—Ç–∞</option>
                            <option value="–ö–∏—ó–≤">–ö–∏—ó–≤</option>
                            <option value="–õ—å–≤—ñ–≤">–õ—å–≤—ñ–≤</option>
                            <option value="–û–¥–µ—Å–∞">–û–¥–µ—Å–∞</option>
                            <option value="–•–∞—Ä–∫—ñ–≤">–•–∞—Ä–∫—ñ–≤</option>
                            <option value="–î–Ω—ñ–ø—Ä–æ">–î–Ω—ñ–ø—Ä–æ</option>
                        </select>
                        <select id="formatFilterMatch" onchange="applyMatchFilters()" style="padding: 8px; border-radius: 10px; border: none; background: rgba(255,255,255,0.9); color: #333; font-size: 12px;">
                            <option value="">üë• –í—Å—ñ —Ñ–æ—Ä–º–∞—Ç–∏</option>
                            <option value="5x5">5 –Ω–∞ 5</option>
                            <option value="7x7">7 –Ω–∞ 7</option>
                            <option value="11x11">11 –Ω–∞ 11</option>
                        </select>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                        <select id="timeFilterMatch" onchange="applyMatchFilters()" style="padding: 8px; border-radius: 10px; border: none; background: rgba(255,255,255,0.9); color: #333; font-size: 12px;">
                            <option value="">üïê –ë—É–¥—å-–∫–æ–ª–∏</option>
                            <option value="today">–°—å–æ–≥–æ–¥–Ω—ñ</option>
                            <option value="tomorrow">–ó–∞–≤—Ç—Ä–∞</option>
                            <option value="week">–¶–µ–π —Ç–∏–∂–¥–µ–Ω—å</option>
                        </select>
                        <select id="priceFilterMatch" onchange="applyMatchFilters()" style="padding: 8px; border-radius: 10px; border: none; background: rgba(255,255,255,0.9); color: #333; font-size: 12px;">
                            <option value="">üí∞ –ë—É–¥—å-—è–∫–∞ —Ü—ñ–Ω–∞</option>
                            <option value="free">–ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ</option>
                            <option value="cheap">–î–æ 50‚Ç¥</option>
                            <option value="medium">50-100‚Ç¥</option>
                            <option value="expensive">100‚Ç¥+</option>
                        </select>
                    </div>
                </div>
                
                <!-- Available Matches List -->
                <div id="matchesList">
                    <!-- Match 1 -->
                    <div class="match-item" style="background: rgba(255,255,255,0.9); border-radius: 15px; margin-bottom: 15px; overflow: hidden; color: #333; box-shadow: 0 6px 20px rgba(0,0,0,0.1); cursor: pointer;" onclick="showMatchDetails('match1')">
                        <div style="padding: 15px; background: linear-gradient(135deg, #4caf50, #66bb6a); color: white;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px;">
                                <div style="font-size: 16px; font-weight: 700;">‚öΩ –í–µ—á—ñ—Ä–Ω—ñ–π —Ñ—É—Ç–±–æ–ª</div>
                                <div style="background: rgba(255,255,255,0.2); padding: 2px 8px; border-radius: 10px; font-size: 11px;">7x7</div>
                            </div>
                            <div style="font-size: 12px; opacity: 0.9;">–°—å–æ–≥–æ–¥–Ω—ñ 19:00 ‚Ä¢ –ì—ñ–¥—Ä–æ–ø–∞—Ä–∫, –ø–æ–ª–µ ‚Ññ2 ‚Ä¢ 50‚Ç¥</div>
                        </div>
                        <div style="padding: 15px;">
                            <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                                <div style="width: 40px; height: 40px; background: linear-gradient(135deg, #4caf50, #2e7d32); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 14px; font-weight: 700;">–ê–ö</div>
                                <div style="flex: 1;">
                                    <div style="font-weight: 600; font-size: 14px;">–ê–Ω–¥—Ä—ñ–π –ö–æ–≤–∞–ª–µ–Ω–∫–æ</div>
                                    <div style="font-size: 12px; color: #666;">–û—Ä–≥–∞–Ω—ñ–∑–∞—Ç–æ—Ä ‚Ä¢ ‚≠ê 4.8 ‚Ä¢ –ö–∏—ó–≤</div>
                                </div>
                                <div style="text-align: right;">
                                    <div style="font-size: 12px; color: #4caf50; font-weight: 600;">5/14 –≥—Ä–∞–≤—Ü—ñ–≤</div>
                                    <div style="font-size: 10px; color: #666;">–ø–æ—Ç—Ä—ñ–±–Ω–æ 9</div>
                                </div>
                            </div>
                            <div style="margin-bottom: 15px; font-size: 13px; color: #666;">
                                "–ó–±–∏—Ä–∞—î–º–æ—Å—è –ø–æ–≥—Ä–∞—Ç–∏ —É —Ñ—É—Ç–±–æ–ª! –®—É–∫–∞—î–º–æ –∞–∫—Ç–∏–≤–Ω–∏—Ö –≥—Ä–∞–≤—Ü—ñ–≤. –†—ñ–≤–µ–Ω—å –Ω–µ –≤–∞–∂–ª–∏–≤–∏–π, –≥–æ–ª–æ–≤–Ω–µ - –±–∞–∂–∞–Ω–Ω—è –≥—Ä–∞—Ç–∏!"
                            </div>
                            <button onclick="joinMatch('match1')" style="width: 100%; padding: 10px; background: linear-gradient(135deg, #4caf50, #66bb6a); color: white; border: none; border-radius: 20px; font-weight: 600; cursor: pointer;">
                                –ü—Ä–∏—î–¥–Ω–∞—Ç–∏—Å—è –¥–æ –º–∞—Ç—á—É
                            </button>
                        </div>
                    </div>
                    
                    <!-- Match 2 -->
                    <div class="match-item" style="background: rgba(255,255,255,0.9); border-radius: 15px; margin-bottom: 15px; overflow: hidden; color: #333; box-shadow: 0 6px 20px rgba(0,0,0,0.1); cursor: pointer;" onclick="showMatchDetails('match2')">
                        <div style="padding: 15px; background: linear-gradient(135deg, #ff9800, #ffb74d); color: white;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px;">
                                <div style="font-size: 16px; font-weight: 700;">üèÜ –¢—É—Ä–Ω—ñ—Ä –≤–∏—Ö—ñ–¥–Ω–æ–≥–æ –¥–Ω—è</div>
                                <div style="background: rgba(255,255,255,0.2); padding: 2px 8px; border-radius: 10px; font-size: 11px;">11x11</div>
                            </div>
                            <div style="font-size: 12px; opacity: 0.9;">–ó–∞–≤—Ç—Ä–∞ 10:00 ‚Ä¢ –°—Ç–∞–¥—ñ–æ–Ω "–î–∏–Ω–∞–º–æ" ‚Ä¢ 100‚Ç¥</div>
                        </div>
                        <div style="padding: 15px;">
                            <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                                <div style="width: 40px; height: 40px; background: linear-gradient(135deg, #ff9800, #f57c00); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 14px; font-weight: 700;">–ü–ú</div>
                                <div style="flex: 1;">
                                    <div style="font-weight: 600; font-size: 14px;">–ü–µ—Ç—Ä–æ –ú–µ–ª—å–Ω–∏–∫</div>
                                    <div style="font-size: 12px; color: #666;">–û—Ä–≥–∞–Ω—ñ–∑–∞—Ç–æ—Ä ‚Ä¢ ‚≠ê 4.9 ‚Ä¢ –õ—å–≤—ñ–≤</div>
                                </div>
                                <div style="text-align: right;">
                                    <div style="font-size: 12px; color: #ff9800; font-weight: 600;">18/22 –≥—Ä–∞–≤—Ü—è</div>
                                    <div style="font-size: 10px; color: #666;">–ø–æ—Ç—Ä—ñ–±–Ω–æ 4</div>
                                </div>
                            </div>
                            <div style="margin-bottom: 15px; font-size: 13px; color: #666;">
                                "–¢—É—Ä–Ω—ñ—Ä –Ω–∞ –∫—É–±–æ–∫! –í–∏—Å–æ–∫–∏–π —Ä—ñ–≤–µ–Ω—å –≥—Ä–∏, –¥–æ—Å–≤—ñ–¥—á–µ–Ω—ñ –≥—Ä–∞–≤—Ü—ñ. –ü—Ä–∏–∑–æ–≤–∏–π —Ñ–æ–Ω–¥ 2000‚Ç¥!"
                            </div>
                            <button onclick="joinMatch('match2')" style="width: 100%; padding: 10px; background: linear-gradient(135deg, #ff9800, #ffb74d); color: white; border: none; border-radius: 20px; font-weight: 600; cursor: pointer;">
                                –ü—Ä–∏—î–¥–Ω–∞—Ç–∏—Å—è –¥–æ –º–∞—Ç—á—É
                            </button>
                        </div>
                    </div>
                    
                    <!-- Match 3 -->
                    <div class="match-item" style="background: rgba(255,255,255,0.9); border-radius: 15px; margin-bottom: 15px; overflow: hidden; color: #333; box-shadow: 0 6px 20px rgba(0,0,0,0.1); cursor: pointer;" onclick="showMatchDetails('match3')">
                        <div style="padding: 15px; background: linear-gradient(135deg, #9c27b0, #ba68c8); color: white;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px;">
                                <div style="font-size: 16px; font-weight: 700;">‚ö° –®–≤–∏–¥–∫–∞ –≥—Ä–∞</div>
                                <div style="background: rgba(255,255,255,0.2); padding: 2px 8px; border-radius: 10px; font-size: 11px;">5x5</div>
                            </div>
                            <div style="font-size: 12px; opacity: 0.9;">–°—å–æ–≥–æ–¥–Ω—ñ 17:30 ‚Ä¢ –°–ø–æ—Ä—Ç–∫–æ–º–ø–ª–µ–∫—Å "–ê—Ä–µ–Ω–∞" ‚Ä¢ –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ</div>
                        </div>
                        <div style="padding: 15px;">
                            <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                                <div style="width: 40px; height: 40px; background: linear-gradient(135deg, #9c27b0, #7b1fa2); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 14px; font-weight: 700;">–û–°</div>
                                <div style="flex: 1;">
                                    <div style="font-weight: 600; font-size: 14px;">–û–ª–µ–≥ –°–µ–º–µ–Ω–æ–≤</div>
                                    <div style="font-size: 12px; color: #666;">–û—Ä–≥–∞–Ω—ñ–∑–∞—Ç–æ—Ä ‚Ä¢ ‚≠ê 4.6 ‚Ä¢ –û–¥–µ—Å–∞</div>
                                </div>
                                <div style="text-align: right;">
                                    <div style="font-size: 12px; color: #9c27b0; font-weight: 600;">7/10 –≥—Ä–∞–≤—Ü—ñ–≤</div>
                                    <div style="font-size: 10px; color: #666;">–ø–æ—Ç—Ä—ñ–±–Ω–æ 3</div>
                                </div>
                            </div>
                            <div style="margin-bottom: 15px; font-size: 13px; color: #666;">
                                "–®–≤–∏–¥–∫–∞ –≥—Ä–∞ –ø—ñ—Å–ª—è —Ä–æ–±–æ—Ç–∏. –§—É—Ç–∑–∞–ª, 45 —Ö–≤–∏–ª–∏–Ω. –í—Å—ñ —Ä—ñ–≤–Ω—ñ welcome!"
                            </div>
                            <button onclick="joinMatch('match3')" style="width: 100%; padding: 10px; background: linear-gradient(135deg, #9c27b0, #ba68c8); color: white; border: none; border-radius: 20px; font-weight: 600; cursor: pointer;">
                                –ü—Ä–∏—î–¥–Ω–∞—Ç–∏—Å—è –¥–æ –º–∞—Ç—á—É
                            </button>
                        </div>
                    </div>
                </div>
                <!-- Create Match Modal -->
                <div id="createMatchModal" class="rating-modal">
                    <div class="rating-content" style="max-width: 400px; max-height: 90vh; overflow-y: auto;">
                        <div class="rating-title">‚öΩ –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π –º–∞—Ç—á</div>
                        <form onsubmit="createNewMatch(event)">
                            <div style="text-align: left; margin-bottom: 15px;">
                                <label style="display: block; margin-bottom: 5px; font-weight: 600;">–ù–∞–∑–≤–∞ –º–∞—Ç—á—É</label>
                                <input type="text" placeholder="–í–µ—á—ñ—Ä–Ω—ñ–π —Ñ—É—Ç–±–æ–ª" style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 8px;">
                            </div>
                            
                            <div style="display: flex; gap: 10px; margin-bottom: 15px;">
                                <div style="flex: 1; text-align: left;">
                                    <label style="display: block; margin-bottom: 5px; font-weight: 600;">–î–∞—Ç–∞</label>
                                    <input type="date" style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 8px;">
                                </div>
                                <div style="flex: 1; text-align: left;">
                                    <label style="display: block; margin-bottom: 5px; font-weight: 600;">–ß–∞—Å</label>
                                    <input type="time" style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 8px;">
                                </div>
                            </div>
                            
                            <div style="text-align: left; margin-bottom: 15px;">
                                <label style="display: block; margin-bottom: 5px; font-weight: 600;">–ú—ñ—Å—Ü–µ</label>
                                <input type="text" placeholder="–ì—ñ–¥—Ä–æ–ø–∞—Ä–∫, –ø–æ–ª–µ ‚Ññ2" style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 8px;">
                            </div>
                            
                            <div style="display: flex; gap: 10px; margin-bottom: 15px;">
                                <div style="flex: 1; text-align: left;">
                                    <label style="display: block; margin-bottom: 5px; font-weight: 600;">–§–æ—Ä–º–∞—Ç</label>
                                    <select style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 8px;">
                                        <option value="5x5">5 –Ω–∞ 5</option>
                                        <option value="7x7" selected>7 –Ω–∞ 7</option>
                                        <option value="11x11">11 –Ω–∞ 11</option>
                                    </select>
                                </div>
                                <div style="flex: 1; text-align: left;">
                                    <label style="display: block; margin-bottom: 5px; font-weight: 600;">–í–∞—Ä—Ç—ñ—Å—Ç—å (‚Ç¥)</label>
                                    <input type="number" placeholder="50" min="0" style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 8px;">
                                </div>
                            </div>
                            
                            <div style="text-align: left; margin-bottom: 20px;">
                                <label style="display: block; margin-bottom: 5px; font-weight: 600;">–û–ø–∏—Å</label>
                                <textarea placeholder="–û–ø–∏—à—ñ—Ç—å –¥–µ—Ç–∞–ª—ñ –º–∞—Ç—á—É..." rows="3" style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 8px; resize: vertical;"></textarea>
                            </div>
                            
                            <div class="rating-buttons">
                                <button type="button" onclick="closeCreateMatchModal()" class="rating-btn skip">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
                                <button type="submit" class="rating-btn submit">–°—Ç–≤–æ—Ä–∏—Ç–∏ –º–∞—Ç—á</button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Match Management moved to myMatches section -->
                    


                    <!-- Match Info -->
                    <div style="background: rgba(255,255,255,0.9); border-radius: 15px; margin-bottom: 20px; color: #333; overflow: hidden; box-shadow: 0 6px 20px rgba(0,0,0,0.1);">
                        <div style="padding: 15px; background: linear-gradient(135deg, #2196f3, #64b5f6); color: white;">
                            <div style="font-size: 16px; font-weight: 700;">‚ÑπÔ∏è –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –º–∞—Ç—á</div>
                            <div style="font-size: 12px; opacity: 0.9;">–î–µ—Ç–∞–ª—ñ —Ç–∞ —É—á–∞—Å–Ω–∏–∫–∏</div>
                        </div>
                        <div style="padding: 15px;">
                            <div style="text-align: center; font-size: 14px; color: #666; margin-bottom: 15px;">
                                üìç <strong>–õ–æ–∫–∞—Ü—ñ—è:</strong> –°—Ç–∞–¥—ñ–æ–Ω "–î–∏–Ω–∞–º–æ"<br>
                                ‚è∞ <strong>–ß–∞—Å:</strong> 18:00 - 20:00<br>
                                üë• <strong>–£—á–∞—Å–Ω–∏–∫–∏:</strong> 8/10 –≥—Ä–∞–≤—Ü—ñ–≤<br>
                                üí∞ <strong>–í–∞—Ä—Ç—ñ—Å—Ç—å:</strong> 100‚Ç¥ –∑–∞ –≥—Ä—É
                            </div>
                            <div style="text-align: center;">
                                <button onclick="showMatchDetails('demo_match')" style="padding: 10px 20px; background: linear-gradient(135deg, #2196f3, #64b5f6); color: white; border: none; border-radius: 15px; font-weight: 600; cursor: pointer;">
                                    üìã –î–µ—Ç–∞–ª—ñ –º–∞—Ç—á—É
                                </button>
                            </div>
                        </div>
                    </div>


                </div>
            </div>

                    <!-- Challenges Section -->
        <div class="content-section" id="challenges">
            <h3 style="margin-bottom: 15px; font-size: 18px;">üèÜ –ê–∫—Ç–∏–≤–Ω—ñ —á–µ–ª–µ–Ω–¥–∂—ñ</h3>
                
                <!-- Create Challenge Button -->
                <div class="challenge-create" style="background: rgba(255,255,255,0.9); border-radius: 15px; padding: 15px; margin-bottom: 20px; color: #333; text-align: center;">
                    <button onclick="showCreateChallenge()" style="width: 100%; padding: 12px; background: linear-gradient(135deg, #ff9800, #ffb74d); color: white; border: none; border-radius: 20px; font-weight: 700; cursor: pointer;">
                        ‚ûï –°—Ç–≤–æ—Ä–∏—Ç–∏ —á–µ–ª–µ–Ω–¥–∂
                    </button>
                </div>

                <!-- Create Challenge Modal -->
                <div id="createChallengeModal" class="rating-modal">
                    <div class="rating-content" style="max-width: 400px;">
                        <div class="rating-title">üèÜ –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π —á–µ–ª–µ–Ω–¥–∂</div>
                        <form onsubmit="createChallenge(event)">
                            <div style="text-align: left; margin-bottom: 15px;">
                                <label style="display: block; margin-bottom: 5px; font-weight: 600;">–ù–∞–∑–≤–∞ —á–µ–ª–µ–Ω–¥–∂—É</label>
                                <input type="text" placeholder="–ö—Ä–∞—â–∏–π –≥–æ–ª –º—ñ—Å—è—Ü—è" style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 8px;" required>
                            </div>
                            <div style="text-align: left; margin-bottom: 15px;">
                                <label style="display: block; margin-bottom: 5px; font-weight: 600;">–û–ø–∏—Å</label>
                                <textarea placeholder="–ü–æ–∫–∞–∂–∏ –Ω–∞–π–∫—Ä–∞—â–∏–π –≥–æ–ª –∑–∞ —Ü–µ–π –º—ñ—Å—è—Ü—å!" rows="3" style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 8px; resize: vertical;" required></textarea>
                            </div>
                            <div style="text-align: left; margin-bottom: 15px;">
                                <label style="display: block; margin-bottom: 5px; font-weight: 600;">üìπ –í–∞—à–µ –≤—ñ–¥–µ–æ-–ø—Ä–∏–∫–ª–∞–¥</label>
                                <div style="position: relative; border: 2px dashed #ddd; border-radius: 8px; padding: 20px; text-align: center; cursor: pointer; background: #f9f9f9;" onclick="document.getElementById('challengeVideoFile').click()">
                                    <i class="fas fa-video" style="font-size: 24px; color: #666; margin-bottom: 10px;"></i>
                                    <div style="font-size: 14px; color: #666;">–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –≤—ñ–¥–µ–æ</div>
                                    <div style="font-size: 12px; color: #999; margin-top: 5px;">MP4, MOV, AVI (–º–∞–∫—Å. 50MB)</div>
                                    <input type="file" id="challengeVideoFile" accept="video/*" style="display: none;">
                                </div>
                            </div>
                            <div style="display: flex; gap: 10px; margin-bottom: 15px;">
                                <div style="flex: 1; text-align: left;">
                                    <label style="display: block; margin-bottom: 5px; font-weight: 600;">–í–Ω–µ—Å–æ–∫ (‚Ç¥)</label>
                                    <input type="number" placeholder="50" min="10" onchange="calculatePrizePool(this.value)" style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 8px;" required>
                                    <div style="font-size: 12px; color: #666; margin-top: 5px;">
                                        –ü—Ä–∏–∑–æ–≤–∏–π —Ñ–æ–Ω–¥: <span id="prizePoolDisplay">0‚Ç¥</span><br>
                                        1-–µ –º—ñ—Å—Ü–µ: 50% | 2-–µ: 30% | 3-—î: 20%
                                    </div>
                                </div>
                                <div style="flex: 1; text-align: left;">
                                    <label style="display: block; margin-bottom: 5px; font-weight: 600;">–¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å (–¥–Ω—ñ–≤)</label>
                                    <input type="number" placeholder="7" min="1" max="30" style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 8px;" required>
                                </div>
                            </div>
                            <div style="text-align: left; margin-bottom: 15px;">
                                <label style="display: block; margin-bottom: 5px; font-weight: 600;">–ó–∞–ø—Ä–æ—Å–∏—Ç–∏</label>
                                <div style="display: flex; gap: 5px; flex-wrap: wrap; margin-bottom: 10px;">
                                    <button type="button" onclick="showFriendsSelector()" class="invite-btn" style="padding: 5px 10px; background: #4caf50; color: white; border: 1px solid #4caf50; border-radius: 15px; font-size: 12px; cursor: pointer; font-weight: 600;">üë• –í–∏–±—Ä–∞—Ç–∏ –¥—Ä—É–∑—ñ–≤</button>
                                    <button type="button" onclick="toggleInvite('kyiv')" class="invite-btn" style="padding: 5px 10px; background: #f5f5f5; border: 1px solid #ddd; border-radius: 15px; font-size: 12px; cursor: pointer;">üèôÔ∏è –ö–∏—ó–≤</button>
                                    <button type="button" onclick="toggleInvite('lviv')" class="invite-btn" style="padding: 5px 10px; background: #f5f5f5; border: 1px solid #ddd; border-radius: 15px; font-size: 12px; cursor: pointer;">ü¶Å –õ—å–≤—ñ–≤</button>
                                    <button type="button" onclick="toggleInvite('odesa')" class="invite-btn" style="padding: 5px 10px; background: #f5f5f5; border: 1px solid #ddd; border-radius: 15px; font-size: 12px; cursor: pointer;">üåä –û–¥–µ—Å–∞</button>
                                    <button type="button" onclick="toggleInvite('all')" class="invite-btn" style="padding: 5px 10px; background: #f5f5f5; border: 1px solid #ddd; border-radius: 15px; font-size: 12px; cursor: pointer;">üåç –í—Å—ñ</button>
                                </div>
                                
                                <!-- Friends selector (initially hidden) -->
                                <div id="friendsSelector" style="display: none; background: #f8f9fa; border-radius: 8px; padding: 10px; margin-top: 10px;">
                                    <div style="font-size: 12px; font-weight: 600; margin-bottom: 8px; color: #666;">–û–±–µ—Ä—ñ—Ç—å –¥—Ä—É–∑—ñ–≤ –¥–ª—è –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—è:</div>
                                    
                                    <div style="max-height: 150px; overflow-y: auto;">
                                        <label style="display: flex; align-items: center; gap: 8px; padding: 5px; cursor: pointer; border-radius: 5px; margin-bottom: 5px;" onmouseover="this.style.background='#e9ecef'" onmouseout="this.style.background='transparent'">
                                            <input type="checkbox" id="friend_oleksandr" onchange="updateSelectedFriends()">
                                            <div style="width: 24px; height: 24px; background: linear-gradient(135deg, #4caf50, #2e7d32); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 10px; font-weight: 700;">–û–ú</div>
                                            <span style="font-size: 12px; font-weight: 600;">–û–ª–µ–∫—Å–∞–Ω–¥—Ä –ú–µ–ª—å–Ω–∏–∫</span>
                                        </label>
                                        
                                        <label style="display: flex; align-items: center; gap: 8px; padding: 5px; cursor: pointer; border-radius: 5px; margin-bottom: 5px;" onmouseover="this.style.background='#e9ecef'" onmouseout="this.style.background='transparent'">
                                            <input type="checkbox" id="friend_vitaliy" onchange="updateSelectedFriends()">
                                            <div style="width: 24px; height: 24px; background: linear-gradient(135deg, #ff9800, #f57c00); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 10px; font-weight: 700;">–í–°</div>
                                            <span style="font-size: 12px; font-weight: 600;">–í—ñ—Ç–∞–ª—ñ–π –°–µ–º–µ–Ω–æ–≤</span>
                                        </label>
                                        
                                        <label style="display: flex; align-items: center; gap: 8px; padding: 5px; cursor: pointer; border-radius: 5px; margin-bottom: 5px;" onmouseover="this.style.background='#e9ecef'" onmouseout="this.style.background='transparent'">
                                            <input type="checkbox" id="friend_dmitro" onchange="updateSelectedFriends()">
                                            <div style="width: 24px; height: 24px; background: linear-gradient(135deg, #9c27b0, #7b1fa2); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 10px; font-weight: 700;">–î–ö</div>
                                            <span style="font-size: 12px; font-weight: 600;">–î–º–∏—Ç—Ä–æ –ö–æ–≤–∞–ª–µ–Ω–∫–æ</span>
                                        </label>
                                        
                                        <label style="display: flex; align-items: center; gap: 8px; padding: 5px; cursor: pointer; border-radius: 5px; margin-bottom: 5px;" onmouseover="this.style.background='#e9ecef'" onmouseout="this.style.background='transparent'">
                                            <input type="checkbox" id="friend_sergiy" onchange="updateSelectedFriends()">
                                            <div style="width: 24px; height: 24px; background: linear-gradient(135deg, #2196f3, #1976d2); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 10px; font-weight: 700;">–°–ü</div>
                                            <span style="font-size: 12px; font-weight: 600;">–°–µ—Ä–≥—ñ–π –ü–µ—Ç—Ä–µ–Ω–∫–æ</span>
                                        </label>
                                        
                                        <label style="display: flex; align-items: center; gap: 8px; padding: 5px; cursor: pointer; border-radius: 5px; margin-bottom: 5px;" onmouseover="this.style.background='#e9ecef'" onmouseout="this.style.background='transparent'">
                                            <input type="checkbox" id="friend_andriy" onchange="updateSelectedFriends()">
                                            <div style="width: 24px; height: 24px; background: linear-gradient(135deg, #607d8b, #455a64); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 10px; font-weight: 700;">–ê–ü</div>
                                            <span style="font-size: 12px; font-weight: 600;">–ê–Ω–¥—Ä—ñ–π –ü–æ–ø–æ–≤</span>
                                        </label>
                                    </div>
                                    
                                    <div id="selectedFriendsDisplay" style="margin-top: 8px; font-size: 11px; color: #666;">
                                        –û–±—Ä–∞–Ω–æ: 0 –¥—Ä—É–∑—ñ–≤
                                    </div>
                                </div>
                            </div>
                            <div class="rating-buttons">
                                <button type="button" onclick="closeCreateChallenge()" class="rating-btn skip">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
                                <button type="submit" class="rating-btn submit">–°—Ç–≤–æ—Ä–∏—Ç–∏</button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Challenge Participation Modal -->
                <div id="challengeParticipateModal" class="rating-modal">
                    <div class="rating-content" style="max-width: 400px;">
                        <div class="rating-title">üìπ –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≤—ñ–¥–µ–æ</div>
                        <div style="text-align: left; margin-bottom: 15px;">
                            <div style="font-weight: 600; margin-bottom: 10px;">üèÜ –ß–µ–ª–µ–Ω–¥–∂: –ö—Ä–∞—â–∏–π —Ñ—ñ–Ω—Ç —Ç–∏–∂–Ω—è</div>
                            <div style="color: #666; font-size: 14px; margin-bottom: 20px;">–ü–æ–∫–∞–∂–∏ –Ω–∞–π–∫—Ä–µ–∞—Ç–∏–≤–Ω—ñ—à–∏–π —Ñ—ñ–Ω—Ç! –ì–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è –¥–æ –Ω–µ–¥—ñ–ª—ñ.</div>
                        </div>
                        <form onsubmit="submitChallengeVideo(event)">
                            <div style="text-align: left; margin-bottom: 15px;">
                                <label style="display: block; margin-bottom: 5px; font-weight: 600;">–ù–∞–∑–≤–∞ –≤—ñ–¥–µ–æ</label>
                                <input type="text" placeholder="–ú—ñ–π –∫—Ä—É—Ç–∏–π —Ñ—ñ–Ω—Ç" style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 8px;" required>
                            </div>
                            <div style="text-align: left; margin-bottom: 15px;">
                                <label style="display: block; margin-bottom: 5px; font-weight: 600;">–§–∞–π–ª –≤—ñ–¥–µ–æ</label>
                                <div style="border: 2px dashed #ddd; border-radius: 8px; padding: 20px; text-align: center; background: #f9f9f9; cursor: pointer;" onclick="document.getElementById('videoFile').click()">
                                    <i class="fas fa-cloud-upload-alt" style="font-size: 24px; color: #666; margin-bottom: 10px;"></i>
                                    <div style="color: #666;">–ö–ª—ñ–∫–Ω–∏ —Ç—É—Ç –∞–±–æ –ø–µ—Ä–µ—Ç—è–≥–Ω–∏ –≤—ñ–¥–µ–æ</div>
                                    <div style="font-size: 12px; color: #999; margin-top: 5px;">MP4, MOV, AVI (–º–∞–∫—Å. 100MB)</div>
                                    <input type="file" id="videoFile" accept="video/*" style="display: none;" required>
                                </div>
                            </div>
                            <div style="text-align: left; margin-bottom: 15px;">
                                <label style="display: block; margin-bottom: 5px; font-weight: 600;">–û–ø–∏—Å (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)</label>
                                <textarea placeholder="–†–æ–∑–∫–∞–∂–∏ –ø—Ä–æ —Å–≤—ñ–π —Ñ—ñ–Ω—Ç..." rows="3" style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 8px; resize: vertical;"></textarea>
                            </div>
                            <div class="rating-buttons">
                                <button type="button" onclick="closeChallengeParticipate()" class="rating-btn skip">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
                                <button type="submit" class="rating-btn submit">–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏</button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Active Challenges -->
                <div class="challenge-item" style="background: rgba(255,255,255,0.9); border-radius: 15px; margin-bottom: 15px; overflow: hidden; color: #333; box-shadow: 0 6px 20px rgba(0,0,0,0.1);">
                    <div style="padding: 15px; background: linear-gradient(135deg, #ff9800, #ffb74d); color: white;">
                        <div style="font-size: 16px; font-weight: 700; margin-bottom: 5px;">üéØ –ö—Ä–∞—â–∏–π —Ñ—ñ–Ω—Ç —Ç–∏–∂–Ω—è</div>
                        <div style="font-size: 12px; opacity: 0.9;">–í–Ω–µ—Å–æ–∫: 20‚Ç¥ ‚Ä¢ –ü—Ä–∏–∑–æ–≤–∏–π —Ñ–æ–Ω–¥: 200‚Ç¥ ‚Ä¢ –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—è: 3 –¥–Ω—ñ</div>
                    </div>
                    <div style="padding: 15px;">
                        <div style="margin-bottom: 10px;">
                            <strong>üìù –û–ø–∏—Å:</strong> –ü–æ–∫–∞–∂–∏ –Ω–∞–π–∫—Ä–µ–∞—Ç–∏–≤–Ω—ñ—à–∏–π —Ñ—ñ–Ω—Ç! –ì–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è –¥–æ –Ω–µ–¥—ñ–ª—ñ.
                        </div>
                        <div style="margin-bottom: 15px;">
                            <strong>üë• –£—á–∞—Å–Ω–∏–∫–∏: 12</strong> ‚Ä¢ <strong>üìπ –í—ñ–¥–µ–æ: 8</strong>
                        </div>
                        
                        <!-- Quick Leaderboard Preview -->
                        <div style="background: #f8f9fa; border-radius: 8px; padding: 10px; margin-bottom: 15px;">
                            <div style="font-weight: 600; font-size: 12px; margin-bottom: 8px; color: #666;">üèÜ –¢–û–ü-3 –í–Ü–î–ï–û:</div>
                            <div style="font-size: 11px; margin-bottom: 3px;">ü•á –ù–µ–π–º–æ–≤—ñ—Ä–Ω–∏–π —Ñ—ñ–Ω—Ç - <span style="color: #4caf50; font-weight: 700;">‚≠ê 4.8</span></div>
                            <div style="font-size: 11px; margin-bottom: 3px;">ü•à –¢–µ—Ö–Ω—ñ—á–Ω–∏–π —Ç—Ä—é–∫ - <span style="color: #ff9800; font-weight: 700;">‚≠ê 4.6</span></div>
                            <div style="font-size: 11px;">ü•â –ú–∞–π—Å—Ç–µ—Ä—Å—å–∫–∏–π –æ–±–≤—ñ–¥ - <span style="color: #f44336; font-weight: 700;">‚≠ê 4.3</span></div>
                        </div>
                        <div style="display: flex; gap: 10px;">
                            <button onclick="joinChallenge('best_trick')" style="flex: 1; padding: 8px; background: #4caf50; color: white; border: none; border-radius: 12px; font-weight: 600; cursor: pointer;">
                                –ü—Ä–∏—î–¥–Ω–∞—Ç–∏—Å—è
                            </button>
                            <button onclick="showChallengeVideos('best_trick')" style="flex: 1; padding: 8px; background: #2196f3; color: white; border: none; border-radius: 12px; font-weight: 600; cursor: pointer;">
                                –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –≤—ñ–¥–µ–æ
                            </button>
                        </div>
                    </div>
                </div>

                <div class="challenge-item" style="background: rgba(255,255,255,0.9); border-radius: 15px; margin-bottom: 15px; overflow: hidden; color: #333; box-shadow: 0 6px 20px rgba(0,0,0,0.1);">
                    <div style="padding: 15px; background: linear-gradient(135deg, #9c27b0, #ba68c8); color: white;">
                        <div style="font-size: 16px; font-weight: 700; margin-bottom: 5px;">‚öΩ –¢–æ—á–Ω—ñ—Å—Ç—å —É–¥–∞—Ä—ñ–≤</div>
                        <div style="font-size: 12px; opacity: 0.9;">–ü—Ä–∏–∑–æ–≤–∏–π —Ñ–æ–Ω–¥: 150‚Ç¥ ‚Ä¢ –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—è: 5 –¥–Ω—ñ–≤</div>
                    </div>
                    <div style="padding: 15px;">
                        <div style="margin-bottom: 10px;">
                            <strong>üìù –û–ø–∏—Å:</strong> 10 —É–¥–∞—Ä—ñ–≤ –≤ –≤–æ—Ä–æ—Ç–∞ –∑ —Ä—ñ–∑–Ω–∏—Ö –ø–æ–∑–∏—Ü—ñ–π. –†–∞—Ö—É–π –≤–ª—É—á–∞–Ω–Ω—è!
                        </div>
                        <div style="margin-bottom: 15px;">
                            <strong>üë• –£—á–∞—Å–Ω–∏–∫–∏: 8</strong> ‚Ä¢ <strong>üìπ –í—ñ–¥–µ–æ: 6</strong>
                        </div>
                        
                        <!-- Quick Leaderboard Preview -->
                        <div style="background: #f8f9fa; border-radius: 8px; padding: 10px; margin-bottom: 15px;">
                            <div style="font-weight: 600; font-size: 12px; margin-bottom: 8px; color: #666;">üèÜ –¢–û–ü-3 –í–Ü–î–ï–û:</div>
                            <div style="font-size: 11px; margin-bottom: 3px;">ü•á –°—É–ø–µ—Ä —Ç–æ—á–Ω—ñ—Å—Ç—å - <span style="color: #4caf50; font-weight: 700;">‚≠ê 4.9</span></div>
                            <div style="font-size: 11px; margin-bottom: 3px;">ü•à –í–ª—É—á–Ω–∏–π —É–¥–∞—Ä - <span style="color: #ff9800; font-weight: 700;">‚≠ê 4.4</span></div>
                            <div style="font-size: 11px;">ü•â –Ü–¥–µ–∞–ª—å–Ω–∏–π –ø–æ—Å—Ç—Ä—ñ–ª - <span style="color: #f44336; font-weight: 700;">‚≠ê 4.1</span></div>
                        </div>
                        <div style="display: flex; gap: 10px;">
                            <button onclick="joinChallenge('accuracy')" style="flex: 1; padding: 8px; background: #4caf50; color: white; border: none; border-radius: 12px; font-weight: 600; cursor: pointer;">
                                –ü—Ä–∏—î–¥–Ω–∞—Ç–∏—Å—è
                            </button>
                            <button onclick="showChallengeVideos('accuracy')" style="flex: 1; padding: 8px; background: #2196f3; color: white; border: none; border-radius: 12px; font-weight: 600; cursor: pointer;">
                                –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –≤—ñ–¥–µ–æ
                            </button>
                        </div>
                    </div>
                </div>

                <div class="challenge-item" style="background: rgba(255,255,255,0.9); border-radius: 15px; margin-bottom: 15px; overflow: hidden; color: #333; box-shadow: 0 6px 20px rgba(0,0,0,0.1);">
                    <div style="padding: 15px; background: linear-gradient(135deg, #f44336, #ef5350); color: white;">
                        <div style="font-size: 16px; font-weight: 700; margin-bottom: 5px;">üèÉ‚Äç‚ôÇÔ∏è –®–≤–∏–¥–∫—ñ—Å—Ç—å –¥—Ä–∏–±–ª—ñ–Ω–≥—É</div>
                        <div style="font-size: 12px; opacity: 0.9;">–ü—Ä–∏–∑–æ–≤–∏–π —Ñ–æ–Ω–¥: 100‚Ç¥ ‚Ä¢ –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—è: 1 —Ç–∏–∂–¥–µ–Ω—å</div>
                    </div>
                    <div style="padding: 15px;">
                        <div style="margin-bottom: 10px;">
                            <strong>üìù –û–ø–∏—Å:</strong> –ü—Ä–æ–π–¥–∏ —Å–ª–∞–ª–æ–º –º—ñ–∂ –∫–æ–Ω—É—Å–∞–º–∏ –Ω–∞ —à–≤–∏–¥–∫—ñ—Å—Ç—å!
                        </div>
                        <div style="margin-bottom: 15px;">
                            <strong>üë• –£—á–∞—Å–Ω–∏–∫–∏: 15</strong> ‚Ä¢ <strong>üìπ –í—ñ–¥–µ–æ: 12</strong>
                        </div>
                        
                        <!-- Quick Leaderboard Preview -->
                        <div style="background: #f8f9fa; border-radius: 8px; padding: 10px; margin-bottom: 15px;">
                            <div style="font-weight: 600; font-size: 12px; margin-bottom: 8px; color: #666;">üèÜ –¢–û–ü-3 –í–Ü–î–ï–û:</div>
                            <div style="font-size: 11px; margin-bottom: 3px;">ü•á –®–≤–∏–¥–∫—ñ—Å—Ç—å –±–ª–∏—Å–∫–∞–≤–∫–∏ - <span style="color: #4caf50; font-weight: 700;">‚≠ê 4.7</span></div>
                            <div style="font-size: 11px; margin-bottom: 3px;">ü•à –†–µ–∫–æ—Ä–¥–Ω–∏–π —á–∞—Å - <span style="color: #ff9800; font-weight: 700;">‚≠ê 4.5</span></div>
                            <div style="font-size: 11px;">ü•â –°–ø—Ä–∏–Ω—Ç –∑ –º'—è—á–µ–º - <span style="color: #f44336; font-weight: 700;">‚≠ê 4.2</span></div>
                        </div>
                        <div style="display: flex; gap: 10px;">
                            <button onclick="joinChallenge('speed')" style="flex: 1; padding: 8px; background: #4caf50; color: white; border: none; border-radius: 12px; font-weight: 600; cursor: pointer;">
                                –ü—Ä–∏—î–¥–Ω–∞—Ç–∏—Å—è
                            </button>
                            <button onclick="showChallengeVideos('speed')" style="flex: 1; padding: 8px; background: #2196f3; color: white; border: none; border-radius: 12px; font-weight: 600; cursor: pointer;">
                                –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –≤—ñ–¥–µ–æ
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Challenge Videos Modal -->
                <div id="challengeVideosModal" class="rating-modal">
                    <div class="rating-content" style="max-width: 450px; max-height: 80vh; overflow-y: auto;">
                        <div class="rating-title">üèÜ –†–µ–π—Ç–∏–Ω–≥–∏ –≤—ñ–¥–µ–æ –≤ —á–µ–ª–µ–Ω–¥–∂—ñ</div>
                        <div id="challengeVideosContent">
                            <!-- Content will be loaded dynamically -->
                        </div>
                        <div class="rating-buttons">
                            <button onclick="closeChallengeVideos()" class="rating-btn skip">–ó–∞–∫—Ä–∏—Ç–∏</button>
                        </div>
                    </div>
                </div>

                <!-- Match Details Modal -->
                <div id="matchDetailsModal" class="rating-modal">
                    <div class="rating-content" style="max-width: 500px; max-height: 85vh; overflow-y: auto;">
                        <div class="rating-title">‚öΩ –î–µ—Ç–∞–ª—ñ –º–∞—Ç—á—É</div>
                        <div id="matchDetailsContent">
                            <!-- Content will be loaded dynamically -->
                        </div>
                        <div class="rating-buttons">
                            <button onclick="joinMatchFromDetails()" class="rating-btn submit">–ü—Ä–∏—î–¥–Ω–∞—Ç–∏—Å—è</button>
                            <button onclick="shareMatch()" class="rating-btn" style="background: #ff9800;">–ü–æ–¥—ñ–ª–∏—Ç–∏—Å—è</button>
                            <button onclick="closeMatchDetails()" class="rating-btn skip">–ó–∞–∫—Ä–∏—Ç–∏</button>
                        </div>
                    </div>
                </div>
                </div>

                <!-- My Matches Tab -->
                <div id="myMatches" style="display: none;">
                    <!-- My Matches List -->
                    <div id="myMatchesList">
                        <h4 style="color: white; margin-bottom: 15px; font-size: 16px;">‚öΩ –í–∞—à—ñ –º–∞—Ç—á—ñ</h4>
                        
                        <!-- Demo My Match -->
                        <div style="background: rgba(255,255,255,0.9); border-radius: 15px; margin-bottom: 15px; color: #333; overflow: hidden; box-shadow: 0 6px 20px rgba(0,0,0,0.1);">
                            <div style="padding: 15px; background: linear-gradient(135deg, #4caf50, #66bb6a); color: white;">
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <div>
                                        <div style="font-size: 16px; font-weight: 700;">üèüÔ∏è –§—É—Ç–±–æ–ª 5x5</div>
                                        <div style="font-size: 12px; opacity: 0.9;">–°—å–æ–≥–æ–¥–Ω—ñ 18:00 ‚Ä¢ –°—Ç–∞–¥—ñ–æ–Ω "–û–ª—ñ–º–ø—ñ–π—Å—å–∫–∏–π"</div>
                                    </div>
                                    <div style="font-size: 14px; font-weight: 600;">8/10</div>
                                </div>
                            </div>
                            <div style="padding: 15px;">
                                <div style="display: flex; gap: 10px;">
                                    <button onclick="manageMyMatch('match1')" style="flex: 1; padding: 10px; background: linear-gradient(135deg, #2196f3, #64b5f6); color: white; border: none; border-radius: 10px; font-weight: 600; cursor: pointer;">
                                        üë• –£–ø—Ä–∞–≤–ª—è—Ç–∏ –º–∞—Ç—á–µ–º
                                    </button>
                                    <button onclick="editMatch('match1')" style="flex: 1; padding: 10px; background: rgba(255,193,7,0.9); color: white; border: none; border-radius: 10px; font-weight: 600; cursor: pointer;">
                                        ‚úèÔ∏è –†–µ–¥–∞–≥—É–≤–∞—Ç–∏
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Match Management (shown when managing specific match) -->
                    <div id="matchManagement" style="display: none;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                                <h4 style="margin: 0; color: white; font-size: 16px;">üë• –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –º–∞—Ç—á–µ–º "–§—É—Ç–±–æ–ª 5x5"</h4>
                                <button onclick="backToMyMatches()" style="padding: 8px 15px; background: rgba(255,255,255,0.2); color: white; border: none; border-radius: 10px; font-size: 12px; cursor: pointer;">‚Üê –ù–∞–∑–∞–¥</button>
                            </div>
                            
                            <!-- 1. Waiting List (–û—á—ñ–∫—É—é—Ç—å) -->
                            <div style="background: rgba(255,255,255,0.9); border-radius: 15px; margin-bottom: 15px; color: #333; overflow: hidden; box-shadow: 0 6px 20px rgba(0,0,0,0.1);">
                                <div style="padding: 12px 15px; background: linear-gradient(135deg, #ff9800, #ffb74d); color: white;">
                                    <div style="font-size: 14px; font-weight: 700;">üïê –û—á—ñ–∫—É—é—Ç—å –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è (3)</div>
                                </div>
                                <div style="padding: 10px 15px; max-height: 200px; overflow-y: auto;">
                                    <div style="display: flex; align-items: center; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #eee;">
                                        <div style="display: flex; align-items: center; gap: 10px;">
                                            <div style="width: 32px; height: 32px; background: #4caf50; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 14px; color: white;">üéØ</div>
                                            <div>
                                                <div style="font-weight: 600; font-size: 13px;">–û–ª–µ–∫—Å—ñ–π –ü–µ—Ç—Ä–µ–Ω–∫–æ</div>
                                                <div style="font-size: 11px; color: #666;">‚≠ê 4.2 ‚Ä¢ –ù–∞–ø–∞–¥–Ω–∏–∫ ‚Ä¢ –ö–∏—ó–≤</div>
                                            </div>
                                        </div>
                                        <div style="display: flex; gap: 6px;">
                                            <button onclick="acceptPlayer('player1')" style="padding: 5px 10px; background: #4caf50; color: white; border: none; border-radius: 6px; font-size: 11px; cursor: pointer;">‚úì</button>
                                            <button onclick="rejectPlayer('player1')" style="padding: 5px 10px; background: #ff5722; color: white; border: none; border-radius: 6px; font-size: 11px; cursor: pointer;">‚úó</button>
                                        </div>
                                    </div>
                                    <div style="display: flex; align-items: center; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #eee;">
                                        <div style="display: flex; align-items: center; gap: 10px;">
                                            <div style="width: 32px; height: 32px; background: #2196f3; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 14px; color: white;">‚öΩ</div>
                                            <div>
                                                <div style="font-weight: 600; font-size: 13px;">–ú–∏—Ö–∞–π–ª–æ –ö–æ–≤–∞–ª—å</div>
                                                <div style="font-size: 11px; color: #666;">‚≠ê 3.8 ‚Ä¢ –ü—ñ–≤–∑–∞—Ö–∏—Å–Ω–∏–∫ ‚Ä¢ –õ—å–≤—ñ–≤</div>
                                            </div>
                                        </div>
                                        <div style="display: flex; gap: 6px;">
                                            <button onclick="acceptPlayer('player2')" style="padding: 5px 10px; background: #4caf50; color: white; border: none; border-radius: 6px; font-size: 11px; cursor: pointer;">‚úì</button>
                                            <button onclick="rejectPlayer('player2')" style="padding: 5px 10px; background: #ff5722; color: white; border: none; border-radius: 6px; font-size: 11px; cursor: pointer;">‚úó</button>
                                        </div>
                                    </div>
                                    <div style="display: flex; align-items: center; justify-content: space-between; padding: 8px 0;">
                                        <div style="display: flex; align-items: center; gap: 10px;">
                                            <div style="width: 32px; height: 32px; background: #9c27b0; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 14px; color: white;">üèÉ</div>
                                            <div>
                                                <div style="font-weight: 600; font-size: 13px;">–ê–Ω–¥—Ä—ñ–π –ú–µ–ª—å–Ω–∏–∫</div>
                                                <div style="font-size: 11px; color: #666;">‚≠ê 4.5 ‚Ä¢ –ó–∞—Ö–∏—Å–Ω–∏–∫ ‚Ä¢ –û–¥–µ—Å–∞</div>
                                            </div>
                                        </div>
                                        <div style="display: flex; gap: 6px;">
                                            <button onclick="acceptPlayer('player3')" style="padding: 5px 10px; background: #4caf50; color: white; border: none; border-radius: 6px; font-size: 11px; cursor: pointer;">‚úì</button>
                                            <button onclick="rejectPlayer('player3')" style="padding: 5px 10px; background: #ff5722; color: white; border: none; border-radius: 6px; font-size: 11px; cursor: pointer;">‚úó</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 2. Accepted Players (–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω—ñ) -->
                            <div style="background: rgba(255,255,255,0.9); border-radius: 15px; margin-bottom: 15px; color: #333; overflow: hidden; box-shadow: 0 6px 20px rgba(0,0,0,0.1);">
                                <div style="padding: 12px 15px; background: linear-gradient(135deg, #4caf50, #66bb6a); color: white;">
                                    <div style="font-size: 14px; font-weight: 700;">‚úÖ –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω—ñ –≥—Ä–∞–≤—Ü—ñ (5)</div>
                                </div>
                                <div style="padding: 10px 15px; max-height: 200px; overflow-y: auto;">
                                    <div style="display: flex; align-items: center; gap: 10px; padding: 6px 0; border-bottom: 1px solid #eee;">
                                        <div style="width: 28px; height: 28px; background: #4caf50; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px; color: white;">üõ°Ô∏è</div>
                                        <div style="flex: 1;">
                                            <div style="font-weight: 600; font-size: 12px;">–í—ñ–∫—Ç–æ—Ä –®–µ–≤—á–µ–Ω–∫–æ</div>
                                            <div style="font-size: 10px; color: #666;">‚≠ê 4.0 ‚Ä¢ –ó–∞—Ö–∏—Å–Ω–∏–∫ ‚Ä¢ –ö–∏—ó–≤</div>
                                        </div>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 10px; padding: 6px 0; border-bottom: 1px solid #eee;">
                                        <div style="width: 28px; height: 28px; background: #2196f3; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px; color: white;">ü•Ö</div>
                                        <div style="flex: 1;">
                                            <div style="font-weight: 600; font-size: 12px;">–ú–∞–∫—Å–∏–º –ó—ñ–Ω—á–µ–Ω–∫–æ</div>
                                            <div style="font-size: 10px; color: #666;">‚≠ê 3.7 ‚Ä¢ –í–æ—Ä–æ—Ç–∞—Ä ‚Ä¢ –î–Ω—ñ–ø—Ä–æ</div>
                                        </div>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 10px; padding: 6px 0; border-bottom: 1px solid #eee;">
                                        <div style="width: 28px; height: 28px; background: #ff9800; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px; color: white;">üî•</div>
                                        <div style="flex: 1;">
                                            <div style="font-weight: 600; font-size: 12px;">–û–ª–µ–∫—Å–∞–Ω–¥—Ä –ú–µ–ª—å–Ω–∏–∫</div>
                                            <div style="font-size: 10px; color: #666;">‚≠ê 4.3 ‚Ä¢ –ù–∞–ø–∞–¥–Ω–∏–∫ ‚Ä¢ –õ—å–≤—ñ–≤</div>
                                        </div>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 10px; padding: 6px 0; border-bottom: 1px solid #eee;">
                                        <div style="width: 28px; height: 28px; background: #9c27b0; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px; color: white;">‚ö°</div>
                                        <div style="flex: 1;">
                                            <div style="font-weight: 600; font-size: 12px;">–î–º–∏—Ç—Ä–æ –ö–æ–≤–∞–ª–µ–Ω–∫–æ</div>
                                            <div style="font-size: 10px; color: #666;">‚≠ê 3.8 ‚Ä¢ –í–æ—Ä–æ—Ç–∞—Ä ‚Ä¢ –û–¥–µ—Å–∞</div>
                                        </div>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 10px; padding: 6px 0;">
                                        <div style="width: 28px; height: 28px; background: #795548; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px; color: white;">‚öΩ</div>
                                        <div style="flex: 1;">
                                            <div style="font-weight: 600; font-size: 12px;">–ü–µ—Ç—Ä–æ –ú–µ–ª—å–Ω–∏–∫</div>
                                            <div style="font-size: 10px; color: #666;">‚≠ê 4.2 ‚Ä¢ –ù–∞–ø–∞–¥–Ω–∏–∫ ‚Ä¢ –õ—å–≤—ñ–≤</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 3. Rejected Players (–í—ñ–¥—Ö–∏–ª–µ–Ω—ñ) -->
                            <div style="background: rgba(255,255,255,0.9); border-radius: 15px; margin-bottom: 20px; color: #333; overflow: hidden; box-shadow: 0 6px 20px rgba(0,0,0,0.1);">
                                <div style="padding: 12px 15px; background: linear-gradient(135deg, #f44336, #ef5350); color: white;">
                                    <div style="font-size: 14px; font-weight: 700;">‚ùå –í—ñ–¥—Ö–∏–ª–µ–Ω—ñ –≥—Ä–∞–≤—Ü—ñ (2)</div>
                                </div>
                                <div style="padding: 10px 15px;">
                                    <div style="display: flex; align-items: center; gap: 10px; padding: 6px 0; border-bottom: 1px solid #eee; opacity: 0.7;">
                                        <div style="width: 28px; height: 28px; background: #666; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px; color: white;">üö´</div>
                                        <div style="flex: 1;">
                                            <div style="font-weight: 600; font-size: 12px;">–Ü–≥–æ—Ä –°–∏–¥–æ—Ä–µ–Ω–∫–æ</div>
                                            <div style="font-size: 10px; color: #666;">‚≠ê 2.1 ‚Ä¢ –ù–∞–ø–∞–¥–Ω–∏–∫ ‚Ä¢ –•–∞—Ä–∫—ñ–≤</div>
                                        </div>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 10px; padding: 6px 0; opacity: 0.7;">
                                        <div style="width: 28px; height: 28px; background: #666; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px; color: white;">üö´</div>
                                        <div style="flex: 1;">
                                            <div style="font-weight: 600; font-size: 12px;">–°–µ—Ä–≥—ñ–π –Ü–≤–∞–Ω–µ–Ω–∫–æ</div>
                                            <div style="font-size: 10px; color: #666;">‚≠ê 1.8 ‚Ä¢ –ó–∞—Ö–∏—Å–Ω–∏–∫ ‚Ä¢ –ö–∏—ó–≤</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Auto Balance Button -->
                            <div style="text-align: center; margin: 20px 0;">
                                <button onclick="autoBalanceTeams()" style="padding: 12px 24px; background: linear-gradient(135deg, #2196f3, #64b5f6); color: white; border: none; border-radius: 20px; font-weight: 700; cursor: pointer; font-size: 14px;">
                                    ‚öñÔ∏è –ê–≤—Ç–æ–±–∞–ª–∞–Ω—Å –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É
                                </button>
                            </div>
                            
                            <!-- Final Score Section -->
                            <div id="finalScoreSection" style="display: none; background: rgba(255,255,255,0.9); border-radius: 15px; padding: 20px; margin-bottom: 20px; color: #333;">
                                <h4 style="text-align: center; margin-bottom: 15px; color: #2e7d32;">‚öΩ –ó–∞–≤–µ—Ä—à–∏—Ç–∏ –º–∞—Ç—á</h4>
                                <div style="display: flex; gap: 15px; align-items: center; justify-content: center;">
                                    <div style="text-align: center;">
                                        <label style="display: block; margin-bottom: 5px; font-weight: 600;">–ö–æ–º–∞–Ω–¥–∞ 1</label>
                                        <input type="number" id="team1Score" min="0" value="0" style="width: 60px; padding: 8px; border: 2px solid #ddd; border-radius: 8px; text-align: center;">
                                    </div>
                                    <div style="font-size: 24px; font-weight: 700; color: #2e7d32;">:</div>
                                    <div style="text-align: center;">
                                        <label style="display: block; margin-bottom: 5px; font-weight: 600;">–ö–æ–º–∞–Ω–¥–∞ 2</label>
                                        <input type="number" id="team2Score" min="0" value="0" style="width: 60px; padding: 8px; border: 2px solid #ddd; border-radius: 8px; text-align: center;">
                                    </div>
                                </div>
                                <div style="text-align: center; margin-top: 15px;">
                                    <button onclick="finishMatch()" style="padding: 10px 20px; background: linear-gradient(135deg, #4caf50, #66bb6a); color: white; border: none; border-radius: 15px; font-weight: 600; cursor: pointer;">
                                        üèÅ –ó–∞–≤–µ—Ä—à–∏—Ç–∏ –º–∞—Ç—á
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Demo My Match -->
                        <div style="background: rgba(255,255,255,0.9); border-radius: 15px; margin-bottom: 15px; color: #333; overflow: hidden; box-shadow: 0 6px 20px rgba(0,0,0,0.1);">
                            <div style="padding: 15px; background: linear-gradient(135deg, #4caf50, #66bb6a); color: white;">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px;">
                                    <div style="font-size: 16px; font-weight: 700;">‚öΩ –ú—ñ–π —Ç—É—Ä–Ω—ñ—Ä</div>
                                    <div style="background: rgba(255,255,255,0.2); padding: 2px 8px; border-radius: 10px; font-size: 11px;">7x7</div>
                                </div>
                                <div style="font-size: 12px; opacity: 0.9;">–ó–∞–≤—Ç—Ä–∞ 16:00 ‚Ä¢ –°—Ç–∞–¥—ñ–æ–Ω "–û–ª—ñ–º–ø—ñ–π—Å—å–∫–∏–π" ‚Ä¢ 75‚Ç¥</div>
                            </div>
                            <div style="padding: 15px;">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                                    <span style="font-size: 13px; color: #333;">üë• –°—Ç–∞—Ç—É—Å:</span>
                                    <span style="font-size: 13px; font-weight: 600; color: #4caf50;">12/14 –≥—Ä–∞–≤—Ü—ñ–≤</span>
                                </div>
                                <div style="display: flex; gap: 8px;">
                                    <button onclick="manageMyMatch('my_match_1')" style="flex: 1; padding: 8px; background: #4caf50; color: white; border: none; border-radius: 8px; font-size: 12px; cursor: pointer;">
                                        –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è
                                    </button>
                                    <button onclick="shareMatch()" style="flex: 1; padding: 8px; background: #ff9800; color: white; border: none; border-radius: 8px; font-size: 12px; cursor: pointer;">
                                        –ü–æ–¥—ñ–ª–∏—Ç–∏—Å—è
                                    </button>
                                </div>
                            </div>
                        </div>

                        <button onclick="showCreateMatchModal()" style="width: 100%; padding: 12px; background: linear-gradient(135deg, #4caf50, #66bb6a); color: white; border: none; border-radius: 20px; font-weight: 700; cursor: pointer; margin-top: 10px;">
                            ‚ûï –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π –º–∞—Ç—á
                        </button>
                    </div>
                </div>
            </div>

            <!-- Rating Section -->
            <div class="content-section" id="rating">
                <h3 style="margin-bottom: 15px; font-size: 18px;">üëë –†–µ–π—Ç–∏–Ω–≥ –≥—Ä–∞–≤—Ü—ñ–≤</h3>
                
                <!-- Player Search -->
                <div style="position: relative; margin-bottom: 15px;">
                    <input type="text" placeholder="üîç –ü–æ—à—É–∫ –≥—Ä–∞–≤—Ü—ñ–≤..." onkeyup="searchPlayers(this.value)" style="width: 100%; padding: 12px 40px 12px 15px; border: 2px solid rgba(255,255,255,0.3); border-radius: 20px; background: rgba(255,255,255,0.1); color: white; font-size: 14px;">
                    <i class="fas fa-search" style="position: absolute; right: 15px; top: 50%; transform: translateY(-50%); color: rgba(255,255,255,0.6);"></i>
                </div>
                
                <!-- Rating Filters -->
                <div style="display: flex; gap: 8px; margin-bottom: 15px; overflow-x: auto; padding-bottom: 5px;">
                    <button onclick="filterRating('all')" class="rating-filter active" style="padding: 8px 15px; background: rgba(76, 175, 80, 0.2); border: 2px solid #4caf50; border-radius: 20px; color: #2e7d32; font-weight: 600; font-size: 12px; white-space: nowrap; cursor: pointer;">
                        üåç –í—Å—ñ
                    </button>
                    <button onclick="filterRating('city')" class="rating-filter" style="padding: 8px 15px; background: rgba(255,255,255,0.1); border: 2px solid rgba(255,255,255,0.3); border-radius: 20px; color: white; font-weight: 600; font-size: 12px; white-space: nowrap; cursor: pointer;">
                        üèôÔ∏è –ö–∏—ó–≤
                    </button>
                    <button onclick="filterRating('friends')" class="rating-filter" style="padding: 8px 15px; background: rgba(255,255,255,0.1); border: 2px solid rgba(255,255,255,0.3); border-radius: 20px; color: white; font-weight: 600; font-size: 12px; white-space: nowrap; cursor: pointer;">
                        üë• –î—Ä—É–∑—ñ
                    </button>
                    <button onclick="filterRating('position')" class="rating-filter" style="padding: 8px 15px; background: rgba(255,255,255,0.1); border: 2px solid rgba(255,255,255,0.3); border-radius: 20px; color: white; font-weight: 600; font-size: 12px; white-space: nowrap; cursor: pointer;">
                        ‚öΩ –ü–æ–∑–∏—Ü—ñ—è
                    </button>
                </div>

                <!-- Rating List -->
                <div class="rating-list">
                    <div onclick="showPlayerProfile('top1')" style="background: rgba(255,255,255,0.9); border-radius: 15px; padding: 15px; margin-bottom: 10px; display: flex; align-items: center; gap: 15px; color: #333; cursor: pointer; box-shadow: 0 6px 20px rgba(0,0,0,0.1); border: 2px solid #ffc107;">
                        <div style="font-size: 20px; font-weight: 800; color: #ffc107; min-width: 30px;">1</div>
                        <div style="width: 50px; height: 50px; background: linear-gradient(135deg, #ffc107, #ff8f00); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 20px; font-weight: 700;">üëë</div>
                        <div style="flex: 1;">
                            <div style="font-size: 16px; font-weight: 700; margin-bottom: 3px;">–í—ñ–∫—Ç–æ—Ä –®–µ–≤—á–µ–Ω–∫–æ</div>
                            <div style="font-size: 12px; color: #666;">–ù–∞–ø–∞–¥–Ω–∏–∫ ‚Ä¢ 127 –º–∞—Ç—á—ñ–≤ ‚Ä¢ 98% winrate</div>
                        </div>
                        <div style="text-align: right;">
                            <div style="font-size: 18px; font-weight: 800; color: #ff9800;">‚≠ê 4.96</div>
                            <div style="font-size: 11px; color: #666;">248 –æ—Ü—ñ–Ω–æ–∫</div>
                        </div>
                    </div>

                    <div onclick="showPlayerProfile('top2')" style="background: rgba(255,255,255,0.9); border-radius: 15px; padding: 15px; margin-bottom: 10px; display: flex; align-items: center; gap: 15px; color: #333; cursor: pointer; box-shadow: 0 6px 20px rgba(0,0,0,0.1); border: 2px solid #c0c0c0;">
                        <div style="font-size: 20px; font-weight: 800; color: #c0c0c0; min-width: 30px;">2</div>
                        <div style="width: 50px; height: 50px; background: linear-gradient(135deg, #c0c0c0, #9e9e9e); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 16px; font-weight: 700;">–ê–ü</div>
                        <div style="flex: 1;">
                            <div style="font-size: 16px; font-weight: 700; margin-bottom: 3px;">–ê–Ω–¥—Ä—ñ–π –ü–µ—Ç—Ä–µ–Ω–∫–æ</div>
                            <div style="font-size: 12px; color: #666;">–ü—ñ–≤–∑–∞—Ö–∏—Å–Ω–∏–∫ ‚Ä¢ 95 –º–∞—Ç—á—ñ–≤ ‚Ä¢ 94% winrate</div>
                        </div>
                        <div style="text-align: right;">
                            <div style="font-size: 18px; font-weight: 800; color: #ff9800;">‚≠ê 4.92</div>
                            <div style="font-size: 11px; color: #666;">187 –æ—Ü—ñ–Ω–æ–∫</div>
                        </div>
                    </div>

                    <div onclick="showPlayerProfile('oleksandr_m')" style="background: rgba(255,255,255,0.9); border-radius: 15px; padding: 15px; margin-bottom: 10px; display: flex; align-items: center; gap: 15px; color: #333; cursor: pointer; box-shadow: 0 6px 20px rgba(0,0,0,0.1); border: 2px solid #cd7f32;">
                        <div style="font-size: 20px; font-weight: 800; color: #cd7f32; min-width: 30px;">3</div>
                        <div style="width: 50px; height: 50px; background: linear-gradient(135deg, #cd7f32, #b8860b); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 16px; font-weight: 700;">–û–ú</div>
                        <div style="flex: 1;">
                            <div style="font-size: 16px; font-weight: 700; margin-bottom: 3px;">–û–ª–µ–∫—Å–∞–Ω–¥—Ä –ú–µ–ª—å–Ω–∏–∫</div>
                            <div style="font-size: 12px; color: #666;">–ù–∞–ø–∞–¥–Ω–∏–∫ ‚Ä¢ 67 –º–∞—Ç—á—ñ–≤ ‚Ä¢ 92% winrate</div>
                        </div>
                        <div style="text-align: right;">
                            <div style="font-size: 18px; font-weight: 800; color: #ff9800;">‚≠ê 4.90</div>
                            <div style="font-size: 11px; color: #666;">156 –æ—Ü—ñ–Ω–æ–∫</div>
                        </div>
                    </div>

                    <div onclick="showPlayerProfile('current_user')" style="background: rgba(76, 175, 80, 0.1); border-radius: 15px; padding: 15px; margin-bottom: 10px; display: flex; align-items: center; gap: 15px; color: #333; cursor: pointer; box-shadow: 0 6px 20px rgba(0,0,0,0.1); border: 2px solid #4caf50;">
                        <div style="font-size: 20px; font-weight: 800; color: #4caf50; min-width: 30px;">12</div>
                        <div style="width: 50px; height: 50px; background: linear-gradient(135deg, #4caf50, #2e7d32); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 16px; font-weight: 700;">–ú–ö</div>
                        <div style="flex: 1;">
                            <div style="font-size: 16px; font-weight: 700; margin-bottom: 3px;">–ú–∞–∫—Å–∏–º –ö–æ–≤–∞–ª—å (–í–∏) üë§</div>
                            <div style="font-size: 12px; color: #666;">–ü—ñ–≤–∑–∞—Ö–∏—Å–Ω–∏–∫ ‚Ä¢ 34 –º–∞—Ç—á—ñ ‚Ä¢ 88% winrate</div>
                        </div>
                        <div style="text-align: right;">
                            <div style="font-size: 18px; font-weight: 800; color: #ff9800;">‚≠ê 4.78</div>
                            <div style="font-size: 11px; color: #666;">89 –æ—Ü—ñ–Ω–æ–∫</div>
                        </div>
                    </div>

                    <div onclick="showPlayerProfile('dmitro_k')" style="background: rgba(255,255,255,0.9); border-radius: 15px; padding: 15px; margin-bottom: 10px; display: flex; align-items: center; gap: 15px; color: #333; cursor: pointer; box-shadow: 0 6px 20px rgba(0,0,0,0.1);">
                        <div style="font-size: 20px; font-weight: 800; color: #666; min-width: 30px;">13</div>
                        <div style="width: 50px; height: 50px; background: linear-gradient(135deg, #607d8b, #455a64); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 16px; font-weight: 700;">–î–ö</div>
                        <div style="flex: 1;">
                            <div style="font-size: 16px; font-weight: 700; margin-bottom: 3px;">–î–º–∏—Ç—Ä–æ –ö–æ–≤–∞–ª–µ–Ω–∫–æ</div>
                            <div style="font-size: 12px; color: #666;">–í–æ—Ä–æ—Ç–∞—Ä ‚Ä¢ 38 –º–∞—Ç—á—ñ–≤ ‚Ä¢ 85% winrate</div>
                        </div>
                        <div style="text-align: right;">
                            <div style="font-size: 18px; font-weight: 800; color: #ff9800;">‚≠ê 4.71</div>
                            <div style="font-size: 11px; color: #666;">67 –æ—Ü—ñ–Ω–æ–∫</div>
                        </div>
                    </div>
                </div>
                
                <!-- Video Rating Section -->
                <div style="margin-top: 30px;">
                    <h4 style="margin-bottom: 15px; font-size: 16px; color: white;">üìπ –û—Ü—ñ–Ω—ñ—Ç—å –≤—ñ–¥–µ–æ –≥—Ä–∞–≤—Ü—ñ–≤</h4>
                    
                    <!-- Video 1 -->
                    <div style="background: rgba(255,255,255,0.9); border-radius: 15px; margin-bottom: 15px; overflow: hidden; color: #333; box-shadow: 0 6px 20px rgba(0,0,0,0.1);">
                        <div style="padding: 15px; background: linear-gradient(135deg, #4caf50, #66bb6a); color: white;">
                            <div style="font-size: 14px; font-weight: 700;">‚öΩ –ù–µ–π–º–æ–≤—ñ—Ä–Ω–∏–π –≥–æ–ª –≤—ñ–¥ –í—ñ–∫—Ç–æ—Ä–∞</div>
                            <div style="font-size: 12px; opacity: 0.9;">–í—ñ–∫—Ç–æ—Ä –®–µ–≤—á–µ–Ω–∫–æ ‚Ä¢ –ù–∞–ø–∞–¥–Ω–∏–∫ ‚Ä¢ –ö–∏—ó–≤</div>
                        </div>
                        <div style="padding: 15px;">
                            <div style="background: #f5f5f5; height: 120px; border-radius: 10px; display: flex; align-items: center; justify-content: center; margin-bottom: 15px; color: #666;">
                                <i class="fas fa-play-circle" style="font-size: 48px;"></i>
                            </div>
                            <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                                <span style="font-size: 14px; font-weight: 600;">–í–∞—à–∞ –æ—Ü—ñ–Ω–∫–∞:</span>
                                <input type="range" id="video_rating_1" min="0" max="5" step="0.01" value="0" onchange="updateVoteValue('video1', this.value)" style="flex: 1;">
                                <span id="vote_value_video1" style="font-size: 14px; font-weight: 700; color: #4caf50; min-width: 40px;">0.0</span>
                            </div>
                            <button onclick="voteForVideo('video1', event)" style="width: 100%; padding: 8px; background: linear-gradient(135deg, #4caf50, #66bb6a); color: white; border: none; border-radius: 15px; font-weight: 600; cursor: pointer;">
                                –ì–æ–ª–æ—Å—É–≤–∞—Ç–∏
                            </button>
                        </div>
                    </div>
                    
                    <!-- Video 2 -->
                    <div style="background: rgba(255,255,255,0.9); border-radius: 15px; margin-bottom: 15px; overflow: hidden; color: #333; box-shadow: 0 6px 20px rgba(0,0,0,0.1);">
                        <div style="padding: 15px; background: linear-gradient(135deg, #ff9800, #ffb74d); color: white;">
                            <div style="font-size: 14px; font-weight: 700;">üéØ –¢–æ—á–Ω–∏–π —É–¥–∞—Ä –ê–Ω–¥—Ä—ñ—è</div>
                            <div style="font-size: 12px; opacity: 0.9;">–ê–Ω–¥—Ä—ñ–π –ü–µ—Ç—Ä–µ–Ω–∫–æ ‚Ä¢ –ü—ñ–≤–∑–∞—Ö–∏—Å–Ω–∏–∫ ‚Ä¢ –õ—å–≤—ñ–≤</div>
                        </div>
                        <div style="padding: 15px;">
                            <div style="background: #f5f5f5; height: 120px; border-radius: 10px; display: flex; align-items: center; justify-content: center; margin-bottom: 15px; color: #666;">
                                <i class="fas fa-play-circle" style="font-size: 48px;"></i>
                            </div>
                            <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                                <span style="font-size: 14px; font-weight: 600;">–í–∞—à–∞ –æ—Ü—ñ–Ω–∫–∞:</span>
                                <input type="range" id="video_rating_2" min="0" max="5" step="0.01" value="0" onchange="updateVoteValue('video2', this.value)" style="flex: 1;">
                                <span id="vote_value_video2" style="font-size: 14px; font-weight: 700; color: #ff9800; min-width: 40px;">0.0</span>
                            </div>
                            <button onclick="voteForVideo('video2', event)" style="width: 100%; padding: 8px; background: linear-gradient(135deg, #ff9800, #ffb74d); color: white; border: none; border-radius: 15px; font-weight: 600; cursor: pointer;">
                                –ì–æ–ª–æ—Å—É–≤–∞—Ç–∏
                            </button>
                        </div>
                    </div>
                    
                    <!-- Video 3 -->
                    <div style="background: rgba(255,255,255,0.9); border-radius: 15px; margin-bottom: 15px; overflow: hidden; color: #333; box-shadow: 0 6px 20px rgba(0,0,0,0.1);">
                        <div style="padding: 15px; background: linear-gradient(135deg, #9c27b0, #ba68c8); color: white;">
                            <div style="font-size: 14px; font-weight: 700;">‚ö° –®–≤–∏–¥–∫–∏–π –¥—Ä–∏–±–ª—ñ–Ω–≥ –û–ª–µ–∫—Å–∞–Ω–¥—Ä–∞</div>
                            <div style="font-size: 12px; opacity: 0.9;">–û–ª–µ–∫—Å–∞–Ω–¥—Ä –ú–µ–ª—å–Ω–∏–∫ ‚Ä¢ –ù–∞–ø–∞–¥–Ω–∏–∫ ‚Ä¢ –û–¥–µ—Å–∞</div>
                        </div>
                        <div style="padding: 15px;">
                            <div style="background: #f5f5f5; height: 120px; border-radius: 10px; display: flex; align-items: center; justify-content: center; margin-bottom: 15px; color: #666;">
                                <i class="fas fa-play-circle" style="font-size: 48px;"></i>
                            </div>
                            <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                                <span style="font-size: 14px; font-weight: 600;">–í–∞—à–∞ –æ—Ü—ñ–Ω–∫–∞:</span>
                                <input type="range" id="video_rating_3" min="0" max="5" step="0.01" value="0" onchange="updateVoteValue('video3', this.value)" style="flex: 1;">
                                <span id="vote_value_video3" style="font-size: 14px; font-weight: 700; color: #9c27b0; min-width: 40px;">0.0</span>
                            </div>
                            <button onclick="voteForVideo('video3', event)" style="width: 100%; padding: 8px; background: linear-gradient(135deg, #9c27b0, #ba68c8); color: white; border: none; border-radius: 15px; font-weight: 600; cursor: pointer;">
                                –ì–æ–ª–æ—Å—É–≤–∞—Ç–∏
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Profile Section -->
            <div class="content-section" id="profile">
                <h3 style="margin-bottom: 15px; font-size: 18px;">üë§ –ú—ñ–π –ø—Ä–æ—Ñ—ñ–ª—å</h3>
                
                <!-- User Profile Card -->
                <div style="background: rgba(255,255,255,0.9); border-radius: 15px; margin-bottom: 20px; overflow: hidden; color: #333; box-shadow: 0 6px 20px rgba(0,0,0,0.1);">
                    <div style="height: 120px; background: linear-gradient(135deg, #4caf50, #8bc34a); position: relative; display: flex; align-items: center; justify-content: center;">
                        <button onclick="showSettings()" style="position: absolute; top: 15px; right: 15px; background: rgba(255,255,255,0.2); border: none; width: 35px; height: 35px; border-radius: 50%; color: white; cursor: pointer; display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-cog"></i>
                        </button>
                        <!-- Avatar positioned in header -->
                        <div style="width: 80px; height: 80px; background: linear-gradient(135deg, #4caf50, #2e7d32); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 32px; font-weight: 800; border: 4px solid white; box-shadow: 0 6px 20px rgba(0,0,0,0.2); position: absolute; bottom: -40px;">–ú–ö</div>
                    </div>
                    <div style="padding: 20px; padding-top: 50px; text-align: center;">
                        <div style="font-size: 22px; font-weight: 700; color: #2e7d32; margin-bottom: 5px;">–ú–∞–∫—Å–∏–º –ö–æ–≤–∞–ª—å</div>
                        <div style="color: #666; margin-bottom: 15px;">–ü—ñ–≤–∑–∞—Ö–∏—Å–Ω–∏–∫ ‚Ä¢ –ö–∏—ó–≤ ‚Ä¢ 27 —Ä–æ–∫—ñ–≤</div>
                        
                        <div style="display: flex; align-items: center; justify-content: center; gap: 8px; color: #ff9800; font-weight: 700; font-size: 18px; margin-bottom: 20px;">
                            <i class="fas fa-star"></i>
                            <span>4.78</span>
                            <span style="color: #666; font-size: 14px;">(89 –æ—Ü—ñ–Ω–æ–∫)</span>
                        </div>
                        
                        <!-- User Stats -->
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-bottom: 20px;">
                            <div style="text-align: center; padding: 15px; background: rgba(76, 175, 80, 0.1); border-radius: 12px;">
                                <div style="font-size: 20px; font-weight: 800; color: #2e7d32; margin-bottom: 5px;">34</div>
                                <div style="font-size: 11px; color: #666; text-transform: uppercase;">–ú–∞—Ç—á—ñ</div>
                            </div>
                            <div style="text-align: center; padding: 15px; background: rgba(76, 175, 80, 0.1); border-radius: 12px;">
                                <div style="font-size: 20px; font-weight: 800; color: #2e7d32; margin-bottom: 5px;">88%</div>
                                <div style="font-size: 11px; color: #666; text-transform: uppercase;">Win Rate</div>
                            </div>
                            <div style="text-align: center; padding: 15px; background: rgba(76, 175, 80, 0.1); border-radius: 12px;">
                                <div style="font-size: 20px; font-weight: 800; color: #2e7d32; margin-bottom: 5px;">23</div>
                                <div style="font-size: 11px; color: #666; text-transform: uppercase;">–ì–æ–ª–∏</div>
                            </div>
                        </div>

                        <!-- Quick Actions -->
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                            <button onclick="editProfile()" style="padding: 10px; background: linear-gradient(135deg, #4caf50, #66bb6a); color: white; border: none; border-radius: 15px; font-weight: 600; cursor: pointer; transition: all 0.3s ease;">
                                <i class="fas fa-edit"></i> –†–µ–¥–∞–≥—É–≤–∞—Ç–∏
                            </button>
                            <button onclick="showAchievements()" style="padding: 10px; background: linear-gradient(135deg, #ff9800, #ffb74d); color: white; border: none; border-radius: 15px; font-weight: 600; cursor: pointer; transition: all 0.3s ease;">
                                <i class="fas fa-trophy"></i> –î–æ—Å—è–≥–Ω–µ–Ω–Ω—è
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Friends Section -->
                <div onclick="showFriends()" style="background: rgba(255,255,255,0.9); border-radius: 15px; padding: 20px; margin-bottom: 20px; color: #333; cursor: pointer; box-shadow: 0 6px 20px rgba(0,0,0,0.1); transition: all 0.3s ease;">
                    <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
                        <div style="font-size: 18px; font-weight: 700; color: #2e7d32;">üë• –î—Ä—É–∑—ñ</div>
                        <div style="background: #4caf50; color: white; padding: 4px 8px; border-radius: 12px; font-size: 12px; font-weight: 600;">23</div>
                    </div>
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <div style="display: flex; margin-left: -5px;">
                            <div style="width: 35px; height: 35px; background: linear-gradient(135deg, #4caf50, #2e7d32); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 12px; font-weight: 700; border: 2px solid white; margin-left: -5px;">–û–ú</div>
                            <div style="width: 35px; height: 35px; background: linear-gradient(135deg, #2196f3, #1976d2); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 12px; font-weight: 700; border: 2px solid white; margin-left: -5px;">–í–°</div>
                            <div style="width: 35px; height: 35px; background: linear-gradient(135deg, #ff9800, #f57c00); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 12px; font-weight: 700; border: 2px solid white; margin-left: -5px;">–ê–ü</div>
                            <div style="width: 35px; height: 35px; background: linear-gradient(135deg, #9c27b0, #7b1fa2); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 12px; font-weight: 700; border: 2px solid white; margin-left: -5px;">+20</div>
                        </div>
                        <div style="flex: 1;">
                            <div style="font-size: 14px; font-weight: 600;">–û–ª–µ–∫—Å–∞–Ω–¥—Ä, –í—ñ—Ç–∞–ª—ñ–π, –ê–Ω–¥—Ä—ñ–π —Ç–∞ —â–µ 20</div>
                            <div style="font-size: 12px; color: #666;">3 –æ–Ω–ª–∞–π–Ω –∑–∞—Ä–∞–∑</div>
                        </div>
                        <i class="fas fa-chevron-right" style="color: #ccc;"></i>
                    </div>
                </div>

                <!-- Store Section -->
                <div onclick="showStore()" style="background: rgba(255,255,255,0.9); border-radius: 15px; padding: 20px; margin-bottom: 20px; color: #333; cursor: pointer; box-shadow: 0 6px 20px rgba(0,0,0,0.1); transition: all 0.3s ease;">
                    <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
                        <div style="font-size: 18px; font-weight: 700; color: #2e7d32;">üõçÔ∏è –ú–∞–≥–∞–∑–∏–Ω</div>
                        <div style="background: linear-gradient(135deg, #ffc107, #ff8f00); color: white; padding: 4px 8px; border-radius: 12px; font-size: 12px; font-weight: 600;">
                            <i class="fas fa-coins"></i> 250
                        </div>
                    </div>
                    <div style="display: flex; align-items: center; justify-content: space-between;">
                        <div>
                            <div style="font-size: 14px; font-weight: 600;">–ë—É—Å—Ç–µ—Ä–∏, –±–µ–π–¥–∂—ñ —Ç–∞ –µ–º–æ—Ü—ñ—ó</div>
                            <div style="font-size: 12px; color: #666;">–ü—ñ–¥–≤–∏—â —Å–≤—ñ–π —Ä–µ–π—Ç–∏–Ω–≥ —Ç–∞ –≤–∏–≥–ª—è–¥–∞–π –∫—Ä—É—Ç–æ!</div>
                        </div>
                        <i class="fas fa-chevron-right" style="color: #ccc;"></i>
                    </div>
                </div>

                <!-- Subscriptions Section -->
                <div onclick="showSubscriptions()" style="background: rgba(255,255,255,0.9); border-radius: 15px; padding: 20px; margin-bottom: 20px; color: #333; cursor: pointer; box-shadow: 0 6px 20px rgba(0,0,0,0.1); transition: all 0.3s ease; border: 2px solid #4caf50;">
                    <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
                        <div style="font-size: 18px; font-weight: 700; color: #2e7d32;">‚≠ê –ü—ñ–¥–ø–∏—Å–∫–∏ FLAP</div>
                        <div style="background: linear-gradient(135deg, #9c27b0, #e91e63); color: white; padding: 4px 8px; border-radius: 12px; font-size: 12px; font-weight: 600;">
                            –ü–û–ü–£–õ–Ø–†–ù–û
                        </div>
                    </div>
                    <div style="display: flex; align-items: center; justify-content: space-between;">
                        <div>
                            <div style="font-size: 14px; font-weight: 600;">–õ—ñ–≥–∞ –Ñ–≤—Ä–æ–ø–∏ ‚Ä¢ –õ—ñ–≥–∞ –ß–µ–º–ø—ñ–æ–Ω—ñ–≤</div>
                            <div style="font-size: 12px; color: #666;">–†–æ–∑–±–ª–æ–∫—É–π —Ä–µ–π—Ç–∏–Ω–≥ —Ç–∞ –æ—Ç—Ä–∏–º–∞–π –Ω–µ–æ–±–º–µ–∂–µ–Ω—ñ —á–µ–ª–µ–Ω–¥–∂—ñ!</div>
                        </div>
                        <i class="fas fa-chevron-right" style="color: #ccc;"></i>
                    </div>
                </div>

                <!-- My Achievements -->
                <div onclick="showMyAchievements()" style="background: rgba(255,255,255,0.9); border-radius: 15px; padding: 20px; margin-bottom: 20px; color: #333; cursor: pointer; box-shadow: 0 6px 20px rgba(0,0,0,0.1); transition: all 0.3s ease;">
                    <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
                        <div style="font-size: 18px; font-weight: 700; color: #2e7d32;">üèÖ –ú–æ—ó –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è</div>
                        <div style="background: #ff9800; color: white; padding: 4px 8px; border-radius: 12px; font-size: 12px; font-weight: 600;">12/25</div>
                    </div>
                    <div style="display: grid; grid-template-columns: repeat(6, 1fr); gap: 8px; margin-bottom: 15px;">
                        <div style="aspect-ratio: 1; background: rgba(76, 175, 80, 0.2); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 16px;">‚öΩ</div>
                        <div style="aspect-ratio: 1; background: rgba(76, 175, 80, 0.2); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 16px;">üéØ</div>
                        <div style="aspect-ratio: 1; background: rgba(76, 175, 80, 0.2); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 16px;">üèÜ</div>
                        <div style="aspect-ratio: 1; background: rgba(76, 175, 80, 0.2); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 16px;">‚≠ê</div>
                        <div style="aspect-ratio: 1; background: rgba(200, 200, 200, 0.3); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 16px; opacity: 0.5;">ü•á</div>
                        <div style="aspect-ratio: 1; background: rgba(200, 200, 200, 0.3); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 16px; opacity: 0.5;">üëë</div>
                    </div>
                    <div style="display: flex; align-items: center; justify-content: space-between;">
                        <div>
                            <div style="font-size: 14px; font-weight: 600;">–û—Å—Ç–∞–Ω–Ω—î: "–ì–æ–ª—å–æ–≤–∞ –º–∞—à–∏–Ω–∞" ‚öΩ</div>
                            <div style="font-size: 12px; color: #666;">2 –¥–Ω—ñ —Ç–æ–º—É</div>
                        </div>
                        <i class="fas fa-chevron-right" style="color: #ccc;"></i>
                    </div>
                </div>
            </div>

            <!-- FAB -->
            <button class="fab" onclick="showAddMenu()">
                <i class="fas fa-plus"></i>
            </button>
        </div>

        <!-- Player Profile Modal -->
        <div class="player-profile-modal" id="playerProfileModal">
            <div class="player-profile-content">
                <div class="profile-cover">
                    <button class="profile-close" onclick="closePlayerProfile()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="profile-main">
                    <div class="profile-avatar-large" id="profileAvatar">–û–ú</div>
                    <div class="profile-name" id="profileName">–û–ª–µ–∫—Å–∞–Ω–¥—Ä –ú–µ–ª—å–Ω–∏–∫</div>
                    <div class="profile-position" id="profilePosition">–ù–∞–ø–∞–¥–Ω–∏–∫ ‚Ä¢ –ö–∏—ó–≤ ‚Ä¢ 25 —Ä–æ–∫—ñ–≤</div>
                    <div class="profile-rating">
                        <i class="fas fa-star"></i>
                        <span id="profileRating">4.9</span>
                        <span style="color: #666; font-size: 14px;">(47 –æ—Ü—ñ–Ω–æ–∫)</span>
                    </div>
                    
                    <div class="profile-stats">
                        <div class="profile-stat">
                            <div class="profile-stat-number" id="profileMatches">67</div>
                            <div class="profile-stat-label">–ú–∞—Ç—á—ñ</div>
                        </div>
                        <div class="profile-stat">
                            <div class="profile-stat-number" id="profileWinRate">92%</div>
                            <div class="profile-stat-label">Win Rate</div>
                        </div>
                        <div class="profile-stat">
                            <div class="profile-stat-number" id="profileGoals">89</div>
                            <div class="profile-stat-label">–ì–æ–ª–∏</div>
                        </div>
                    </div>

                                            <div class="profile-actions">
                            <button class="profile-btn primary" onclick="addFriend()">
                                <i class="fas fa-user-plus"></i> –î–æ–¥–∞—Ç–∏ –≤ –¥—Ä—É–∑—ñ
                            </button>
                            <button class="profile-btn secondary" onclick="inviteToMatch()">
                                <i class="fas fa-futbol"></i> –ó–∞–ø—Ä–æ—Å–∏—Ç–∏ –≥—Ä–∞—Ç–∏
                            </button>
                        </div>

                        <!-- Contact Info -->
                        <div style="text-align: left; margin-bottom: 20px; padding: 15px; background: rgba(76, 175, 80, 0.05); border-radius: 12px;">
                            <div style="font-size: 16px; font-weight: 700; color: #2e7d32; margin-bottom: 10px;">üìû –ö–æ–Ω—Ç–∞–∫—Ç–∏</div>
                            <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                                <i class="fas fa-phone" style="color: #4caf50; width: 16px;"></i>
                                <span style="font-size: 13px;">+380123456789</span>
                                <button onclick="copyContact('+380123456789')" style="background: none; border: none; color: #4caf50; cursor: pointer; padding: 2px;">
                                    <i class="fas fa-copy" style="font-size: 10px;"></i>
                                </button>
                            </div>
                            <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                                <i class="fab fa-telegram" style="color: #0088cc; width: 16px;"></i>
                                <span style="font-size: 13px;">@oleksandr_m</span>
                                <button onclick="copyContact('@oleksandr_m')" style="background: none; border: none; color: #0088cc; cursor: pointer; padding: 2px;">
                                    <i class="fas fa-copy" style="font-size: 10px;"></i>
                                </button>
                            </div>
                            <div style="display: flex; align-items: center; gap: 8px;">
                                <i class="fab fa-instagram" style="color: #e4405f; width: 16px;"></i>
                                <span style="font-size: 13px;">@oleksandr.football</span>
                                <button onclick="copyContact('@oleksandr.football')" style="background: none; border: none; color: #e4405f; cursor: pointer; padding: 2px;">
                                    <i class="fas fa-copy" style="font-size: 10px;"></i>
                                </button>
                            </div>
                        </div>

                    <div class="profile-achievements">
                        <div class="achievements-title">üèÖ –î–æ—Å—è–≥–Ω–µ–Ω–Ω—è</div>
                        <div class="achievements-grid">
                            <div class="achievement-badge" title="–ì–æ–ª—å–æ–≤–∞ –º–∞—à–∏–Ω–∞">‚öΩ</div>
                            <div class="achievement-badge" title="–ö–∞–ø—ñ—Ç–∞–Ω">üëë</div>
                            <div class="achievement-badge" title="–°–Ω–∞–π–ø–µ—Ä">üéØ</div>
                            <div class="achievement-badge" title="MVP">üèÜ</div>
                            <div class="achievement-badge" title="–õ—ñ–¥–µ—Ä">‚≠ê</div>
                            <div class="achievement-badge" title="–ß–µ–º–ø—ñ–æ–Ω">ü•á</div>
                            <div class="achievement-badge" title="–ú–∞–π—Å—Ç–µ—Ä —Ñ—ñ–Ω—Ç—ñ–≤">‚ú®</div>
                            <div class="achievement-badge" title="–ö–æ–º–∞–Ω–¥–Ω–∏–π –≥—Ä–∞–≤–µ—Ü—å">ü§ù</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Player Rating Modal -->
        <div class="rating-modal" id="ratingModal">
            <div class="rating-content">
                <div class="rating-title">–û—Ü—ñ–Ω—ñ—Ç—å –≥—Ä–∞–≤—Ü—è</div>
                <div class="rating-player">
                    <div class="rating-player-avatar" id="ratingPlayerAvatar">–û–ú</div>
                    <div class="rating-player-info">
                        <div class="rating-player-name" id="ratingPlayerName">–û–ª–µ–∫—Å–∞–Ω–¥—Ä –ú–µ–ª—å–Ω–∏–∫</div>
                        <div class="rating-player-position" id="ratingPlayerPosition">–ù–∞–ø–∞–¥–Ω–∏–∫</div>
                    </div>
                </div>
                <div style="padding: 20px;">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                        <span style="font-weight: 600; font-size: 14px;">–û—Ü—ñ–Ω–∫–∞:</span>
                        <input type="range" min="0" max="5" step="0.01" value="0" onchange="updatePlayerRating(this.value)" style="flex: 1; height: 8px; border-radius: 5px; background: #ddd; outline: none; -webkit-appearance: none;">
                        <span id="playerRatingValue" style="font-weight: 700; color: #ff9800; min-width: 35px; font-size: 16px;">0.0</span>
                    </div>
                    <div style="text-align: center; margin-bottom: 15px;">
                        <div id="ratingStars" style="font-size: 24px; color: #ddd;">‚òÜ‚òÜ‚òÜ‚òÜ‚òÜ</div>
                    </div>
                </div>
                <textarea class="rating-comment" placeholder="–î–æ–¥–∞–π—Ç–µ –∫–æ–º–µ–Ω—Ç–∞—Ä –ø—Ä–æ –≥—Ä—É –≥—Ä–∞–≤—Ü—è (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)"></textarea>
                <div class="rating-buttons">
                    <button class="rating-btn submit" onclick="submitRating()">–û—Ü—ñ–Ω–∏—Ç–∏</button>
                    <button class="rating-btn skip" onclick="skipRating()">–ü—Ä–æ–ø—É—Å—Ç–∏—Ç–∏</button>
                </div>
            </div>
        </div>

        <!-- Loading Spinner -->
        <div class="loading-spinner" id="loadingSpinner">
            <div class="spinner"></div>
        </div>

        <!-- Toast Messages -->
        <div class="message-toast" id="messageToast"></div>

        <!-- Friends Modal -->
        <div class="modal" id="friendsModal" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 3000; display: none; align-items: center; justify-content: center; padding: 20px;">
            <div style="background: white; border-radius: 20px; width: 100%; max-width: 380px; max-height: 90vh; overflow-y: auto; color: #333; position: relative;">
                <div style="padding: 20px; border-bottom: 1px solid #eee; display: flex; align-items: center; justify-content: space-between;">
                    <h3 style="color: #2e7d32; margin: 0;">üë• –ú–æ—ó –¥—Ä—É–∑—ñ (23)</h3>
                    <button onclick="closeFriends()" style="background: none; border: none; font-size: 20px; color: #666; cursor: pointer;">‚úï</button>
                </div>
                <div style="padding: 20px;">
                    <div style="display: flex; gap: 10px; margin-bottom: 20px;">
                        <button style="flex: 1; padding: 8px; background: #4caf50; color: white; border: none; border-radius: 12px; font-weight: 600; cursor: pointer;">–û–Ω–ª–∞–π–Ω</button>
                        <button style="flex: 1; padding: 8px; background: #f5f5f5; color: #666; border: none; border-radius: 12px; font-weight: 600; cursor: pointer;">–í—Å—ñ</button>
                    </div>
                    
                    <div class="friend-item" onclick="showPlayerProfile('oleksandr_m')" style="display: flex; align-items: center; gap: 12px; padding: 10px; background: rgba(76, 175, 80, 0.1); border-radius: 10px; margin-bottom: 10px; cursor: pointer;">
                        <div style="position: relative;">
                            <div style="width: 45px; height: 45px; background: linear-gradient(135deg, #4caf50, #2e7d32); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700;">–û–ú</div>
                            <div style="position: absolute; bottom: 0; right: 0; width: 12px; height: 12px; background: #4caf50; border-radius: 50%; border: 2px solid white;"></div>
                        </div>
                        <div style="flex: 1;">
                            <div style="font-weight: 600; margin-bottom: 2px;">–û–ª–µ–∫—Å–∞–Ω–¥—Ä –ú–µ–ª—å–Ω–∏–∫</div>
                            <div style="font-size: 12px; color: #666;">–æ–Ω–ª–∞–π–Ω ‚Ä¢ –≥—Ä–∞—î –º–∞—Ç—á</div>
                        </div>
                        <button onclick="inviteToMatch()" style="padding: 5px 10px; background: #2196f3; color: white; border: none; border-radius: 8px; font-size: 11px;">–ó–∞–ø—Ä–æ—Å–∏—Ç–∏</button>
                    </div>

                    <div class="friend-item" onclick="showPlayerProfile('vitaliy_s')" style="display: flex; align-items: center; gap: 12px; padding: 10px; background: rgba(76, 175, 80, 0.1); border-radius: 10px; margin-bottom: 10px; cursor: pointer;">
                        <div style="position: relative;">
                            <div style="width: 45px; height: 45px; background: linear-gradient(135deg, #2196f3, #1976d2); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700;">–í–°</div>
                            <div style="position: absolute; bottom: 0; right: 0; width: 12px; height: 12px; background: #4caf50; border-radius: 50%; border: 2px solid white;"></div>
                        </div>
                        <div style="flex: 1;">
                            <div style="font-weight: 600; margin-bottom: 2px;">–í—ñ—Ç–∞–ª—ñ–π –°–µ–º–µ–Ω–æ–≤</div>
                            <div style="font-size: 12px; color: #666;">–æ–Ω–ª–∞–π–Ω ‚Ä¢ —à—É–∫–∞—î –º–∞—Ç—á</div>
                        </div>
                        <button onclick="inviteToMatch()" style="padding: 5px 10px; background: #2196f3; color: white; border: none; border-radius: 8px; font-size: 11px;">–ó–∞–ø—Ä–æ—Å–∏—Ç–∏</button>
                    </div>

                    <div class="friend-item" onclick="showPlayerProfile('andriy_p')" style="display: flex; align-items: center; gap: 12px; padding: 10px; background: rgba(76, 175, 80, 0.1); border-radius: 10px; margin-bottom: 10px; cursor: pointer;">
                        <div style="position: relative;">
                            <div style="width: 45px; height: 45px; background: linear-gradient(135deg, #ff9800, #f57c00); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700;">–ê–ü</div>
                            <div style="position: absolute; bottom: 0; right: 0; width: 12px; height: 12px; background: #4caf50; border-radius: 50%; border: 2px solid white;"></div>
                        </div>
                        <div style="flex: 1;">
                            <div style="font-weight: 600; margin-bottom: 2px;">–ê–Ω–¥—Ä—ñ–π –ü–µ—Ç—Ä–µ–Ω–∫–æ</div>
                            <div style="font-size: 12px; color: #666;">–æ–Ω–ª–∞–π–Ω ‚Ä¢ –≤ –≥–æ–ª–æ–≤–Ω–æ–º—É –º–µ–Ω—é</div>
                        </div>
                        <button onclick="inviteToMatch()" style="padding: 5px 10px; background: #2196f3; color: white; border: none; border-radius: 8px; font-size: 11px;">–ó–∞–ø—Ä–æ—Å–∏—Ç–∏</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Create Video Modal -->
        <div class="modal" id="createVideoModal" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 3000; display: none; align-items: center; justify-content: center; padding: 20px;">
            <div style="background: linear-gradient(135deg, #2e7d32, #4caf50); border-radius: 20px; width: 100%; max-width: 400px; color: white; padding: 20px;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h3 style="margin: 0; font-size: 18px;">üìπ –°—Ç–≤–æ—Ä–∏—Ç–∏ –≤—ñ–¥–µ–æ</h3>
                    <button onclick="closeCreateVideo()" style="background: none; border: none; color: white; font-size: 24px; cursor: pointer;">&times;</button>
                </div>
                
                <form onsubmit="submitVideo(event)">
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600;">üìÅ –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≤—ñ–¥–µ–æ</label>
                        <input type="file" accept="video/*" style="width: 100%; padding: 10px; border: 2px solid rgba(255,255,255,0.3); border-radius: 8px; background: rgba(255,255,255,0.1); color: white;">
                    </div>
                    
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600;">üìù –ù–∞–∑–≤–∞ –≤—ñ–¥–µ–æ</label>
                        <input type="text" placeholder="–í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É –≤—ñ–¥–µ–æ" style="width: 100%; padding: 10px; border: 2px solid rgba(255,255,255,0.3); border-radius: 8px; background: rgba(255,255,255,0.1); color: white;">
                    </div>
                    
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600;">‚öΩ –ö–∞—Ç–µ–≥–æ—Ä—ñ—è</label>
                        <select style="width: 100%; padding: 10px; border: 2px solid rgba(255,255,255,0.3); border-radius: 8px; background: rgba(255,255,255,0.1); color: white;">
                            <option value="tricks">üéØ –§—ñ–Ω—Ç–∏</option>
                            <option value="accuracy">‚öΩ –¢–æ—á–Ω—ñ—Å—Ç—å</option>
                            <option value="speed">üèÉ –®–≤–∏–¥–∫—ñ—Å—Ç—å</option>
                            <option value="top">üî• –¢–æ–ø</option>
                        </select>
                    </div>
                    
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600;">üìÑ –û–ø–∏—Å</label>
                        <textarea placeholder="–û–ø–∏—à—ñ—Ç—å –≤–∞—à–µ –≤—ñ–¥–µ–æ..." rows="3" style="width: 100%; padding: 10px; border: 2px solid rgba(255,255,255,0.3); border-radius: 8px; background: rgba(255,255,255,0.1); color: white; resize: vertical;"></textarea>
                    </div>
                    
                    <button type="submit" style="width: 100%; padding: 12px; background: linear-gradient(45deg, #66bb6a, #81c784); border: none; border-radius: 10px; color: white; font-weight: 600; font-size: 16px; cursor: pointer;">
                        üöÄ –û–ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏ –≤—ñ–¥–µ–æ
                    </button>
                </form>
            </div>
        </div>

        <!-- Store Modal -->
        <div class="modal" id="storeModal" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 3000; display: none; align-items: center; justify-content: center; padding: 20px;">
            <div style="background: white; border-radius: 20px; width: 100%; max-width: 380px; max-height: 90vh; overflow-y: auto; color: #333; position: relative;">
                <div style="padding: 20px; border-bottom: 1px solid #eee; display: flex; align-items: center; justify-content: space-between;">
                    <h3 style="color: #2e7d32; margin: 0;">üõçÔ∏è –ú–∞–≥–∞–∑–∏–Ω</h3>
                    <button onclick="closeStore()" style="background: none; border: none; font-size: 20px; color: #666; cursor: pointer;">‚úï</button>
                </div>
                <div style="padding: 20px;">
                    <div style="background: rgba(255, 193, 7, 0.1); border-radius: 12px; padding: 15px; margin-bottom: 20px; text-align: center;">
                        <div style="font-size: 24px; margin-bottom: 5px;">üí∞</div>
                        <div style="font-size: 18px; font-weight: 700; color: #ff8f00;">–í–∞—à –±–∞–ª–∞–Ω—Å: <span id="storeCoins">250</span> –º–æ–Ω–µ—Ç</div>
                    </div>

                    <h4 style="margin-bottom: 15px; color: #2e7d32;">üèÜ –ë—É—Å—Ç–µ—Ä–∏ —Ä–µ–π—Ç–∏–Ω–≥—É</h4>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin-bottom: 25px;">
                        <div onclick="buyItem('rating_boost', 50)" style="background: rgba(76, 175, 80, 0.1); border-radius: 12px; padding: 15px; text-align: center; cursor: pointer; border: 2px solid transparent; transition: all 0.3s ease;">
                            <div style="font-size: 30px; margin-bottom: 8px;">‚≠ê</div>
                            <div style="font-size: 13px; font-weight: 600; margin-bottom: 5px;">–ë—É—Å—Ç–µ—Ä +0.1</div>
                            <div style="font-size: 16px; font-weight: 700; color: #ff8f00;">50 üí∞</div>
                        </div>
                        <div onclick="buyItem('mega_boost', 100)" style="background: rgba(255, 152, 0, 0.1); border-radius: 12px; padding: 15px; text-align: center; cursor: pointer; border: 2px solid transparent; transition: all 0.3s ease;">
                            <div style="font-size: 30px; margin-bottom: 8px;">üöÄ</div>
                            <div style="font-size: 13px; font-weight: 600; margin-bottom: 5px;">–ú–µ–≥–∞ –±—É—Å—Ç–µ—Ä +0.2</div>
                            <div style="font-size: 16px; font-weight: 700; color: #ff8f00;">100 üí∞</div>
                        </div>
                    </div>

                    <h4 style="margin-bottom: 15px; color: #2e7d32;">üèÖ –ï–∫—Å–∫–ª—é–∑–∏–≤–Ω—ñ –±–µ–π–¥–∂—ñ</h4>
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-bottom: 25px;">
                        <div onclick="buyItem('vip_badge', 200)" style="background: rgba(156, 39, 176, 0.1); border-radius: 12px; padding: 12px; text-align: center; cursor: pointer;">
                            <div style="font-size: 25px; margin-bottom: 5px;">üíé</div>
                            <div style="font-size: 11px; font-weight: 600; margin-bottom: 3px;">VIP</div>
                            <div style="font-size: 14px; font-weight: 700; color: #ff8f00;">200üí∞</div>
                        </div>
                        <div onclick="buyItem('legend_badge', 500)" style="background: rgba(233, 30, 99, 0.1); border-radius: 12px; padding: 12px; text-align: center; cursor: pointer;">
                            <div style="font-size: 25px; margin-bottom: 5px;">üëë</div>
                            <div style="font-size: 11px; font-weight: 600; margin-bottom: 3px;">–õ–µ–≥–µ–Ω–¥–∞</div>
                            <div style="font-size: 14px; font-weight: 700; color: #ff8f00;">500üí∞</div>
                        </div>
                        <div onclick="buyItem('fire_badge', 150)" style="background: rgba(244, 67, 54, 0.1); border-radius: 12px; padding: 12px; text-align: center; cursor: pointer;">
                            <div style="font-size: 25px; margin-bottom: 5px;">üî•</div>
                            <div style="font-size: 11px; font-weight: 600; margin-bottom: 3px;">–û–≥–æ–Ω—å</div>
                            <div style="font-size: 14px; font-weight: 700; color: #ff8f00;">150üí∞</div>
                        </div>
                    </div>

                    <h4 style="margin-bottom: 15px; color: #2e7d32;">üòä –ï–º–æ—Ü—ñ—ó</h4>
                    <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px;">
                        <div onclick="buyItem('celebration', 25)" style="background: rgba(76, 175, 80, 0.1); border-radius: 8px; padding: 10px; text-align: center; cursor: pointer;">
                            <div style="font-size: 20px; margin-bottom: 3px;">üéâ</div>
                            <div style="font-size: 12px; font-weight: 700; color: #ff8f00;">25üí∞</div>
                        </div>
                        <div onclick="buyItem('cool', 25)" style="background: rgba(76, 175, 80, 0.1); border-radius: 8px; padding: 10px; text-align: center; cursor: pointer;">
                            <div style="font-size: 20px; margin-bottom: 3px;">üòé</div>
                            <div style="font-size: 12px; font-weight: 700; color: #ff8f00;">25üí∞</div>
                        </div>
                        <div onclick="buyItem('strong', 30)" style="background: rgba(76, 175, 80, 0.1); border-radius: 8px; padding: 10px; text-align: center; cursor: pointer;">
                            <div style="font-size: 20px; margin-bottom: 3px;">üí™</div>
                            <div style="font-size: 12px; font-weight: 700; color: #ff8f00;">30üí∞</div>
                        </div>
                        <div onclick="buyItem('lightning', 35)" style="background: rgba(76, 175, 80, 0.1); border-radius: 8px; padding: 10px; text-align: center; cursor: pointer;">
                            <div style="font-size: 20px; margin-bottom: 3px;">‚ö°</div>
                            <div style="font-size: 12px; font-weight: 700; color: #ff8f00;">35üí∞</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Subscriptions Modal -->
        <div class="modal" id="subscriptionsModal" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 3000; display: none; align-items: center; justify-content: center; padding: 20px;">
            <div style="background: white; border-radius: 20px; width: 100%; max-width: 380px; max-height: 90vh; overflow-y: auto; color: #333; position: relative;">
                <div style="padding: 20px; border-bottom: 1px solid #eee; display: flex; align-items: center; justify-content: space-between;">
                    <h3 style="color: #2e7d32; margin: 0;">‚≠ê –ü—ñ–¥–ø–∏—Å–∫–∏ FLAP</h3>
                    <button onclick="closeSubscriptions()" style="background: none; border: none; font-size: 20px; color: #666; cursor: pointer;">‚úï</button>
                </div>
                <div style="padding: 20px;">
                    <!-- Europa League -->
                    <div style="background: linear-gradient(135deg, #ff9800, #ffb74d); border-radius: 15px; padding: 20px; margin-bottom: 20px; color: white; position: relative; overflow: hidden;">
                        <div style="position: absolute; top: -20px; right: -20px; font-size: 80px; opacity: 0.2;">üèÜ</div>
                        <h4 style="margin: 0 0 10px 0; font-size: 20px;">–õ—ñ–≥–∞ –Ñ–≤—Ä–æ–ø–∏</h4>
                        <div style="font-size: 32px; font-weight: 800; margin-bottom: 10px;">99‚Ç¥<span style="font-size: 16px; opacity: 0.8;">/–º—ñ—Å—è—Ü—å</span></div>
                        <div style="margin-bottom: 15px;">
                            <div style="margin-bottom: 8px;">‚úÖ –†–æ–∑–±–ª–æ–∫–æ–≤–∞–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥ (–≤–∏–¥–∏–º–∏–π –≤—Å—ñ–º)</div>
                            <div style="margin-bottom: 8px;">‚úÖ –î–æ 3 —á–µ–ª–µ–Ω–¥–∂—ñ–≤ –Ω–∞ –º—ñ—Å—è—Ü—å</div>
                            <div style="margin-bottom: 8px;">‚úÖ –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞</div>
                        </div>
                        <button onclick="buySubscription('europa')" style="width: 100%; padding: 12px; background: rgba(255,255,255,0.2); border: 2px solid white; border-radius: 25px; color: white; font-weight: 700; cursor: pointer;">
                            –ü—ñ–¥–ø–∏—Å–∞—Ç–∏—Å—è
                        </button>
                    </div>

                    <!-- Champions League -->
                    <div style="background: linear-gradient(135deg, #2196f3, #64b5f6); border-radius: 15px; padding: 20px; margin-bottom: 20px; color: white; position: relative; overflow: hidden;">
                        <div style="position: absolute; top: -20px; right: -20px; font-size: 80px; opacity: 0.2;">üëë</div>
                        <div style="position: absolute; top: 10px; right: 10px; background: #f44336; color: white; padding: 4px 8px; border-radius: 10px; font-size: 10px; font-weight: 700;">–ü–û–ü–£–õ–Ø–†–ù–û</div>
                        <h4 style="margin: 0 0 10px 0; font-size: 20px;">–õ—ñ–≥–∞ –ß–µ–º–ø—ñ–æ–Ω—ñ–≤</h4>
                        <div style="font-size: 32px; font-weight: 800; margin-bottom: 10px;">159‚Ç¥<span style="font-size: 16px; opacity: 0.8;">/–º—ñ—Å—è—Ü—å</span></div>
                        <div style="margin-bottom: 15px;">
                            <div style="margin-bottom: 8px;">‚úÖ –í—Å–µ –∑ –õ—ñ–≥–∏ –Ñ–≤—Ä–æ–ø–∏</div>
                            <div style="margin-bottom: 8px;">‚úÖ –ù–µ–æ–±–º–µ–∂–µ–Ω—ñ —á–µ–ª–µ–Ω–¥–∂—ñ</div>
                            <div style="margin-bottom: 8px;">‚úÖ +100 –º–æ–Ω–µ—Ç —â–æ–º—ñ—Å—è—Ü—è</div>
                            <div style="margin-bottom: 8px;">‚úÖ –ï–∫—Å–∫–ª—é–∑–∏–≤–Ω—ñ –±–µ–π–¥–∂—ñ</div>
                        </div>
                        <button onclick="buySubscription('champions')" style="width: 100%; padding: 12px; background: rgba(255,255,255,0.2); border: 2px solid white; border-radius: 25px; color: white; font-weight: 700; cursor: pointer;">
                            –ü—ñ–¥–ø–∏—Å–∞—Ç–∏—Å—è
                        </button>
                    </div>

                    <!-- Coins Purchase -->
                    <div style="background: #f5f5f5; border-radius: 15px; padding: 20px;">
                        <h4 style="margin: 0 0 15px 0; color: #2e7d32;">üí∞ –ö—É–ø–∏—Ç–∏ –º–æ–Ω–µ—Ç–∏</h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                            <button onclick="buyCoins(10, 10)" style="padding: 12px; background: linear-gradient(135deg, #ffc107, #ffeb3b); border: none; border-radius: 12px; font-weight: 600; cursor: pointer;">
                                <div style="font-size: 18px;">üí∞ 10</div>
                                <div style="font-size: 12px;">10‚Ç¥</div>
                            </button>
                            <button onclick="buyCoins(100, 90)" style="padding: 12px; background: linear-gradient(135deg, #ff9800, #ffb74d); border: none; border-radius: 12px; font-weight: 600; cursor: pointer;">
                                <div style="font-size: 18px;">üí∞ 100</div>
                                <div style="font-size: 12px;">90‚Ç¥</div>
                            </button>
                            <button onclick="buyCoins(500, 400)" style="padding: 12px; background: linear-gradient(135deg, #9c27b0, #ba68c8); border: none; border-radius: 12px; font-weight: 600; cursor: pointer; color: white;">
                                <div style="font-size: 18px;">üí∞ 500</div>
                                <div style="font-size: 12px;">400‚Ç¥</div>
                            </button>
                            <button onclick="buyCoins(1000, 750)" style="padding: 12px; background: linear-gradient(135deg, #f44336, #ef5350); border: none; border-radius: 12px; font-weight: 600; cursor: pointer; color: white;">
                                <div style="font-size: 18px;">üí∞ 1000</div>
                                <div style="font-size: 12px;">750‚Ç¥</div>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Settings Modal -->
        <div class="modal" id="settingsModal" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 3000; display: none; align-items: center; justify-content: center; padding: 20px;">
            <div style="background: white; border-radius: 20px; width: 100%; max-width: 380px; max-height: 90vh; overflow-y: auto; color: #333; position: relative;">
                <div style="padding: 20px; border-bottom: 1px solid #eee; display: flex; align-items: center; justify-content: space-between;">
                    <h3 style="color: #2e7d32; margin: 0;">‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</h3>
                    <button onclick="closeSettings()" style="background: none; border: none; font-size: 20px; color: #666; cursor: pointer;">‚úï</button>
                </div>
                <div style="padding: 20px;">
                    <div onclick="editProfile()" style="display: flex; align-items: center; gap: 15px; padding: 15px; background: rgba(76, 175, 80, 0.1); border-radius: 12px; margin-bottom: 15px; cursor: pointer;">
                        <div style="width: 40px; height: 40px; background: #4caf50; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white;">
                            <i class="fas fa-user-edit"></i>
                        </div>
                        <div style="flex: 1;">
                            <div style="font-weight: 600; margin-bottom: 3px;">–†–µ–¥–∞–≥—É–≤–∞—Ç–∏ –ø—Ä–æ—Ñ—ñ–ª—å</div>
                            <div style="font-size: 12px; color: #666;">–ó–º—ñ–Ω–∏ —Ñ–æ—Ç–æ, —ñ–º'—è, –ø–æ–∑–∏—Ü—ñ—é</div>
                        </div>
                        <i class="fas fa-chevron-right" style="color: #ccc;"></i>
                    </div>

                    <div onclick="showNotificationSettings()" style="display: flex; align-items: center; gap: 15px; padding: 15px; background: rgba(76, 175, 80, 0.1); border-radius: 12px; margin-bottom: 15px; cursor: pointer;">
                        <div style="width: 40px; height: 40px; background: #2196f3; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white;">
                            <i class="fas fa-bell"></i>
                        </div>
                        <div style="flex: 1;">
                            <div style="font-weight: 600; margin-bottom: 3px;">–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è</div>
                            <div style="font-size: 12px; color: #666;">–ù–∞–ª–∞—à—Ç—É–π —â–æ –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏</div>
                        </div>
                        <i class="fas fa-chevron-right" style="color: #ccc;"></i>
                    </div>

                    <div onclick="showPrivacySettings()" style="display: flex; align-items: center; gap: 15px; padding: 15px; background: rgba(76, 175, 80, 0.1); border-radius: 12px; margin-bottom: 15px; cursor: pointer;">
                        <div style="width: 40px; height: 40px; background: #ff9800; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white;">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div style="flex: 1;">
                            <div style="font-weight: 600; margin-bottom: 3px;">–ü—Ä–∏–≤–∞—Ç–Ω—ñ—Å—Ç—å</div>
                            <div style="font-size: 12px; color: #666;">–•—Ç–æ –º–æ–∂–µ —Ç–µ–±–µ –∑–Ω–∞–π—Ç–∏</div>
                        </div>
                        <i class="fas fa-chevron-right" style="color: #ccc;"></i>
                    </div>

                    <div onclick="logout()" style="display: flex; align-items: center; gap: 15px; padding: 15px; background: rgba(244, 67, 54, 0.1); border-radius: 12px; margin-bottom: 15px; cursor: pointer;">
                        <div style="width: 40px; height: 40px; background: #f44336; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white;">
                            <i class="fas fa-sign-out-alt"></i>
                        </div>
                        <div style="flex: 1;">
                            <div style="font-weight: 600; margin-bottom: 3px;">–í–∏–π—Ç–∏ –∑ –∞–∫–∞—É–Ω—Ç—É</div>
                            <div style="font-size: 12px; color: #666;">–ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ –≤—Ö–æ–¥—É</div>
                        </div>
                        <i class="fas fa-chevron-right" style="color: #ccc;"></i>
                    </div>
                </div>
            </div>
        </div>

        <!-- Notifications Panel -->
        <div class="notifications-panel" id="notificationsPanel" style="position: fixed; top: 70px; right: 20px; width: 300px; max-height: 400px; background: white; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.3); z-index: 2000; display: none; overflow: hidden; color: #333;">
            <div style="padding: 15px; background: linear-gradient(135deg, #4caf50, #2e7d32); color: white;">
                <h4 style="margin: 0;">üîî –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è</h4>
            </div>
            <div style="max-height: 300px; overflow-y: auto;">
                <div onclick="acceptNotification('match_invite')" style="padding: 15px; border-bottom: 1px solid #eee; cursor: pointer; transition: all 0.3s ease;">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                        <div style="width: 8px; height: 8px; background: #4caf50; border-radius: 50%;"></div>
                        <strong>–ó–∞–ø—Ä–æ—à–µ–Ω–Ω—è –Ω–∞ –º–∞—Ç—á</strong>
                        <span style="font-size: 11px; color: #666; margin-left: auto;">2 —Ö–≤</span>
                    </div>
                    <div style="font-size: 13px; color: #666; margin-bottom: 8px;">–û–ª–µ–∫—Å–∞–Ω–¥—Ä –∑–∞–ø—Ä–æ—Å–∏–≤ –≤–∞—Å –Ω–∞ –º–∞—Ç—á "–í–µ—á—ñ—Ä–Ω—ñ–π —Ñ—É—Ç–±–æ–ª"</div>
                    <div style="display: flex; gap: 8px;">
                        <button style="padding: 4px 8px; background: #4caf50; color: white; border: none; border-radius: 6px; font-size: 11px;">–ü—Ä–∏–π–Ω—è—Ç–∏</button>
                        <button style="padding: 4px 8px; background: #f44336; color: white; border: none; border-radius: 6px; font-size: 11px;">–í—ñ–¥—Ö–∏–ª–∏—Ç–∏</button>
                    </div>
                </div>

                <div onclick="readNotification('challenge_result')" style="padding: 15px; border-bottom: 1px solid #eee; cursor: pointer;">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                        <div style="width: 8px; height: 8px; background: #ff9800; border-radius: 50%;"></div>
                        <strong>–†–µ–∑—É–ª—å—Ç–∞—Ç —á–µ–ª–µ–Ω–¥–∂—É</strong>
                        <span style="font-size: 11px; color: #666; margin-left: auto;">1 –≥–æ–¥</span>
                    </div>
                    <div style="font-size: 13px; color: #666;">–í–∏ –∑–∞–π–Ω—è–ª–∏ 3 –º—ñ—Å—Ü–µ –≤ "–ö—Ä–∞—â–∏–π —Ñ—ñ–Ω—Ç —Ç–∏–∂–Ω—è" üèÜ</div>
                </div>

                <div onclick="readNotification('friend_request')" style="padding: 15px; border-bottom: 1px solid #eee; cursor: pointer;">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                        <div style="width: 8px; height: 8px; background: #2196f3; border-radius: 50%;"></div>
                        <strong>–ù–æ–≤–∏–π –¥—Ä—É–≥</strong>
                        <span style="font-size: 11px; color: #666; margin-left: auto;">3 –≥–æ–¥</span>
                    </div>
                    <div style="font-size: 13px; color: #666;">–í—ñ—Ç–∞–ª—ñ–π –°–µ–º–µ–Ω–æ–≤ –¥–æ–¥–∞–≤ –≤–∞—Å –¥–æ –¥—Ä—É–∑—ñ–≤ üë•</div>
                </div>

                <div onclick="readNotification('rating_up')" style="padding: 15px; border-bottom: 1px solid #eee; cursor: pointer;">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                        <div style="width: 8px; height: 8px; background: #9c27b0; border-radius: 50%;"></div>
                        <strong>–†–µ–π—Ç–∏–Ω–≥ –ø—ñ–¥–≤–∏—â–∏–≤—Å—è</strong>
                        <span style="font-size: 11px; color: #666; margin-left: auto;">1 –¥–µ–Ω—å</span>
                    </div>
                    <div style="font-size: 13px; color: #666;">–í–∞—à —Ä–µ–π—Ç–∏–Ω–≥ –ø—ñ–¥–Ω—è–≤—Å—è –¥–æ 4.78! ‚≠ê</div>
                </div>

                <div onclick="readNotification('coins_earned')" style="padding: 15px; cursor: pointer;">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                        <div style="width: 8px; height: 8px; background: #ffc107; border-radius: 50%;"></div>
                        <strong>–ú–æ–Ω–µ—Ç–∏ –Ω–∞—Ä–∞—Ö–æ–≤–∞–Ω–æ</strong>
                        <span style="font-size: 11px; color: #666; margin-left: auto;">2 –¥–Ω—ñ</span>
                    </div>
                    <div style="font-size: 13px; color: #666;">+50 –º–æ–Ω–µ—Ç –∑–∞ –∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å —É —á–µ–ª–µ–Ω–¥–∂–∞—Ö üí∞</div>
                </div>
            </div>
        </div>

        <!-- Add Content Menu -->
        <div class="add-menu" id="addMenu" style="position: fixed; bottom: 90px; right: 25px; background: white; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.3); z-index: 2000; display: none; overflow: hidden; color: #333; min-width: 200px;">
            <div onclick="addVideo()" style="padding: 15px; display: flex; align-items: center; gap: 12px; cursor: pointer; border-bottom: 1px solid #eee;">
                <div style="width: 35px; height: 35px; background: #2196f3; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white;">
                    <i class="fas fa-video"></i>
                </div>
                <div>
                    <div style="font-weight: 600;">–î–æ–¥–∞—Ç–∏ –≤—ñ–¥–µ–æ</div>
                    <div style="font-size: 11px; color: #666;">–î–æ —á–µ–ª–µ–Ω–¥–∂—É</div>
                </div>
            </div>
            <div onclick="createMatch()" style="padding: 15px; display: flex; align-items: center; gap: 12px; cursor: pointer; border-bottom: 1px solid #eee;">
                <div style="width: 35px; height: 35px; background: #4caf50; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white;">
                    <i class="fas fa-futbol"></i>
                </div>
                <div>
                    <div style="font-weight: 600;">–°—Ç–≤–æ—Ä–∏—Ç–∏ –º–∞—Ç—á</div>
                    <div style="font-size: 11px; color: #666;">–ó–∞–ø—Ä–æ—Å–∏—Ç–∏ –¥—Ä—É–∑—ñ–≤</div>
                </div>
            </div>
            <div onclick="showCreateChallenge()" style="padding: 15px; display: flex; align-items: center; gap: 12px; cursor: pointer;">
                <div style="width: 35px; height: 35px; background: #ff9800; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white;">
                    <i class="fas fa-trophy"></i>
                </div>
                <div>
                    <div style="font-weight: 600;">–ù–æ–≤–∏–π —á–µ–ª–µ–Ω–¥–∂</div>
                    <div style="font-size: 11px; color: #666;">–°—Ç–≤–æ—Ä–∏—Ç–∏ –∑–º–∞–≥–∞–Ω–Ω—è</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        console.log('üöÄ FLAP JavaScript –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è...');
        
        // Global state
        let currentUser = null;
        let currentRating = 0;
        let currentMatchScore = { green: 2, blue: 1 };
        let coins = 250;
        let videoRatings = {}; // Store current rating values
        
        // DOM ready handler
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize app
        });

        // Team names for auto-balance
        const teamNames = [
            ["‚ö° –ë–ª–∏—Å–∫–∞–≤–∫–∏", "üî• –í–æ–≥–Ω—è–Ω—ñ"],
            ["ü¶Ö –û—Ä–ª–∏", "üê∫ –í–æ–≤–∫–∏"], 
            ["‚≠ê –ó—ñ—Ä–∫–∏", "üíé –î—ñ–∞–º–∞–Ω—Ç–∏"],
            ["üöÄ –†–∞–∫–µ—Ç–∏", "‚öîÔ∏è –í–æ—ó–Ω–∏"],
            ["üèÜ –ß–µ–º–ø—ñ–æ–Ω–∏", "üëë –ö–æ—Ä–æ–ª—ñ"],
            ["üåü –õ–µ–≥–µ–Ω–¥–∏", "üî± –¢–∏—Ç–∞–Ω–∏"]
        ];

        // Video categories data
        const videoCategories = {
            'all': {
                videos: [
                                { id: 'video1', title: '–ö—Ä–∞—â–∏–π —Ñ—ñ–Ω—Ç —Ç–∏–∂–Ω—è', author: '–ê–Ω–¥—Ä—ñ–π –ö–æ–≤–∞–ª–µ–Ω–∫–æ', city: '–ö–∏—ó–≤', position: '–ü—ñ–≤–∑–∞—Ö–∏—Å–Ω–∏–∫', rating: 4.1, category: 'tricks' },
            { id: 'video2', title: '–¢–æ—á–Ω—ñ—Å—Ç—å —É–¥–∞—Ä—ñ–≤', author: '–ü–µ—Ç—Ä–æ –ú–µ–ª—å–Ω–∏–∫', city: '–õ—å–≤—ñ–≤', position: '–ù–∞–ø–∞–¥–Ω–∏–∫', rating: 4.2, category: 'accuracy' },
            { id: 'video3', title: '–®–≤–∏–¥–∫—ñ—Å–Ω–∏–π –¥—Ä–∏–±–ª—ñ–Ω–≥', author: '–î–º–∏—Ç—Ä–æ –ö–æ–≤–∞–ª–µ–Ω–∫–æ', city: '–û–¥–µ—Å–∞', position: '–í–æ—Ä–æ—Ç–∞—Ä', rating: 3.8, category: 'speed' },
            { id: 'video4', title: '–ù–µ–π–º–æ–≤—ñ—Ä–Ω–∏–π —Å–µ–π–≤', author: '–û–ª–µ–∫—Å—ñ–π –®–µ–≤—á–µ–Ω–∫–æ', city: '–•–∞—Ä–∫—ñ–≤', position: '–í–æ—Ä–æ—Ç–∞—Ä', rating: 4.5, category: 'top' },
            { id: 'video5', title: '–¢–µ—Ö–Ω—ñ—á–Ω–∏–π —É–¥–∞—Ä', author: '–ú–∞–∫—Å–∏–º –ó—ñ–Ω—á–µ–Ω–∫–æ', city: '–î–Ω—ñ–ø—Ä–æ', position: '–ü—ñ–≤–∑–∞—Ö–∏—Å–Ω–∏–∫', rating: 3.7, category: 'accuracy' }
                ]
            }
        };

        // Update vote value display
        function updateVoteValue(videoId, value) {
            const ratingValue = parseFloat(value);
            document.getElementById('vote_' + videoId).textContent = ratingValue.toFixed(2);
            videoRatings[videoId] = ratingValue;
        }

        // Video voting with button and disabled slider
        function voteForVideo(videoId, event) {
            event.stopPropagation();
            
            const ratingValue = videoRatings[videoId] || 0;
            
            if (ratingValue === 0) {
                showToast('‚ùå –û–±–µ—Ä—ñ—Ç—å –æ—Ü—ñ–Ω–∫—É –Ω–∞ –ø–æ–≤–∑—É–Ω–∫—É!', 'error');
                return;
            }
            
            // Disable slider and button after voting
            const slider = document.querySelector(`input[onchange*="${videoId}"]`);
            const button = event.target;
            if (slider) slider.disabled = true;
            button.disabled = true;
            button.textContent = '–ü—Ä–æ–≥–æ–ª–æ—Å–æ–≤–∞–Ω–æ';
            button.style.background = '#666';
            
            showToast(`‚≠ê –ì–æ–ª–æ—Å ${ratingValue.toFixed(2)} –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ!`, 'success');
            
            // Show rating change animation
            setTimeout(() => {
                showRatingChange('+0.1', '#4caf50');
            }, 1000);
        }

        // Show rating change
        function showRatingChange(change, color) {
            const toast = document.createElement('div');
            toast.style.cssText = `
                position: fixed;
                top: 60px;
                right: 20px;
                background: ${color};
                color: white;
                padding: 8px 15px;
                border-radius: 20px;
                font-weight: 700;
                font-size: 14px;
                z-index: 2000;
                transform: translateX(300px);
                transition: all 0.5s ease;
            `;
            toast.textContent = `–†–µ–π—Ç–∏–Ω–≥ ${change}`;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.style.transform = 'translateX(0)';
            }, 100);
            
            setTimeout(() => {
                toast.style.transform = 'translateX(300px)';
                setTimeout(() => document.body.removeChild(toast), 500);
            }, 2000);
        }

        // Video filters with actual changes
        function filterVideos(type) {
            document.querySelectorAll('.video-filter').forEach(btn => {
                btn.classList.remove('active');
                btn.style.background = 'rgba(255,255,255,0.1)';
                btn.style.borderColor = 'rgba(255,255,255,0.3)';
                btn.style.color = 'white';
            });
            
            event.target.classList.add('active');
            event.target.style.background = 'rgba(76, 175, 80, 0.2)';
            event.target.style.borderColor = '#4caf50';
            event.target.style.color = '#2e7d32';
            
            // Simulate video content change
            const videoContainer = document.querySelector('#videos');
            const currentVideos = videoContainer.querySelectorAll('.challenge-video-item');
            
            currentVideos.forEach((video, index) => {
                video.style.opacity = '0.3';
                video.style.transform = 'scale(0.95)';
                
                setTimeout(() => {
                    video.style.opacity = '1';
                    video.style.transform = 'scale(1)';
                    
                    // Change video titles based on filter
                    const titleElement = video.querySelector('.challenge-video-title');
                    const authorElement = video.querySelector('strong');
                    
                    switch(type) {
                        case 'tricks':
                            titleElement.textContent = index === 0 ? '–ù–µ–π–º–æ–≤—ñ—Ä–Ω–∏–π —Ñ—ñ–Ω—Ç' : '–¢–µ—Ö–Ω—ñ—á–Ω–∏–π —Ç—Ä—é–∫';
                            authorElement.textContent = index === 0 ? '–í—ñ—Ç–∞–ª—ñ–π –§—ñ–Ω—Ç–µ—Ä' : '–û–ª–µ–≥ –¢–µ—Ö–Ω—ñ–∫';
                            break;
                        case 'accuracy':
                            titleElement.textContent = index === 0 ? '–°—É–ø–µ—Ä —Ç–æ—á–Ω—ñ—Å—Ç—å' : '–í–ª—É—á–Ω–∏–π —É–¥–∞—Ä';
                            authorElement.textContent = index === 0 ? '–ê–Ω–¥—Ä—ñ–π –°–Ω–∞–π–ø–µ—Ä' : '–ú–∞–∫—Å–∏–º –í–ª—É—á–Ω–∏–∫';
                            break;
                        case 'speed':
                            titleElement.textContent = index === 0 ? '–®–≤–∏–¥–∫—ñ—Å—Ç—å –±–ª–∏—Å–∫–∞–≤–∫–∏' : '–†–µ–∫–æ—Ä–¥–Ω–∏–π —á–∞—Å';
                            authorElement.textContent = index === 0 ? '–û–ª–µ–∫—Å–∞–Ω–¥—Ä –®–≤–∏–¥–∫–∏–π' : '–ü–µ—Ç—Ä–æ –†–µ–∫–æ—Ä–¥';
                            break;
                        case 'city':
                            titleElement.textContent = index === 0 ? '–í—ñ–¥–µ–æ –∑ –ö–∏—î–≤–∞' : '–õ—å–≤—ñ–≤—Å—å–∫–∏–π –º–∞–π—Å—Ç–µ—Ä';
                            authorElement.textContent = index === 0 ? '–ö–∏—ó–≤—Å—å–∫–∏–π –ì—Ä–∞–≤–µ—Ü—å' : '–õ—å–≤—ñ–≤—Å—å–∫–∏–π –ü—Ä–æ';
                            break;
                        case 'rating':
                            titleElement.textContent = index === 0 ? '–¢–æ–ø —Ä–µ–π—Ç–∏–Ω–≥ 4.9' : '–í–∏—Å–æ–∫–∏–π —Ä–µ–π—Ç–∏–Ω–≥ 4.7';
                            authorElement.textContent = index === 0 ? '–ó—ñ—Ä–∫–∞ ‚≠ê4.9' : '–ú–∞–π—Å—Ç–µ—Ä ‚≠ê4.7';
                            break;
                        case 'popular':
                            titleElement.textContent = index === 0 ? 'üî• –í—ñ—Ä—É—Å–Ω–µ –≤—ñ–¥–µ–æ' : 'üìà –¢—Ä–µ–Ω–¥–æ–≤–µ –≤—ñ–¥–µ–æ';
                            authorElement.textContent = index === 0 ? '–í—ñ—Ä—É—Å–Ω–∏–π –ë–ª–æ–≥–µ—Ä' : '–ü–æ–ø—É–ª—è—Ä–Ω–∏–π –ì—Ä–∞–≤–µ—Ü—å';
                            break;
                        default:
                            titleElement.textContent = index === 0 ? '–ö—Ä–∞—â–∏–π —Ñ—ñ–Ω—Ç —Ç–∏–∂–Ω—è' : '–¢–æ—á–Ω—ñ—Å—Ç—å —É–¥–∞—Ä—ñ–≤';
                            authorElement.textContent = index === 0 ? '–ê–Ω–¥—Ä—ñ–π –ö–æ–≤–∞–ª–µ–Ω–∫–æ' : '–ü–µ—Ç—Ä–æ –ú–µ–ª—å–Ω–∏–∫';
                    }
                }, index * 200);
            });
            
            const filters = {
                'all': 'üåü –ü–æ–∫–∞–∑–∞–Ω–æ –≤—Å—ñ –≤—ñ–¥–µ–æ',
                'tricks': 'üéØ –ü–æ–∫–∞–∑–∞–Ω–æ —Ç—ñ–ª—å–∫–∏ —Ñ—ñ–Ω—Ç–∏',
                'accuracy': '‚öΩ –ü–æ–∫–∞–∑–∞–Ω–æ –≤—ñ–¥–µ–æ —Ç–æ—á–Ω–æ—Å—Ç—ñ',
                'speed': 'üèÉ –ü–æ–∫–∞–∑–∞–Ω–æ —à–≤–∏–¥–∫—ñ—Å–Ω—ñ –≤—ñ–¥–µ–æ',
                'city': 'üèôÔ∏è –§—ñ–ª—å—Ç—Ä –ø–æ –º—ñ—Å—Ç–∞—Ö',
                'rating': '‚≠ê –ü–æ–∫–∞–∑–∞–Ω–æ –≤—ñ–¥–µ–æ –∑ —Ä–µ–π—Ç–∏–Ω–≥–æ–º 4.5+',
                'popular': 'üî• –ü–æ–∫–∞–∑–∞–Ω–æ –ø–æ–ø—É–ª—è—Ä–Ω—ñ –≤—ñ–¥–µ–æ'
            };
            
            showToast(filters[type], 'success');
        }

        // Better search with city and rating filters
        function searchVideos(query) {
            if (query.length > 2) {
                const isCity = ['–∫–∏—ó–≤', '–ª—å–≤—ñ–≤', '–æ–¥–µ—Å–∞', '—Ö–∞—Ä–∫—ñ–≤', '–¥–Ω—ñ–ø—Ä–æ'].some(city => 
                    query.toLowerCase().includes(city)
                );
                const isRating = query.includes('4.') || query.includes('5.') || query.includes('—Ä–µ–π—Ç–∏–Ω–≥');
                
                if (isCity) {
                    showToast(`üèôÔ∏è –§—ñ–ª—å—Ç—Ä –ø–æ –º—ñ—Å—Ç—É: "${query}"`, 'success');
                } else if (isRating) {
                    showToast(`‚≠ê –§—ñ–ª—å—Ç—Ä –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É: "${query}"`, 'success');
                } else {
                    showToast(`üîç –ü–æ—à—É–∫: "${query}"`, 'success');
                }
            }
        }

        // Enhanced player profiles with different avatars
        function showPlayerProfile(playerId) {
            const players = {
                'andriy_kovalenka': {
                    avatar: 'üéØ',
                    name: '–ê–Ω–¥—Ä—ñ–π –ö–æ–≤–∞–ª–µ–Ω–∫–æ',
                    position: '–ü—ñ–≤–∑–∞—Ö–∏—Å–Ω–∏–∫ ‚Ä¢ –ö–∏—ó–≤ ‚Ä¢ 24 —Ä–æ–∫–∏',
                    rating: '4.8',
                    matches: '89',
                    winRate: '91%',
                    goals: '45',
                    contact: {
                        phone: '+380501234567',
                        telegram: '@andriy_football',
                        instagram: '@andriy.football.kiev'
                    }
                },
                'petro_melnyk': {
                    avatar: '‚öΩ',
                    name: '–ü–µ—Ç—Ä–æ –ú–µ–ª—å–Ω–∏–∫',
                    position: '–ù–∞–ø–∞–¥–Ω–∏–∫ ‚Ä¢ –õ—å–≤—ñ–≤ ‚Ä¢ 23 —Ä–æ–∫–∏',
                    rating: '4.9',
                    matches: '67',
                    winRate: '88%',
                    goals: '89',
                    contact: {
                        phone: '+380671234567',
                        telegram: '@petro_striker',
                        instagram: '@petro.goals.lviv'
                    }
                },
                'oleg_semenko': {
                    avatar: '‚ö°',
                    name: '–û–ª–µ–≥ –°–µ–º–µ–Ω–æ–≤',
                    position: '–£–Ω—ñ–≤–µ—Ä—Å–∞–ª ‚Ä¢ –û–¥–µ—Å–∞ ‚Ä¢ 26 —Ä–æ–∫—ñ–≤',
                    rating: '4.6',
                    matches: '54',
                    winRate: '85%',
                    goals: '32',
                    contact: {
                        phone: '+380481234567',
                        telegram: '@oleg_fast',
                        instagram: '@oleg.speed.odesa'
                    }
                },
                'maksym_petrenka': {
                    avatar: 'üèÉ',
                    name: '–ú–∞–∫—Å–∏–º –ü–µ—Ç—Ä–µ–Ω–∫–æ',
                    position: '–ù–∞–ø–∞–¥–Ω–∏–∫ ‚Ä¢ –•–∞—Ä–∫—ñ–≤ ‚Ä¢ 22 —Ä–æ–∫–∏',
                    rating: '4.7',
                    matches: '76',
                    winRate: '89%',
                    goals: '95',
                    contact: {
                        phone: '+380571234567',
                        telegram: '@maksym_goal',
                        instagram: '@maksym.striker.kharkiv'
                    }
                },
                'viktor_shevchenko': {
                    avatar: 'üõ°Ô∏è',
                    name: '–í—ñ–∫—Ç–æ—Ä –®–µ–≤—á–µ–Ω–∫–æ',
                    position: '–ó–∞—Ö–∏—Å–Ω–∏–∫ ‚Ä¢ –î–Ω—ñ–ø—Ä–æ ‚Ä¢ 28 —Ä–æ–∫—ñ–≤',
                    rating: '4.5',
                    matches: '102',
                    winRate: '87%',
                    goals: '12',
                    contact: {
                        phone: '+380561234567',
                        telegram: '@viktor_def',
                        instagram: '@viktor.defense.dnipro'
                    }
                },
                'dmitro_kovalenko': {
                    avatar: 'ü•Ö',
                    name: '–î–º–∏—Ç—Ä–æ –ö–æ–≤–∞–ª–µ–Ω–∫–æ',
                    position: '–í–æ—Ä–æ—Ç–∞—Ä ‚Ä¢ –û–¥–µ—Å–∞ ‚Ä¢ 27 —Ä–æ–∫—ñ–≤',
                    rating: '4.7',
                    matches: '56',
                    winRate: '85%',
                    goals: '2',
                    contact: {
                        phone: '+380931234567',
                        telegram: '@dmitro_keeper',
                        instagram: '@dmitro.saves.odesa'
                    }
                },
                'oleksandr_m': {
                    avatar: 'üöÄ',
                    name: '–û–ª–µ–∫—Å–∞–Ω–¥—Ä –ú–µ–ª—å–Ω–∏–∫',
                    position: '–ù–∞–ø–∞–¥–Ω–∏–∫ ‚Ä¢ –ö–∏—ó–≤ ‚Ä¢ 25 —Ä–æ–∫—ñ–≤',
                    rating: '4.9',
                    matches: '78',
                    winRate: '92%',
                    goals: '67',
                    contact: {
                        phone: '+380631234567',
                        telegram: '@oleksandr_speed',
                        instagram: '@oleksandr.rocket.kyiv'
                    }
                }
            };

            const player = players[playerId] || players['andriy_k'];
            
            document.getElementById('profileAvatar').textContent = player.avatar;
            document.getElementById('profileName').textContent = player.name;
            document.getElementById('profilePosition').textContent = player.position;
            document.getElementById('profileRating').textContent = player.rating;
            document.getElementById('profileMatches').textContent = player.matches;
            document.getElementById('profileWinRate').textContent = player.winRate;
            document.getElementById('profileGoals').textContent = player.goals;
            
            // Update contact info
            document.querySelector('[onclick="copyContact(\'+380501234567\')"]').setAttribute('onclick', `copyContact('${player.contact.phone}')`);
            document.querySelector('[onclick="copyContact(\'+380501234567\')"]').previousElementSibling.textContent = player.contact.phone;
            
            document.querySelector('[onclick="copyContact(\'@maksym_football\')"]').setAttribute('onclick', `copyContact('${player.contact.telegram}')`);
            document.querySelector('[onclick="copyContact(\'@maksym_football\')"]').previousElementSibling.textContent = player.contact.telegram;
            
            document.querySelector('[onclick="copyContact(\'@maksym.football.kyiv\')"]').setAttribute('onclick', `copyContact('${player.contact.instagram}')`);
            document.querySelector('[onclick="copyContact(\'@maksym.football.kyiv\')"]').previousElementSibling.textContent = player.contact.instagram;
            
            document.getElementById('playerProfileModal').classList.add('show');
        }

        // Challenge creation functions
        window.showCreateChallenge = function showCreateChallenge() {
            const modal = document.getElementById('createChallengeModal');
            if (modal) {
                modal.classList.add('show');
            } else {
                showToast('‚ùå –ú–æ–¥–∞–ª—å —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —á–µ–ª–µ–Ω–¥–∂—É –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ', 'error');
            }
        }

        function calculatePrizePool(contribution) {
            const estimatedParticipants = 10; // –ü—Ä–∏–±–ª–∏–∑–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —É—á–∞—Å–Ω–∏–∫—ñ–≤
            const prizePool = contribution * estimatedParticipants;
            document.getElementById('prizePoolDisplay').textContent = prizePool + '‚Ç¥';
        }

        function closeCreateChallenge() {
            document.getElementById('createChallengeModal').classList.remove('show');
        }

        function toggleInvite(type) {
            const btn = event.target;
            if (btn.style.background === 'rgb(76, 175, 80)') {
                btn.style.background = '#f5f5f5';
                btn.style.color = '#333';
            } else {
                btn.style.background = '#4caf50';
                btn.style.color = 'white';
            }
        }

        function createChallenge(event) {
            event.preventDefault();
            closeCreateChallenge();
            showToast('üèÜ –ß–µ–ª–µ–Ω–¥–∂ —Å—Ç–≤–æ—Ä–µ–Ω–æ!', 'success');
            event.target.reset();
            // Reset invite buttons
            document.querySelectorAll('.invite-btn').forEach(btn => {
                btn.style.background = '#f5f5f5';
                btn.style.color = '#333';
            });
        }

        // Challenge participation
        function joinChallenge(challengeId) {
            document.getElementById('challengeParticipateModal').classList.add('show');
        }

        function closeChallengeParticipate() {
            document.getElementById('challengeParticipateModal').classList.remove('show');
        }

        function submitChallengeVideo(event) {
            event.preventDefault();
            closeChallengeParticipate();
            showToast('üìπ –í—ñ–¥–µ–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ! +20 –º–æ–Ω–µ—Ç', 'success');
            addCoins(20); // +20 –∑–∞ –ø—Ä–∏–π–Ω—è—Ç—Ç—è –≤–∏–∫–ª–∏–∫—É —Ç–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
            event.target.reset();
        }



        // Enhanced end match with multiple player ratings
        function endMatch() {
            document.getElementById('scoreInstructions').innerHTML = 'üèÅ –ú–∞—Ç—á –∑–∞–≤–µ—Ä—à–µ–Ω–æ! –¢–µ–ø–µ—Ä –æ—Ü—ñ–Ω—ñ—Ç—å –≤—Å—ñ—Ö –≥—Ä–∞–≤—Ü—ñ–≤ –∑ –≤–∞—à–æ—ó –∫–æ–º–∞–Ω–¥–∏';
            showToast('üèÅ –ú–∞—Ç—á –∑–∞–≤–µ—Ä—à–µ–Ω–æ! –û—Ü—ñ–Ω—ñ—Ç—å –≥—Ä–∞–≤—Ü—ñ–≤ –∑—ñ —Å–≤–æ—î—ó –∫–æ–º–∞–Ω–¥–∏', 'success');
            setTimeout(() => {
                showRatingModal('oleksandr_m');
            }, 1500);
        }

        // Enhanced rating with change display
        function submitRating() {
            if (currentRating === 0) {
                showToast('‚≠ê –û–±–µ—Ä—ñ—Ç—å —Ä–µ–π—Ç–∏–Ω–≥!', 'error');
                return;
            }
            
            document.getElementById('ratingModal').classList.remove('show');
            showToast(`‚≠ê –†–µ–π—Ç–∏–Ω–≥ ${currentRating.toFixed(2)}/5 –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ!`, 'success');
            
            // Show rating changes
            setTimeout(() => {
                if (currentRating >= 4.0) {
                    showRatingChange('+0.2', '#4caf50');
                } else if (currentRating >= 2.5) {
                    showRatingChange('+0.1', '#ff9800');
                } else {
                    showRatingChange('-0.1', '#f44336');
                }
            }, 1000);
            
            currentRating = 0;
            
            // Reset rating form
            document.getElementById('playerRatingValue').textContent = '0.0';
            document.getElementById('ratingStars').textContent = '‚òÜ‚òÜ‚òÜ‚òÜ‚òÜ';
            document.getElementById('ratingStars').style.color = '#ddd';
        }

        // Store and subscription functions
        function showStore() {
            console.log('showStore called');
            document.getElementById('storeModal').style.display = 'flex';
            const storeContent = `
                <div style="max-height: 70vh; overflow-y: auto;">
                    <h3 style="text-align: center; margin-bottom: 20px; color: #2e7d32;">üõí –ú–∞–≥–∞–∑–∏–Ω FLAP</h3>
                    
                    <!-- –ë—É—Å—Ç–µ—Ä–∏ -->
                    <div style="margin-bottom: 25px;">
                        <h4 style="color: #4caf50; margin-bottom: 15px; display: flex; align-items: center; gap: 8px;">
                            üöÄ –ë—É—Å—Ç–µ—Ä–∏
                        </h4>
                        <div style="display: grid; gap: 10px;">
                            <div style="background: #f8f9fa; padding: 12px; border-radius: 10px; display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <div style="font-weight: 600; font-size: 14px;">‚ö° –ü–æ–¥–≤—ñ–π–Ω–∏–π –¥–æ—Å–≤—ñ–¥</div>
                                    <div style="font-size: 12px; color: #666;">x2 –¥–æ—Å–≤—ñ–¥ –∑–∞ –º–∞—Ç—á—ñ (24 –≥–æ–¥–∏–Ω–∏)</div>
                                </div>
                                <button onclick="buyItem('double_xp', 50)" style="background: #4caf50; color: white; border: none; padding: 6px 12px; border-radius: 6px; font-size: 12px; cursor: pointer;">50 üí∞</button>
                            </div>
                            <div style="background: #f8f9fa; padding: 12px; border-radius: 10px; display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <div style="font-weight: 600; font-size: 14px;">üéØ –¢–æ—á–Ω—ñ—Å—Ç—å+</div>
                                    <div style="font-size: 12px; color: #666;">+0.2 –¥–æ —Ä–µ–π—Ç–∏–Ω–≥—É —Ç–æ—á–Ω–æ—Å—Ç—ñ (7 –¥–Ω—ñ–≤)</div>
                                </div>
                                <button onclick="buyItem('accuracy_boost', 100)" style="background: #4caf50; color: white; border: none; padding: 6px 12px; border-radius: 6px; font-size: 12px; cursor: pointer;">100 üí∞</button>
                            </div>
                            <div style="background: #f8f9fa; padding: 12px; border-radius: 10px; display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <div style="font-weight: 600; font-size: 14px;">üí™ –í–∏—Ç—Ä–∏–≤–∞–ª—ñ—Å—Ç—å</div>
                                    <div style="font-size: 12px; color: #666;">–ú–µ–Ω—à–µ –≤—Ç–æ–º–∏ –≤ –º–∞—Ç—á–∞—Ö (3 –¥–Ω—ñ)</div>
                                </div>
                                <button onclick="buyItem('stamina_boost', 75)" style="background: #4caf50; color: white; border: none; padding: 6px 12px; border-radius: 6px; font-size: 12px; cursor: pointer;">75 üí∞</button>
                            </div>
                        </div>
                    </div>

                    <!-- –ë–µ–π–¥–∂—ñ -->
                    <div style="margin-bottom: 25px;">
                        <h4 style="color: #ff9800; margin-bottom: 15px; display: flex; align-items: center; gap: 8px;">
                            üèÖ –ë–µ–π–¥–∂—ñ
                        </h4>
                        <div style="display: grid; gap: 10px;">
                            <div style="background: #f8f9fa; padding: 12px; border-radius: 10px; display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <div style="font-weight: 600; font-size: 14px;">üëë VIP –ì—Ä–∞–≤–µ—Ü—å</div>
                                    <div style="font-size: 12px; color: #666;">–ó–æ–ª–æ—Ç–∏–π –∑–Ω–∞—á–æ–∫ –±—ñ–ª—è —ñ–º–µ–Ω—ñ</div>
                                </div>
                                <button onclick="buyItem('vip_badge', 200)" style="background: #ff9800; color: white; border: none; padding: 6px 12px; border-radius: 6px; font-size: 12px; cursor: pointer;">200 üí∞</button>
                            </div>
                            <div style="background: #f8f9fa; padding: 12px; border-radius: 10px; display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <div style="font-weight: 600; font-size: 14px;">‚öΩ –ö–æ—Ä–æ–ª—å –ì–æ–ª—ñ–≤</div>
                                    <div style="font-size: 12px; color: #666;">–î–ª—è –≥—Ä–∞–≤—Ü—ñ–≤ –∑ 100+ –≥–æ–ª–∞–º–∏</div>
                                </div>
                                <button onclick="buyItem('goal_king', 150)" style="background: #ff9800; color: white; border: none; padding: 6px 12px; border-radius: 6px; font-size: 12px; cursor: pointer;">150 üí∞</button>
                            </div>
                            <div style="background: #f8f9fa; padding: 12px; border-radius: 10px; display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <div style="font-weight: 600; font-size: 14px;">üõ°Ô∏è –°—Ç—ñ–Ω–∞</div>
                                    <div style="font-size: 12px; color: #666;">–î–ª—è –∑–∞—Ö–∏—Å–Ω–∏–∫—ñ–≤ –∑ 90%+ –ø–µ—Ä–µ—Ö–æ–ø–ª–µ–Ω—å</div>
                                </div>
                                <button onclick="buyItem('wall_badge', 120)" style="background: #ff9800; color: white; border: none; padding: 6px 12px; border-radius: 6px; font-size: 12px; cursor: pointer;">120 üí∞</button>
                            </div>
                        </div>
                    </div>

                    <!-- –ï–º–æ—Ü—ñ—ó -->
                    <div style="margin-bottom: 20px;">
                        <h4 style="color: #9c27b0; margin-bottom: 15px; display: flex; align-items: center; gap: 8px;">
                            üòÑ –ï–º–æ—Ü—ñ—ó
                        </h4>
                        <div style="display: grid; gap: 10px;">
                            <div style="background: #f8f9fa; padding: 12px; border-radius: 10px; display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <div style="font-weight: 600; font-size: 14px;">üî• –ü–∞–∫–µ—Ç "–í–æ–≥–æ–Ω—å"</div>
                                    <div style="font-size: 12px; color: #666;">5 —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö –µ–º–æ—Ü—ñ–π –¥–ª—è —á–∞—Ç—É</div>
                                </div>
                                <button onclick="buyItem('fire_emotes', 80)" style="background: #9c27b0; color: white; border: none; padding: 6px 12px; border-radius: 6px; font-size: 12px; cursor: pointer;">80 üí∞</button>
                            </div>
                            <div style="background: #f8f9fa; padding: 12px; border-radius: 10px; display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <div style="font-weight: 600; font-size: 14px;">‚öΩ –§—É—Ç–±–æ–ª—å–Ω—ñ –µ–º–æ—Ü—ñ—ó</div>
                                    <div style="font-size: 12px; color: #666;">–ì–æ–ª, –æ—Ñ—Å–∞–π–¥, —á–µ—Ä–≤–æ–Ω–∞ –∫–∞—Ä—Ç–∫–∞ —Ç–∞ —ñ–Ω—à—ñ</div>
                                </div>
                                <button onclick="buyItem('football_emotes', 60)" style="background: #9c27b0; color: white; border: none; padding: 6px 12px; border-radius: 6px; font-size: 12px; cursor: pointer;">60 üí∞</button>
                            </div>
                            <div style="background: #f8f9fa; padding: 12px; border-radius: 10px; display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <div style="font-weight: 600; font-size: 14px;">üéâ –°–≤—è—Ç–∫–æ–≤—ñ</div>
                                    <div style="font-size: 12px; color: #666;">–ï–º–æ—Ü—ñ—ó –¥–ª—è –ø–µ—Ä–µ–º–æ–≥ —Ç–∞ —Å–≤—è—Ç</div>
                                </div>
                                <button onclick="buyItem('celebration_emotes', 40)" style="background: #9c27b0; color: white; border: none; padding: 6px 12px; border-radius: 6px; font-size: 12px; cursor: pointer;">40 üí∞</button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            // Create and show store modal
            let storeModal = document.getElementById('storeModal');
            if (!storeModal) {
                storeModal = document.createElement('div');
                storeModal.id = 'storeModal';
                storeModal.className = 'rating-modal';
                storeModal.innerHTML = `
                    <div class="rating-content" style="max-width: 450px;">
                        <div class="rating-title">üõí –ú–∞–≥–∞–∑–∏–Ω</div>
                        <div id="storeContent">${storeContent}</div>
                        <div class="rating-buttons">
                            <button onclick="closeStore()" class="rating-btn skip">–ó–∞–∫—Ä–∏—Ç–∏</button>
                        </div>
                    </div>
                `;
                document.body.appendChild(storeModal);
            } else {
                document.getElementById('storeContent').innerHTML = storeContent;
            }
            
            storeModal.classList.add('show');
        }

        function closeStore() {
            document.getElementById('storeModal').style.display = 'none';
        }

        function buyItem(itemId, price) {
            if (coins >= price) {
                coins -= price;
                document.getElementById('coinCount').textContent = coins;
                
                const items = {
                    'double_xp': '‚ö° –ü–æ–¥–≤—ñ–π–Ω–∏–π –¥–æ—Å–≤—ñ–¥ –∞–∫—Ç–∏–≤–æ–≤–∞–Ω–æ –Ω–∞ 24 –≥–æ–¥–∏–Ω–∏!',
                    'accuracy_boost': 'üéØ –ë—É—Å—Ç–µ—Ä —Ç–æ—á–Ω–æ—Å—Ç—ñ –∞–∫—Ç–∏–≤–æ–≤–∞–Ω–æ –Ω–∞ 7 –¥–Ω—ñ–≤!',
                    'stamina_boost': 'üí™ –ë—É—Å—Ç–µ—Ä –≤–∏—Ç—Ä–∏–≤–∞–ª–æ—Å—Ç—ñ –∞–∫—Ç–∏–≤–æ–≤–∞–Ω–æ –Ω–∞ 3 –¥–Ω—ñ!',
                    'vip_badge': 'üëë VIP –∑–Ω–∞—á–æ–∫ –¥–æ–¥–∞–Ω–æ –¥–æ –ø—Ä–æ—Ñ—ñ–ª—é!',
                    'goal_king': '‚öΩ –ë–µ–π–¥–∂ "–ö–æ—Ä–æ–ª—å –ì–æ–ª—ñ–≤" –æ—Ç—Ä–∏–º–∞–Ω–æ!',
                    'wall_badge': 'üõ°Ô∏è –ë–µ–π–¥–∂ "–°—Ç—ñ–Ω–∞" –æ—Ç—Ä–∏–º–∞–Ω–æ!',
                    'fire_emotes': 'üî• –ü–∞–∫–µ—Ç –µ–º–æ—Ü—ñ–π "–í–æ–≥–æ–Ω—å" —Ä–æ–∑–±–ª–æ–∫–æ–≤–∞–Ω–æ!',
                    'football_emotes': '‚öΩ –§—É—Ç–±–æ–ª—å–Ω—ñ –µ–º–æ—Ü—ñ—ó –¥–æ–¥–∞–Ω–æ!',
                    'celebration_emotes': 'üéâ –°–≤—è—Ç–∫–æ–≤—ñ –µ–º–æ—Ü—ñ—ó —Ä–æ–∑–±–ª–æ–∫–æ–≤–∞–Ω–æ!'
                };
                
                showToast(items[itemId] || '–ü—Ä–µ–¥–º–µ—Ç –∫—É–ø–ª–µ–Ω–æ!', 'success');
            } else {
                showToast('‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –º–æ–Ω–µ—Ç!', 'error');
            }
        }

        function showSubscriptions() {
            document.getElementById('subscriptionsModal').style.display = 'flex';
        }

        function closeSubscriptions() {
            document.getElementById('subscriptionsModal').style.display = 'none';
        }

        function buySubscription(type) {
            if (type === 'europa') {
                showToast('‚≠ê –õ—ñ–≥–∞ –Ñ–≤—Ä–æ–ø–∏ –∞–∫—Ç–∏–≤–æ–≤–∞–Ω–∞! –†–µ–π—Ç–∏–Ω–≥ —Ä–æ–∑–±–ª–æ–∫–æ–≤–∞–Ω–æ', 'success');
            } else if (type === 'champions') {
                showToast('üèÜ –õ—ñ–≥–∞ –ß–µ–º–ø—ñ–æ–Ω—ñ–≤ –∞–∫—Ç–∏–≤–æ–≤–∞–Ω–∞! –ü–æ–≤–Ω–∏–π –¥–æ—Å—Ç—É–ø', 'success');
                addCoins(100);
            }
        }

        function buyCoins(amount, price) {
            showToast(`üí∞ –ü—Ä–∏–¥–±–∞–Ω–æ ${amount} –º–æ–Ω–µ—Ç –∑–∞ ${price}‚Ç¥!`, 'success');
            addCoins(amount);
        }

        function showExpertReviews() {
            const reviewContent = `
                <div style="text-align: center; padding: 30px 20px;">
                    <div style="font-size: 60px; margin-bottom: 20px;">üéØ</div>
                    <h3 style="color: #2e7d32; margin-bottom: 15px;">–ï–∫—Å–ø–µ—Ä—Ç–Ω—ñ –≤—ñ–¥–≥—É–∫–∏</h3>
                    <p style="color: #666; font-size: 14px; line-height: 1.5; margin-bottom: 20px;">
                        –û—Ç—Ä–∏–º–∞–π—Ç–µ –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ —Å–≤–æ—î—ó –≥—Ä–∏ –≤—ñ–¥ –¥–æ—Å–≤—ñ–¥—á–µ–Ω–∏—Ö —Ç—Ä–µ–Ω–µ—Ä—ñ–≤, —Å–∫–∞—É—Ç—ñ–≤ —Ç–∞ —Ñ—É—Ç–±–æ–ª—å–Ω–∏—Ö –∑—ñ—Ä–æ–∫.
                    </p>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 10px; margin-bottom: 20px;">
                        <h4 style="color: #4caf50; margin-bottom: 10px;">–©–æ –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–æ:</h4>
                        <div style="text-align: left; font-size: 13px; color: #666;">
                            ‚Ä¢ –ê–Ω–∞–ª—ñ–∑ —Ç–µ—Ö–Ω—ñ–∫–∏ –≤—ñ–¥ –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏—Ö —Ç—Ä–µ–Ω–µ—Ä—ñ–≤<br>
                            ‚Ä¢ –í—ñ–¥–≥—É–∫–∏ –≤—ñ–¥ —Å–∫–∞—É—Ç—ñ–≤ –ø—Ä–æ–≤—ñ–¥–Ω–∏—Ö –∫–ª—É–±—ñ–≤<br>
                            ‚Ä¢ –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ñ –ø–æ—Ä–∞–¥–∏ –≤—ñ–¥ —Ñ—É—Ç–±–æ–ª—å–Ω–∏—Ö –∑—ñ—Ä–æ–∫<br>
                            ‚Ä¢ –î–µ—Ç–∞–ª—å–Ω–∏–π —Ä–æ–∑–±—ñ—Ä –≤–∞—à–∏—Ö –≤—ñ–¥–µ–æ<br>
                            ‚Ä¢ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –¥–ª—è –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è –≥—Ä–∏
                        </div>
                    </div>
                    <div style="background: linear-gradient(135deg, #4caf50, #66bb6a); color: white; padding: 12px; border-radius: 8px; font-weight: 600;">
                        üöÄ –°–∫–æ—Ä–æ –∑–∞–ø—É—Å–∫!
                    </div>
                </div>
            `;
            
            let reviewModal = document.getElementById('expertReviewModal');
            if (!reviewModal) {
                reviewModal = document.createElement('div');
                reviewModal.id = 'expertReviewModal';
                reviewModal.className = 'rating-modal';
                reviewModal.innerHTML = `
                    <div class="rating-content" style="max-width: 400px;">
                        <div id="expertReviewContent">${reviewContent}</div>
                        <div class="rating-buttons">
                            <button onclick="closeExpertReview()" class="rating-btn skip">–ó–∞–∫—Ä–∏—Ç–∏</button>
                        </div>
                    </div>
                `;
                document.body.appendChild(reviewModal);
            }
            
            reviewModal.classList.add('show');
        }

        function closeExpertReview() {
            document.getElementById('expertReviewModal').classList.remove('show');
        }

        function showSportsGoods() {
            const goodsContent = `
                <div style="text-align: center; padding: 30px 20px;">
                    <div style="font-size: 60px; margin-bottom: 20px;">üõçÔ∏è</div>
                    <h3 style="color: #2e7d32; margin-bottom: 15px;">–°–ø–æ—Ä—Ç–∏–≤–Ω—ñ —Ç–æ–≤–∞—Ä–∏</h3>
                    <p style="color: #666; font-size: 14px; line-height: 1.5; margin-bottom: 20px;">
                        –ö—É–ø—É–π—Ç–µ —è–∫—ñ—Å–Ω–µ —Ñ—É—Ç–±–æ–ª—å–Ω–µ —Å–ø–æ—Ä—è–¥–∂–µ–Ω–Ω—è –≤—ñ–¥ –Ω–∞—à–∏—Ö –ø–∞—Ä—Ç–Ω–µ—Ä—ñ–≤ –∑—ñ –∑–Ω–∏–∂–∫–∞–º–∏ –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ FLAP.
                    </p>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 10px; margin-bottom: 20px;">
                        <h4 style="color: #ff9800; margin-bottom: 10px;">–©–æ –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–æ:</h4>
                        <div style="text-align: left; font-size: 13px; color: #666;">
                            ‚Ä¢ –§—É—Ç–±–æ–ª—å–Ω—ñ –±—É—Ç—Å–∏ –≤—ñ–¥ —Ç–æ–ø–æ–≤–∏—Ö –±—Ä–µ–Ω–¥—ñ–≤<br>
                            ‚Ä¢ –§–æ—Ä–º–∏ —Ç–∞ –µ–∫—ñ–ø—ñ—Ä–æ–≤–∫–∞ –∫–æ–º–∞–Ω–¥<br>
                            ‚Ä¢ –ú'—è—á—ñ —Ç–∞ —Ç—Ä–µ–Ω—É–≤–∞–ª—å–Ω–µ –æ–±–ª–∞–¥–Ω–∞–Ω–Ω—è<br>
                            ‚Ä¢ –ê–∫—Å–µ—Å—É–∞—Ä–∏ —Ç–∞ –∑–∞—Ö–∏—Å—Ç<br>
                            ‚Ä¢ –ï–∫—Å–∫–ª—é–∑–∏–≤–Ω—ñ –∑–Ω–∏–∂–∫–∏ –¥–æ 30%
                        </div>
                    </div>
                    <div style="background: linear-gradient(135deg, #ff9800, #ffb74d); color: white; padding: 12px; border-radius: 8px; font-weight: 600;">
                        üöÄ –°–∫–æ—Ä–æ –∑–∞–ø—É—Å–∫!
                    </div>
                </div>
            `;
            
            let goodsModal = document.getElementById('sportsGoodsModal');
            if (!goodsModal) {
                goodsModal = document.createElement('div');
                goodsModal.id = 'sportsGoodsModal';
                goodsModal.className = 'rating-modal';
                goodsModal.innerHTML = `
                    <div class="rating-content" style="max-width: 400px;">
                        <div id="sportsGoodsContent">${goodsContent}</div>
                        <div class="rating-buttons">
                            <button onclick="closeSportsGoods()" class="rating-btn skip">–ó–∞–∫—Ä–∏—Ç–∏</button>
                        </div>
                    </div>
                `;
                document.body.appendChild(goodsModal);
            }
            
            goodsModal.classList.add('show');
        }

        function closeSportsGoods() {
            document.getElementById('sportsGoodsModal').classList.remove('show');
        }

        // Modern auth system
        function switchAuthMode(mode) {
            const loginTab = document.getElementById('loginTab');
            const registerTab = document.getElementById('registerTab');
            const loginForm = document.getElementById('loginForm');
            const registerForm = document.getElementById('registerForm');

            if (mode === 'login') {
                loginTab.style.background = 'linear-gradient(135deg, #4caf50, #66bb6a)';
                loginTab.style.color = 'white';
                registerTab.style.background = 'transparent';
                registerTab.style.color = 'rgba(255,255,255,0.7)';
                loginForm.style.display = 'block';
                registerForm.style.display = 'none';
            } else {
                registerTab.style.background = 'linear-gradient(135deg, #4caf50, #66bb6a)';
                registerTab.style.color = 'white';
                loginTab.style.background = 'transparent';
                loginTab.style.color = 'rgba(255,255,255,0.7)';
                registerForm.style.display = 'block';
                loginForm.style.display = 'none';
            }
        }

        // Profile creation functions
        function previewProfilePhoto(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('profilePhotoPreview').innerHTML = `<img src="${e.target.result}" style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%;">`;
                };
                reader.readAsDataURL(file);
            }
        }

        function completeProfileCreation(event) {
            event.preventDefault();
            
            const name = document.getElementById('profileName').value || "–ù–æ–≤–∏–π –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á";
            const position = document.getElementById('profilePosition').value || "–ü—ñ–≤–∑–∞—Ö–∏—Å–Ω–∏–∫";
            const city = document.getElementById('profileCity').value || "–ö–∏—ó–≤";
            const phone = document.getElementById('profilePhone').value || "+380501234567";
            const instagram = document.getElementById('profileInstagram').value || "@new_user";
            
            currentUser = {
                name: name,
                position: position,
                city: city,
                rating: 4.0,
                phone: phone,
                instagram: instagram
            };
            
            // Close profile creation modal
            document.getElementById('profileCreationModal').classList.remove('show');
            
            // Hide auth screen and show main screen
            document.getElementById('authScreen').classList.remove('active');
            document.getElementById('mainScreen').classList.add('active');
            
            showToast('üéâ –ü—Ä–æ—Ñ—ñ–ª—å —Å—Ç–≤–æ—Ä–µ–Ω–æ! –õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ –¥–æ FLAP!', 'success');
        }

        function hideAllScreens() {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
        }

        function handleQuickLogin() {
            currentUser = { name: '–ú–∞–∫—Å–∏–º –ö–æ–≤–∞–ª—å', avatar: '–ú–ö', rating: 4.8 };
            
            const authScreen = document.getElementById('authScreen');
            const mainScreen = document.getElementById('mainScreen');
            
            if (authScreen) authScreen.style.display = 'none';
            if (mainScreen) mainScreen.style.display = 'block';
            
            // Show welcome subscription offer
            setTimeout(() => {
                showToast('üéâ –õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ –¥–æ FLAP! –î–∞—Ä—É—î–º–æ —Ç–∏–∂–¥–µ–Ω—å –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ–≥–æ –ø—Ä–µ–º—ñ—É–º—É!', 'success');
            }, 500);
        }

        function handleQuickRegister() {
            console.log('üìù handleQuickRegister –≤–∏–∫–ª–∏–∫–∞–Ω–∞');
            
            try {
                const profileModal = document.getElementById('profileCreationModal');
                
                if (profileModal) {
                    profileModal.classList.add('show');
                    console.log('‚úÖ –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –ø—Ä–æ—Ñ—ñ–ª—é –ø–æ–∫–∞–∑–∞–Ω–æ');
                } else {
                    console.log('‚ö†Ô∏è –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –ø—Ä–æ—Ñ—ñ–ª—é –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ, –≤—Ö–æ–¥–∏–º–æ –æ–¥—Ä–∞–∑—É');
                    handleQuickLogin(); // –Ø–∫—â–æ –Ω–µ–º–∞—î –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –≤—ñ–∫–Ω–∞, –æ–¥—Ä–∞–∑—É –≤—Ö–æ–¥–∏–º–æ
                }
                
            } catch (error) {
                console.error('‚ùå –ü–æ–º–∏–ª–∫–∞ –≤ handleQuickRegister:', error);
                alert('‚ùå –ü–æ–º–∏–ª–∫–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó: ' + error.message);
                // –Ø–∫—â–æ –ø–æ–º–∏–ª–∫–∞, —Å–ø—Ä–æ–±—É—î–º–æ —É–≤—ñ–π—Ç–∏
                handleQuickLogin();
            }
        }

        function loginWithGoogle() {
            currentUser = { name: '–ú–∞–∫—Å–∏–º –ö–æ–≤–∞–ª—å', avatar: '–ú–ö', rating: 4.8 };
            const authScreen = document.getElementById('authScreen');
            const mainScreen = document.getElementById('mainScreen');
            
            if (authScreen) authScreen.style.display = 'none';
            if (mainScreen) mainScreen.style.display = 'block';
            
            setTimeout(() => {
                showToast('üéâ –î–∞—Ä—É—î–º–æ –≤–∞–º —Ç–∏–∂–¥–µ–Ω—å –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞–Ω–Ω—è –ø—ñ–¥–ø–∏—Å–∫–æ—é –õ—ñ–≥–∞ –ß–µ–º–ø—ñ–æ–Ω—ñ–≤!', 'success');
            }, 1000);
        }

        function loginWithFacebook() {
            currentUser = { name: '–ú–∞–∫—Å–∏–º –ö–æ–≤–∞–ª—å', avatar: '–ú–ö', rating: 4.8 };
            const authScreen = document.getElementById('authScreen');
            const mainScreen = document.getElementById('mainScreen');
            
            if (authScreen) authScreen.style.display = 'none';
            if (mainScreen) mainScreen.style.display = 'block';
            
            setTimeout(() => {
                showToast('üéâ –î–∞—Ä—É—î–º–æ –≤–∞–º —Ç–∏–∂–¥–µ–Ω—å –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞–Ω–Ω—è –ø—ñ–¥–ø–∏—Å–∫–æ—é –õ—ñ–≥–∞ –ß–µ–º–ø—ñ–æ–Ω—ñ–≤!', 'success');
            }, 1000);
        }

        // Enhanced showSection function
        window.showSection = function showSection(sectionId) {
            console.log('üîç showSection –≤–∏–∫–ª–∏–∫–∞–Ω–∞ –¥–ª—è:', sectionId);
            
            // Hide all sections
            const sections = document.querySelectorAll('.content-section');
            sections.forEach(section => {
                section.style.display = 'none';
                section.classList.remove('active');
                console.log('‚ùå –ü—Ä–∏—Ö–æ–≤–∞–Ω–æ:', section.id);
            });
            
            // Hide match management if switching away from matches
            if (sectionId !== 'matches') {
                const matchManagement = document.getElementById('matchManagement');
                if (matchManagement) {
                    matchManagement.style.display = 'none';
                }
                const myMatchesList = document.getElementById('myMatchesList');
                if (myMatchesList) {
                    myMatchesList.style.display = 'block';
                }
            }
            
            // Remove active class from all nav tabs
            const navTabs = document.querySelectorAll('.nav-tab');
            navTabs.forEach(tab => tab.classList.remove('active'));
            
            // Show selected section
            const targetSection = document.getElementById(sectionId);
            if (targetSection) {
                targetSection.style.display = 'block';
                targetSection.classList.add('active');
                console.log('‚úÖ –ü–æ–∫–∞–∑–∞–Ω–æ:', sectionId);
                
                // Extra debug for rating/profile
                if (sectionId === 'rating' || sectionId === 'profile') {
                    console.log('üîç –î–æ–¥–∞—Ç–∫–æ–≤–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–ª—è', sectionId + ':');
                    console.log('   Display:', window.getComputedStyle(targetSection).display);
                    console.log('   Visibility:', window.getComputedStyle(targetSection).visibility);
                    console.log('   Height:', window.getComputedStyle(targetSection).height);
                    console.log('   Background:', window.getComputedStyle(targetSection).backgroundColor);
                }
            } else {
                console.error('‚ùå –°–µ–∫—Ü—ñ—è –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–∞:', sectionId);
            }
            
            // Add active class to clicked nav tab
            setTimeout(() => {
                const clickedTab = document.querySelector(`.nav-tab[onclick*="${sectionId}"]`);
                if (clickedTab) {
                    clickedTab.classList.add('active');
                }
            }, 10);
        }

        // Enhanced player profiles with unique data
        const playersDatabase = {
            'player1': { name: '–ê–Ω–¥—Ä—ñ–π –ö–æ–≤–∞–ª–µ–Ω–∫–æ', avatar: 'üéØ', city: '–ö–∏—ó–≤', position: '–ü—ñ–≤–∑–∞—Ö–∏—Å–Ω–∏–∫', age: 24, rating: 4.1, phone: '+380671234567', telegram: '@andriy_koval', instagram: '@andriy_football' },
            'player2': { name: '–ü–µ—Ç—Ä–æ –ú–µ–ª—å–Ω–∏–∫', avatar: '‚öΩ', city: '–õ—å–≤—ñ–≤', position: '–ù–∞–ø–∞–¥–Ω–∏–∫', age: 26, rating: 4.2, phone: '+380502345678', telegram: '@petro_mel', instagram: '@petro_striker' },
            'player3': { name: '–î–º–∏—Ç—Ä–æ –ö–æ–≤–∞–ª–µ–Ω–∫–æ', avatar: '‚ö°', city: '–û–¥–µ—Å–∞', position: '–í–æ—Ä–æ—Ç–∞—Ä', age: 23, rating: 3.8, phone: '+380633456789', telegram: '@dmytro_gk', instagram: '@dmytro_keeper' },
            'player4': { name: '–û–ª–µ–∫—Å—ñ–π –®–µ–≤—á–µ–Ω–∫–æ', avatar: 'üèÉ', city: '–•–∞—Ä–∫—ñ–≤', position: '–í–æ—Ä–æ—Ç–∞—Ä', age: 25, rating: 4.5, phone: '+380954567890', telegram: '@alex_shev', instagram: '@alex_goalkeeper' },
            'player5': { name: '–ú–∞–∫—Å–∏–º –ó—ñ–Ω—á–µ–Ω–∫–æ', avatar: 'üõ°Ô∏è', city: '–î–Ω—ñ–ø—Ä–æ', position: '–ü—ñ–≤–∑–∞—Ö–∏—Å–Ω–∏–∫', age: 27, rating: 3.7, phone: '+380675678901', telegram: '@max_zin', instagram: '@max_midfielder' },
            'player6': { name: '–í—ñ–∫—Ç–æ—Ä –®–µ–≤—á–µ–Ω–∫–æ', avatar: 'ü•Ö', city: '–ö–∏—ó–≤', position: '–ó–∞—Ö–∏—Å–Ω–∏–∫', age: 28, rating: 4.0, phone: '+380506789012', telegram: '@viktor_def', instagram: '@viktor_defense' },
            'player7': { name: '–û–ª–µ–∫—Å–∞–Ω–¥—Ä –ú–µ–ª—å–Ω–∏–∫', avatar: 'üî•', city: '–õ—å–≤—ñ–≤', position: '–ù–∞–ø–∞–¥–Ω–∏–∫', age: 22, rating: 4.3, phone: '+380637890123', telegram: '@alex_mel', instagram: '@alex_forward' }
        };



        // Create Video Functions
        window.showCreateVideo = function showCreateVideo() {
            const modal = document.getElementById('createVideoModal');
            if (modal) {
                modal.style.display = 'flex';
            } else {
                showToast('‚ùå –ú–æ–¥–∞–ª—å —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤—ñ–¥–µ–æ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ', 'error');
            }
        }

        function closeCreateVideo() {
            document.getElementById('createVideoModal').style.display = 'none';
        }

        function submitVideo(event) {
            event.preventDefault();
            addCoins(5); // +5 coins for creating video
            showToast('üéâ –í—ñ–¥–µ–æ —É—Å–ø—ñ—à–Ω–æ –æ–ø—É–±–ª—ñ–∫–æ–≤–∞–Ω–æ! +5 –º–æ–Ω–µ—Ç', 'success');
            closeCreateVideo();
        }

        // Apply Video Filters Function
        function applyVideoFilters() {
            const city = document.getElementById('cityFilter').value;
            const category = document.getElementById('categoryFilter').value;
            const rating = document.getElementById('ratingFilter').value;
            
            // Get all video items
            const videoItems = document.querySelectorAll('.video-item');
            
            videoItems.forEach((item, index) => {
                const videoTitle = item.querySelector('.video-title');
                const videoAuthor = item.querySelector('.video-author');
                const videoScore = item.querySelector('.video-score');
                
                if (videoTitle && videoAuthor && videoScore) {
                    // Apply filters with visual changes
                    if (city === 'kyiv') {
                        videoTitle.textContent = `–ö–∏—ó–≤—Å—å–∫–∏–π —Ñ—É—Ç–±–æ–ª #${index + 1}`;
                        videoAuthor.innerHTML = `<strong>–ì—Ä–∞–≤–µ—Ü—å –∑ –ö–∏—î–≤–∞</strong> ‚Ä¢ –ü—ñ–≤–∑–∞—Ö–∏—Å–Ω–∏–∫ ‚Ä¢ –ö–∏—ó–≤`;
                        videoScore.textContent = '‚≠ê 4.2';
                    } else if (city === 'lviv') {
                        videoTitle.textContent = `–õ—å–≤—ñ–≤—Å—å–∫–∞ –º–∞–π—Å—Ç–µ—Ä–Ω—ñ—Å—Ç—å #${index + 1}`;
                        videoAuthor.innerHTML = `<strong>–õ—å–≤—ñ–≤—Å—å–∫–∏–π —Ç–∞–ª–∞–Ω—Ç</strong> ‚Ä¢ –ù–∞–ø–∞–¥–Ω–∏–∫ ‚Ä¢ –õ—å–≤—ñ–≤`;
                        videoScore.textContent = '‚≠ê 4.0';
                    } else if (category === 'tricks') {
                        videoTitle.textContent = `–¢–µ—Ö–Ω—ñ—á–Ω–∏–π —Ñ—ñ–Ω—Ç #${index + 1}`;
                        videoAuthor.innerHTML = `<strong>–ú–∞–π—Å—Ç–µ—Ä —Ñ—ñ–Ω—Ç—ñ–≤</strong> ‚Ä¢ –¢–µ—Ö–Ω—ñ–∫–∞ ‚Ä¢ –†—ñ–∑–Ω—ñ –º—ñ—Å—Ç–∞`;
                        videoScore.textContent = '‚≠ê 4.5';
                    } else if (category === 'goals') {
                        videoTitle.textContent = `–ù–µ–π–º–æ–≤—ñ—Ä–Ω–∏–π –≥–æ–ª #${index + 1}`;
                        videoAuthor.innerHTML = `<strong>–°–Ω–∞–π–ø–µ—Ä</strong> ‚Ä¢ –ù–∞–ø–∞–¥–Ω–∏–∫ ‚Ä¢ –†—ñ–∑–Ω—ñ –º—ñ—Å—Ç–∞`;
                        videoScore.textContent = '‚≠ê 4.7';
                    } else if (rating === '4') {
                        videoTitle.textContent = `–¢–æ–ø –≤—ñ–¥–µ–æ #${index + 1}`;
                        videoAuthor.innerHTML = `<strong>–ó—ñ—Ä–∫–∞ —Ñ—É—Ç–±–æ–ª—É</strong> ‚Ä¢ –ü—Ä–æ—Ñ–µ—Å—ñ–æ–Ω–∞–ª ‚Ä¢ –†—ñ–∑–Ω—ñ –º—ñ—Å—Ç–∞`;
                        videoScore.textContent = '‚≠ê 4.8';
                    } else {
                        // Reset to default
                        const defaults = [
                            { title: '–ö—Ä–∞—â–∏–π —Ñ—ñ–Ω—Ç —Ç–∏–∂–Ω—è', author: '–ê–Ω–¥—Ä—ñ–π –ö–æ–≤–∞–ª–µ–Ω–∫–æ', score: '‚≠ê 4.1' },
                            { title: '–¢–æ—á–Ω—ñ—Å—Ç—å —É–¥–∞—Ä—ñ–≤', author: '–ü–µ—Ç—Ä–æ –ú–µ–ª—å–Ω–∏–∫', score: '‚≠ê 4.2' },
                            { title: '–®–≤–∏–¥–∫—ñ—Å–Ω–∏–π –¥—Ä–∏–±–ª—ñ–Ω–≥', author: '–î–º–∏—Ç—Ä–æ –ö–æ–≤–∞–ª–µ–Ω–∫–æ', score: '‚≠ê 3.8' }
                        ];
                        const def = defaults[index] || defaults[0];
                        videoTitle.textContent = def.title;
                        videoAuthor.innerHTML = `<strong>${def.author}</strong> ‚Ä¢ –ü—ñ–≤–∑–∞—Ö–∏—Å–Ω–∏–∫ ‚Ä¢ –ö–∏—ó–≤`;
                        videoScore.textContent = def.score;
                    }
                    
                    // Add visual effect
                    item.style.opacity = '0.7';
                    setTimeout(() => {
                        item.style.opacity = '1';
                    }, 300);
                }
            });
            
            let message = '–§—ñ–ª—å—Ç—Ä–∏ –∑–∞—Å—Ç–æ—Å–æ–≤–∞–Ω–æ: ';
            if (city) message += `–ú—ñ—Å—Ç–æ: ${city} `;
            if (category) message += `–ö–∞—Ç–µ–≥–æ—Ä—ñ—è: ${category} `;
            if (rating) message += `–†–µ–π—Ç–∏–Ω–≥: ${rating}+ `;
            
            showToast(message || '–ü–æ–∫–∞–∑–∞–Ω–æ –≤—Å—ñ –≤—ñ–¥–µ–æ', 'info');
        }

        // Modal close function
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        // Copy to clipboard function
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                showToast('üìã –°–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ!', 'success');
            });
        }

        // Missing showToast function
        function showToast(message, type = 'info') {
            console.log(`üì¢ Toast: ${message} (${type})`);
            
            // Create toast element
            const toast = document.createElement('div');
            toast.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 15px 20px;
                border-radius: 10px;
                color: white;
                font-weight: 600;
                z-index: 10000;
                max-width: 300px;
                word-wrap: break-word;
                animation: slideIn 0.3s ease-out;
            `;
            
            // Set background based on type
            switch(type) {
                case 'success':
                    toast.style.background = 'linear-gradient(135deg, #4caf50, #66bb6a)';
                    break;
                case 'error':
                    toast.style.background = 'linear-gradient(135deg, #f44336, #ef5350)';
                    break;
                case 'info':
                default:
                    toast.style.background = 'linear-gradient(135deg, #2196f3, #42a5f5)';
                    break;
            }
            
            toast.textContent = message;
            document.body.appendChild(toast);
            
            // Remove after 3 seconds
            setTimeout(() => {
                toast.remove();
            }, 3000);
        }

        // Missing autoBalanceTeams function
        function autoBalanceTeams() {
            console.log('‚öñÔ∏è autoBalanceTeams –≤–∏–∫–ª–∏–∫–∞–Ω–∞');
            
            // Demo players for team balance
            const demoPlayers = [
                { name: '–ê–Ω–¥—Ä—ñ–π –ö.', rating: 4.2 },
                { name: '–ü–µ—Ç—Ä–æ –ú.', rating: 3.8 },
                { name: '–î–º–∏—Ç—Ä–æ –õ.', rating: 4.5 },
                { name: '–û–ª–µ–∫—Å—ñ–π –®.', rating: 3.9 },
                { name: '–ú–∞–∫—Å–∏–º –ó.', rating: 4.1 },
                { name: '–í—ñ–∫—Ç–æ—Ä –°.', rating: 4.0 },
                { name: '–û–ª–µ–∫—Å–∞–Ω–¥—Ä –ú.', rating: 4.3 },
                { name: '–Ü–≥–æ—Ä –ü.', rating: 3.7 },
                { name: '–°–µ—Ä–≥—ñ–π –ö.', rating: 4.4 },
                { name: '–†–æ–º–∞–Ω –¢.', rating: 3.6 }
            ];
            
            // Shuffle players
            const shuffled = [...demoPlayers].sort(() => Math.random() - 0.5);
            
            // Split into two teams
            const team1 = shuffled.slice(0, 5);
            const team2 = shuffled.slice(5, 10);
            
            // Calculate team ratings
            const team1Rating = (team1.reduce((sum, p) => sum + p.rating, 0) / 5).toFixed(1);
            const team2Rating = (team2.reduce((sum, p) => sum + p.rating, 0) / 5).toFixed(1);
            
            // Get random team names
            const teamPair = teamNames[Math.floor(Math.random() * teamNames.length)];
            
            // Find the correct teams display element (should be in matchManagement)
            const matchManagement = document.getElementById('matchManagement');
            let teamsDisplay = document.getElementById('teamsDisplay');
            
            // If teamsDisplay doesn't exist, create it
            if (!teamsDisplay && matchManagement) {
                teamsDisplay = document.createElement('div');
                teamsDisplay.id = 'teamsDisplay';
                matchManagement.appendChild(teamsDisplay);
            }
            
            if (teamsDisplay) {
                teamsDisplay.innerHTML = `
                    <div style="background: linear-gradient(135deg, rgba(46, 125, 50, 0.9), rgba(76, 175, 80, 0.9)); border-radius: 15px; padding: 20px; margin: 20px 0; box-shadow: 0 8px 32px rgba(0,0,0,0.3);">
                        <h3 style="text-align: center; margin: 0 0 20px 0; color: white; text-shadow: 0 2px 4px rgba(0,0,0,0.3);">‚öñÔ∏è –ó–±–∞–ª–∞–Ω—Å–æ–≤–∞–Ω—ñ –∫–æ–º–∞–Ω–¥–∏</h3>
                        <div style="display: flex; gap: 20px; justify-content: space-between; margin: 20px 0;">
                            <div style="flex: 1; background: linear-gradient(135deg, #4caf50, #66bb6a); padding: 15px; border-radius: 15px; color: white; box-shadow: 0 4px 16px rgba(76, 175, 80, 0.4);">
                                <h4 style="margin: 0 0 15px 0; text-align: center; font-size: 18px; text-shadow: 0 1px 2px rgba(0,0,0,0.3);">${teamPair[0]}</h4>
                                <div style="text-align: center; margin-bottom: 15px;">
                                    <span style="background: rgba(255,255,255,0.25); padding: 8px 12px; border-radius: 12px; font-weight: 700; font-size: 14px; text-shadow: 0 1px 2px rgba(0,0,0,0.2);">
                                        ‚≠ê ${team1Rating} —Å–µ—Ä–µ–¥–Ω—ñ–π —Ä–µ–π—Ç–∏–Ω–≥
                                    </span>
                                </div>
                                ${team1.map(p => `<div style="padding: 10px 0; border-bottom: 1px solid rgba(255,255,255,0.2); display: flex; justify-content: space-between; align-items: center;"><span style="font-weight: 600;">${p.name}</span><span style="background: rgba(255,255,255,0.2); padding: 4px 8px; border-radius: 8px; font-size: 12px; font-weight: 600;">‚≠ê ${p.rating}</span></div>`).join('')}
                            </div>
                            <div style="flex: 1; background: linear-gradient(135deg, #2196f3, #42a5f5); padding: 15px; border-radius: 15px; color: white; box-shadow: 0 4px 16px rgba(33, 150, 243, 0.4);">
                                <h4 style="margin: 0 0 15px 0; text-align: center; font-size: 18px; text-shadow: 0 1px 2px rgba(0,0,0,0.3);">${teamPair[1]}</h4>
                                <div style="text-align: center; margin-bottom: 15px;">
                                    <span style="background: rgba(255,255,255,0.25); padding: 8px 12px; border-radius: 12px; font-weight: 700; font-size: 14px; text-shadow: 0 1px 2px rgba(0,0,0,0.2);">
                                        ‚≠ê ${team2Rating} —Å–µ—Ä–µ–¥–Ω—ñ–π —Ä–µ–π—Ç–∏–Ω–≥
                                    </span>
                                </div>
                                ${team2.map(p => `<div style="padding: 10px 0; border-bottom: 1px solid rgba(255,255,255,0.2); display: flex; justify-content: space-between; align-items: center;"><span style="font-weight: 600;">${p.name}</span><span style="background: rgba(255,255,255,0.2); padding: 4px 8px; border-radius: 8px; font-size: 12px; font-weight: 600;">‚≠ê ${p.rating}</span></div>`).join('')}
                            </div>
                        </div>
                        <div style="text-align: center; margin: 20px 0;">
                            <button onclick="autoBalanceTeams()" style="padding: 12px 24px; background: linear-gradient(135deg, #9c27b0, #ba68c8); color: white; border: none; border-radius: 20px; font-weight: 700; cursor: pointer; margin-right: 10px; font-size: 14px; box-shadow: 0 4px 16px rgba(156, 39, 176, 0.4); transition: all 0.3s ease;">
                                üîÑ –ü–µ—Ä–µ—à–∞—Ñ–ª–∏—Ç–∏ –∫–æ–º–∞–Ω–¥–∏
                            </button>
                            <button onclick="showFinalScore()" style="padding: 12px 24px; background: linear-gradient(135deg, #ff9800, #ffb74d); color: white; border: none; border-radius: 20px; font-weight: 700; cursor: pointer; font-size: 14px; box-shadow: 0 4px 16px rgba(255, 152, 0, 0.4); transition: all 0.3s ease;">
                                ‚öΩ –ó–∞–≤–µ—Ä—à–∏—Ç–∏ –º–∞—Ç—á
                            </button>
                        </div>
                    </div>
                `;
                teamsDisplay.style.display = 'block';
                
                // Also show final score section
                showFinalScore();
            } else {
                console.error('‚ùå teamsDisplay element not found');
                showToast('‚ùå –ï–ª–µ–º–µ–Ω—Ç –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∫–æ–º–∞–Ω–¥ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ', 'error');
            }
            
            showToast('‚öñÔ∏è –ö–æ–º–∞–Ω–¥–∏ –∑–±–∞–ª–∞–Ω—Å–æ–≤–∞–Ω–æ –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É!', 'success');
        }

        // Enhanced showFinalScore function
        function showFinalScore() {
            let finalScoreSection = document.getElementById('finalScoreSection');
            
            // If section doesn't exist, create it
            if (!finalScoreSection) {
                // Try to find a parent container
                const parentContainer = document.getElementById('matchManagement') || 
                                      document.getElementById('teamBuilder') || 
                                      document.querySelector('.match-management');
                
                if (parentContainer) {
                    const newSection = document.createElement('div');
                    newSection.id = 'finalScoreSection';
                    newSection.style.display = 'none';
                    parentContainer.appendChild(newSection);
                    finalScoreSection = newSection;
                }
            }
            
            if (finalScoreSection) {
                finalScoreSection.innerHTML = `
                    <div style="background: rgba(255,255,255,0.1); border-radius: 15px; padding: 20px; margin: 20px 0;">
                        <h3 style="text-align: center; margin: 0 0 20px 0; color: white;">‚öΩ –§—ñ–Ω–∞–ª—å–Ω–∏–π —Ä–∞—Ö—É–Ω–æ–∫</h3>
                        <div style="display: flex; align-items: center; justify-content: center; gap: 20px; margin: 20px 0;">
                            <div style="text-align: center;">
                                <div style="background: linear-gradient(135deg, #4caf50, #66bb6a); padding: 10px 15px; border-radius: 10px; color: white; font-weight: 600; margin-bottom: 10px;">
                                    –ö–æ–º–∞–Ω–¥–∞ 1
                                </div>
                                <input type="number" id="team1Score" min="0" max="20" value="0" 
                                       style="width: 80px; padding: 15px; border: 2px solid rgba(255,255,255,0.4); border-radius: 10px; background: rgba(255,255,255,0.1); color: white; font-size: 24px; font-weight: 700; text-align: center;">
                            </div>
                            
                            <div style="color: white; font-size: 32px; font-weight: 700;">:</div>
                            
                            <div style="text-align: center;">
                                <div style="background: linear-gradient(135deg, #2196f3, #42a5f5); padding: 10px 15px; border-radius: 10px; color: white; font-weight: 600; margin-bottom: 10px;">
                                    –ö–æ–º–∞–Ω–¥–∞ 2
                                </div>
                                <input type="number" id="team2Score" min="0" max="20" value="0" 
                                       style="width: 80px; padding: 15px; border: 2px solid rgba(255,255,255,0.4); border-radius: 10px; background: rgba(255,255,255,0.1); color: white; font-size: 24px; font-weight: 700; text-align: center;">
                            </div>
                        </div>
                        
                        <div style="text-align: center; margin-top: 20px;">
                            <button onclick="finishMatch()" style="padding: 15px 30px; background: linear-gradient(135deg, #4caf50, #66bb6a); color: white; border: none; border-radius: 20px; font-weight: 700; cursor: pointer; font-size: 16px;">
                                üèÅ –ó–∞–≤–µ—Ä—à–∏—Ç–∏ –º–∞—Ç—á —Ç–∞ –æ—Ü—ñ–Ω–∏—Ç–∏ –≥—Ä–∞–≤—Ü—ñ–≤
                            </button>
                        </div>
                    </div>
                `;
                
                finalScoreSection.style.display = 'block';
                finalScoreSection.scrollIntoView({ behavior: 'smooth' });
                
                console.log('‚úÖ finalScoreSection –ø–æ–∫–∞–∑–∞–Ω–æ');
                showToast('‚öΩ –í–≤–µ–¥—ñ—Ç—å —Ñ—ñ–Ω–∞–ª—å–Ω–∏–π —Ä–∞—Ö—É–Ω–æ–∫ –º–∞—Ç—á—É', 'info');
            } else {
                console.error('‚ùå –ù–µ –≤–¥–∞–ª–æ—Å—è —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Å–µ–∫—Ü—ñ—é —Ñ—ñ–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Ö—É–Ω–∫—É');
                showToast('‚ùå –ù–µ –≤–¥–∞–ª–æ—Å—è –ø–æ–∫–∞–∑–∞—Ç–∏ —Å–µ–∫—Ü—ñ—é —Ä–∞—Ö—É–Ω–∫—É', 'error');
            }
        }

        // Missing addFriend function
        function addFriend(playerId) {
            console.log(`üë• addFriend –≤–∏–∫–ª–∏–∫–∞–Ω–∞ –¥–ª—è ${playerId}`);
            closeModal('playerModal');
            showToast('üë• –î–æ–¥–∞–Ω–æ –¥–æ –¥—Ä—É–∑—ñ–≤!', 'success');
        }

        // Missing functions found in onclick handlers
        function closeNotifications() {
            const panel = document.getElementById('notificationsPanel');
            if (panel) {
                panel.style.display = 'none';
            }
        }

        function toggleNotifications() {
            const panel = document.getElementById('notificationsPanel');
            if (panel) {
                const isVisible = panel.style.display === 'block';
                panel.style.display = isVisible ? 'none' : 'block';
                showToast(isVisible ? 'üîî –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–∏—Ö–æ–≤–∞–Ω–æ' : 'üîî –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø–æ–∫–∞–∑–∞–Ω–æ', 'info');
            } else {
                // Create notifications panel if it doesn't exist
                const newPanel = document.createElement('div');
                newPanel.id = 'notificationsPanel';
                newPanel.style.cssText = `
                    position: fixed;
                    top: 70px;
                    right: 20px;
                    width: 300px;
                    max-height: 400px;
                    background: white;
                    border-radius: 15px;
                    box-shadow: 0 8px 32px rgba(0,0,0,0.3);
                    z-index: 1000;
                    overflow-y: auto;
                    display: block;
                `;
                newPanel.innerHTML = `
                    <div style="padding: 20px; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center;">
                        <h4 style="margin: 0; color: #333;">üîî –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è</h4>
                        <button onclick="closeNotifications()" style="background: none; border: none; font-size: 18px; color: #666; cursor: pointer;">√ó</button>
                    </div>
                    <div style="padding: 15px;">
                        <div style="padding: 10px; background: #f0f8ff; border-radius: 8px; margin-bottom: 10px; border-left: 4px solid #2196f3;">
                            <div style="font-weight: 600; font-size: 14px; color: #333;">–ù–æ–≤–∏–π —á–µ–ª–µ–Ω–¥–∂!</div>
                            <div style="font-size: 12px; color: #666; margin-top: 5px;">–ê–Ω–¥—Ä—ñ–π —Å—Ç–≤–æ—Ä–∏–≤ "–ö—Ä–∞—â—ñ –≥–æ–ª–∏ —Ç–∏–∂–Ω—è"</div>
                            <div style="font-size: 11px; color: #999; margin-top: 5px;">5 —Ö–≤ —Ç–æ–º—É</div>
                        </div>
                        <div style="padding: 10px; background: #f0fff0; border-radius: 8px; margin-bottom: 10px; border-left: 4px solid #4caf50;">
                            <div style="font-weight: 600; font-size: 14px; color: #333;">–ú–∞—Ç—á –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ</div>
                            <div style="font-size: 12px; color: #666; margin-top: 5px;">–í–∞—Å –ø—Ä–∏–π–Ω—è–ª–∏ –≤ –º–∞—Ç—á "–í–µ—á—ñ—Ä–Ω—ñ–π —Ñ—É—Ç–±–æ–ª"</div>
                            <div style="font-size: 11px; color: #999; margin-top: 5px;">1 –≥–æ–¥ —Ç–æ–º—É</div>
                        </div>
                        <div style="padding: 10px; background: #fff8f0; border-radius: 8px; border-left: 4px solid #ff9800;">
                            <div style="font-weight: 600; font-size: 14px; color: #333;">–ù–æ–≤–∏–π —Ä–µ–π—Ç–∏–Ω–≥</div>
                            <div style="font-size: 12px; color: #666; margin-top: 5px;">–í–∞—à —Ä–µ–π—Ç–∏–Ω–≥ –ø—ñ–¥–≤–∏—â–∏–≤—Å—è –¥–æ 4.8!</div>
                            <div style="font-size: 11px; color: #999; margin-top: 5px;">2 –≥–æ–¥ —Ç–æ–º—É</div>
                        </div>
                    </div>
                `;
                document.body.appendChild(newPanel);
                showToast('üîî –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø–æ–∫–∞–∑–∞–Ω–æ', 'info');
            }
        }

        function playVideo(videoId) {
            console.log(`‚ñ∂Ô∏è playVideo –≤–∏–∫–ª–∏–∫–∞–Ω–∞ –¥–ª—è ${videoId}`);
            showToast('‚ñ∂Ô∏è –í—ñ–¥–µ–æ –≤—ñ–¥—Ç–≤–æ—Ä—é—î—Ç—å—Å—è', 'info');
        }

        function toggleComments(videoId) {
            console.log(`üí¨ toggleComments –≤–∏–∫–ª–∏–∫–∞–Ω–∞ –¥–ª—è ${videoId}`);
            showToast('üí¨ –ö–æ–º–µ–Ω—Ç–∞—Ä—ñ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–æ', 'info');
        }

        function switchMatchTab(tabType) {
            console.log(`üìã switchMatchTab –≤–∏–∫–ª–∏–∫–∞–Ω–∞ –∑ ${tabType}`);
            const availableTab = document.getElementById('availableTab');
            const myMatchesTab = document.getElementById('myMatchesTab');
            const availableMatches = document.getElementById('availableMatches');
            const myMatches = document.getElementById('myMatches');
            
            if (tabType === 'available') {
                availableTab.style.background = 'linear-gradient(135deg, #4caf50, #66bb6a)';
                availableTab.style.color = 'white';
                myMatchesTab.style.background = 'transparent';
                myMatchesTab.style.color = 'rgba(255,255,255,0.7)';
                if (availableMatches) availableMatches.style.display = 'block';
                if (myMatches) myMatches.style.display = 'none';
            } else {
                myMatchesTab.style.background = 'linear-gradient(135deg, #4caf50, #66bb6a)';
                myMatchesTab.style.color = 'white';
                availableTab.style.background = 'transparent';
                availableTab.style.color = 'rgba(255,255,255,0.7)';
                if (myMatches) myMatches.style.display = 'block';
                if (availableMatches) availableMatches.style.display = 'none';
            }
        }

        window.showCreateMatchModal = function showCreateMatchModal() {
            console.log('üèüÔ∏è showCreateMatchModal –≤–∏–∫–ª–∏–∫–∞–Ω–∞');
            const modal = document.getElementById('createMatchModal');
            if (modal) {
                modal.style.display = 'flex';
            } else {
                showToast('‚ùå –ú–æ–¥–∞–ª—å —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–∞—Ç—á—É –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ', 'error');
            }
        }

        function closeCreateMatchModal() {
            console.log('‚ùå closeCreateMatchModal –≤–∏–∫–ª–∏–∫–∞–Ω–∞');
            const modal = document.getElementById('createMatchModal');
            if (modal) modal.style.display = 'none';
        }

        function filterMatches(filterType) {
            console.log(`üîç filterMatches –≤–∏–∫–ª–∏–∫–∞–Ω–∞ –∑ ${filterType}`);
            showToast(`üîç –§—ñ–ª—å—Ç—Ä –º–∞—Ç—á—ñ–≤: ${filterType}`, 'info');
        }

        function showMatchDetails(matchId) {
            const modal = document.getElementById('matchDetailsModal');
            if (!modal) return;
            
            // Demo match data
            const matchData = {
                'match1': {
                    title: 'üåÉ –í–µ—á—ñ—Ä–Ω—ñ–π —Ñ—É—Ç–±–æ–ª',
                    time: '–°—å–æ–≥–æ–¥–Ω—ñ 18:00',
                    location: '–°—Ç–∞–¥—ñ–æ–Ω "–û–ª—ñ–º–ø—ñ–π—Å—å–∫–∏–π"',
                    organizer: '–ê–Ω–¥—Ä—ñ–π –ü–µ—Ç—Ä–µ–Ω–∫–æ',
                    players: '7/10 –≥—Ä–∞–≤—Ü—ñ–≤',
                    price: '100‚Ç¥',
                    format: '5x5',
                    rating: '3.5+ —Ä–µ–π—Ç–∏–Ω–≥',
                    description: '–î—Ä—É–∂–Ω—ñ–π –º–∞—Ç—á –¥–ª—è –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è –Ω–∞–≤–∏—á–æ–∫',
                    participants: [
                        { name: '–í—ñ–∫—Ç–æ—Ä –®–µ–≤—á–µ–Ω–∫–æ', position: '–ù–∞–ø–∞–¥–Ω–∏–∫', rating: 4.2, avatar: 'üéØ' },
                        { name: '–ú–∞–∫—Å–∏–º –ó—ñ–Ω—á–µ–Ω–∫–æ', position: '–í–æ—Ä–æ—Ç–∞—Ä', rating: 3.9, avatar: 'ü•Ö' },
                        { name: '–û–ª–µ–∫—Å–∞–Ω–¥—Ä –ú–µ–ª—å–Ω–∏–∫', position: '–ó–∞—Ö–∏—Å–Ω–∏–∫', rating: 4.1, avatar: 'üõ°Ô∏è' },
                        { name: '–î–º–∏—Ç—Ä–æ –ö–æ–≤–∞–ª–µ–Ω–∫–æ', position: '–ü—ñ–≤–∑–∞—Ö–∏—Å–Ω–∏–∫', rating: 3.8, avatar: '‚öΩ' },
                        { name: '–ü–µ—Ç—Ä–æ –ú–µ–ª—å–Ω–∏–∫', position: '–ù–∞–ø–∞–¥–Ω–∏–∫', rating: 4.0, avatar: 'üî•' }
                    ]
                }
            };
            
            const match = matchData[matchId] || matchData['match1'];
            
            modal.innerHTML = `
                <div class="modal-content" style="max-width: 500px; margin: 50px auto; background: linear-gradient(135deg, #2e7d32, #4caf50); border-radius: 20px; padding: 0; color: white; overflow: hidden;">
                    <div style="background: linear-gradient(45deg, #1b5e20, #2e7d32); padding: 20px; text-align: center;">
                        <button onclick="closeMatchDetails()" style="position: absolute; top: 10px; right: 15px; background: none; border: none; color: white; font-size: 24px; cursor: pointer;">&times;</button>
                        <h3 style="margin: 0; font-size: 20px;">${match.title}</h3>
                        <p style="margin: 5px 0; opacity: 0.9;">${match.time} ‚Ä¢ ${match.location}</p>
                    </div>
                    
                    <div style="padding: 20px;">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px;">
                            <div>
                                <strong>üë§ –û—Ä–≥–∞–Ω—ñ–∑–∞—Ç–æ—Ä:</strong><br>
                                <span style="opacity: 0.9;">${match.organizer}</span>
                            </div>
                            <div>
                                <strong>üë• –ì—Ä–∞–≤—Ü—ñ:</strong><br>
                                <span style="opacity: 0.9;">${match.players}</span>
                            </div>
                            <div>
                                <strong>üí∞ –¶—ñ–Ω–∞:</strong><br>
                                <span style="opacity: 0.9;">${match.price}</span>
                            </div>
                            <div>
                                <strong>‚öΩ –§–æ—Ä–º–∞—Ç:</strong><br>
                                <span style="opacity: 0.9;">${match.format}</span>
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 20px;">
                            <strong>üìù –û–ø–∏—Å:</strong><br>
                            <span style="opacity: 0.9;">${match.description}</span>
                        </div>
                        
                        <div style="margin-bottom: 20px;">
                            <strong>üë• –£—á–∞—Å–Ω–∏–∫–∏ (${match.participants.length}):</strong>
                            <div style="max-height: 150px; overflow-y: auto; margin-top: 10px;">
                                ${match.participants.map(player => `
                                    <div style="display: flex; align-items: center; gap: 10px; padding: 8px; background: rgba(255,255,255,0.1); border-radius: 8px; margin-bottom: 8px; cursor: pointer;" onclick="showPlayerProfile('${player.name.toLowerCase().replace(' ', '_')}')">
                                        <div style="width: 32px; height: 32px; background: #4caf50; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 16px;">${player.avatar}</div>
                                        <div style="flex: 1;">
                                            <div style="font-weight: 600; font-size: 14px;">${player.name}</div>
                                            <div style="font-size: 12px; opacity: 0.8;">${player.position} ‚Ä¢ ‚≠ê ${player.rating}</div>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                        
                        <div style="display: flex; gap: 10px;">
                            <button onclick="joinMatchFromDetails()" style="flex: 1; padding: 12px; background: linear-gradient(45deg, #4caf50, #66bb6a); border: none; border-radius: 10px; color: white; font-weight: 600; cursor: pointer;">
                                ‚úÖ –ü—Ä–∏—î–¥–Ω–∞—Ç–∏—Å—è
                            </button>
                            <button onclick="shareMatch()" style="flex: 1; padding: 12px; background: linear-gradient(45deg, #ff9800, #ffb74d); border: none; border-radius: 10px; color: white; font-weight: 600; cursor: pointer;">
                                üì§ –ü–æ–¥—ñ–ª–∏—Ç–∏—Å—è
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            modal.style.display = 'flex';
        }

        function closeMatchDetails() {
            console.log('‚ùå closeMatchDetails –≤–∏–∫–ª–∏–∫–∞–Ω–∞');
            const modal = document.getElementById('matchDetailsModal');
            if (modal) modal.style.display = 'none';
        }

        function joinMatch(matchId) {
            console.log(`‚öΩ joinMatch –≤–∏–∫–ª–∏–∫–∞–Ω–∞ –¥–ª—è ${matchId}`);
            showToast('üìù –ó–∞—è–≤–∫—É –ø–æ–¥–∞–Ω–æ! –û—á—ñ–∫—É–π—Ç–µ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –≤—ñ–¥ –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ç–æ—Ä–∞.', 'success');
        }

        function joinMatchFromDetails() {
            console.log('‚öΩ joinMatchFromDetails –≤–∏–∫–ª–∏–∫–∞–Ω–∞');
            closeMatchDetails();
            showToast('üìù –ó–∞—è–≤–∫—É –ø–æ–¥–∞–Ω–æ! –û—á—ñ–∫—É–π—Ç–µ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –≤—ñ–¥ –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ç–æ—Ä–∞.', 'success');
        }

        function shareMatch() {
            console.log('üì§ shareMatch –≤–∏–∫–ª–∏–∫–∞–Ω–∞');
            showToast('üì§ –ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –º–∞—Ç—á —Å–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ', 'success');
        }

        function acceptPlayer(playerId) {
            console.log(`‚úÖ acceptPlayer –≤–∏–∫–ª–∏–∫–∞–Ω–∞ –¥–ª—è ${playerId}`);
            showToast(`‚úÖ –ì—Ä–∞–≤—Ü—è ${playerId} –ø—Ä–∏–π–Ω—è—Ç–æ`, 'success');
        }

        function rejectPlayer(playerId) {
            console.log(`‚ùå rejectPlayer –≤–∏–∫–ª–∏–∫–∞–Ω–∞ –¥–ª—è ${playerId}`);
            showToast(`‚ùå –ì—Ä–∞–≤—Ü—è ${playerId} –≤—ñ–¥—Ö–∏–ª–µ–Ω–æ`, 'error');
        }

        function finishMatch() {
            console.log('üèÅ finishMatch –≤–∏–∫–ª–∏–∫–∞–Ω–∞');
            
            // Get scores from inputs
            const team1Score = document.getElementById('team1Score');
            const team2Score = document.getElementById('team2Score');
            
            if (!team1Score || !team2Score) {
                showToast('‚ùå –ï–ª–µ–º–µ–Ω—Ç–∏ –¥–ª—è –≤–≤–µ–¥–µ–Ω–Ω—è —Ä–∞—Ö—É–Ω–∫—É –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ', 'error');
                return;
            }
            
            const score1 = parseInt(team1Score.value) || 0;
            const score2 = parseInt(team2Score.value) || 0;
            
            if (score1 === 0 && score2 === 0) {
                showToast('‚ùå –í–≤–µ–¥—ñ—Ç—å —Ä–∞—Ö—É–Ω–æ–∫ –º–∞—Ç—á—É!', 'error');
                return;
            }
            
            // Hide final score section
            const finalScoreSection = document.getElementById('finalScoreSection');
            if (finalScoreSection) {
                finalScoreSection.style.display = 'none';
            }
            
            // Show player rating modal for team players
            const teamPlayers = [
                { id: 'teammate1', name: '–ê–Ω–¥—Ä—ñ–π –ö.', rating: 4.2 },
                { id: 'teammate2', name: '–ü–µ—Ç—Ä–æ –ú.', rating: 3.8 },
                { id: 'teammate3', name: '–î–º–∏—Ç—Ä–æ –õ.', rating: 4.5 },
                { id: 'teammate4', name: '–û–ª–µ–∫—Å—ñ–π –®.', rating: 3.9 }
            ];
            
            currentTeamRating = { 
                teamPlayers: teamPlayers, 
                currentIndex: 0,
                finalScore: `${score1}:${score2}`
            };
            
            showTeamRatingModal();
        }

        function showTeamRatingModal() {
            const { teamPlayers, currentIndex } = currentTeamRating;
            
            if (currentIndex >= teamPlayers.length) {
                showToast('üéâ –í—Å—ñ—Ö –≥—Ä–∞–≤—Ü—ñ–≤ –æ—Ü—ñ–Ω–µ–Ω–æ! –î—è–∫—É—î–º–æ –∑–∞ –≥—Ä—É!', 'success');
                // Reset for next match
                currentTeamRating = { teamPlayers: [], currentIndex: 0 };
                return;
            }
            
            const player = teamPlayers[currentIndex];
            showRatingModal(player.id, teamPlayers, currentIndex);
        }

        function showRatingModal(playerId, teamPlayers = null, playerIndex = 0) {
            console.log(`‚≠ê showRatingModal –≤–∏–∫–ª–∏–∫–∞–Ω–∞ –¥–ª—è ${playerId}`);
            
            const modal = document.getElementById('ratingModal');
            if (!modal) {
                showToast('‚ùå –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ —Ä–µ–π—Ç–∏–Ω–≥—É –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ', 'error');
                return;
            }
            
            let player;
            let title = '–û—Ü—ñ–Ω—ñ—Ç—å –≥—Ä–∞–≤—Ü—è';
            
            if (teamPlayers && playerIndex !== undefined) {
                player = teamPlayers[playerIndex];
                title = `–û—Ü—ñ–Ω—ñ—Ç—å –≥—Ä–∞–≤—Ü—è (${playerIndex + 1}/${teamPlayers.length})`;
            } else {
                player = playersDatabase[playerId] || { name: '–ì—Ä–∞–≤–µ—Ü—å', avatar: '‚öΩ' };
            }
            
            modal.innerHTML = `
                <div class="modal-content" style="max-width: 400px; margin: 50px auto; background: linear-gradient(135deg, #2e7d32, #4caf50); border-radius: 20px; padding: 0; color: white; overflow: hidden;">
                    <div style="background: linear-gradient(45deg, #1b5e20, #2e7d32); padding: 20px; text-align: center;">
                        <h3 style="margin: 0; font-size: 18px;">${title}</h3>
                        <div style="width: 60px; height: 60px; background: ${player.avatar || '‚öΩ'}; border-radius: 50%; margin: 15px auto; display: flex; align-items: center; justify-content: center; font-size: 30px; border: 3px solid white;">
                            ${player.avatar || '‚öΩ'}
                        </div>
                        <h4 style="margin: 0; font-size: 16px;">${player.name}</h4>
                        ${teamPlayers ? `<p style="margin: 5px 0; opacity: 0.8; font-size: 14px;">–ú–∞—Ç—á –∑–∞–≤–µ—Ä—à–µ–Ω–æ: ${currentTeamRating.finalScore}</p>` : ''}
                    </div>
                    
                    <div style="padding: 20px;">
                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 10px; font-weight: 600;">–û—Ü—ñ–Ω–∫–∞ –≥—Ä–∞–≤—Ü—è (0-5):</label>
                            <input type="range" id="playerRatingSlider" min="0" max="5" step="0.01" value="0" 
                                   onchange="updatePlayerRating(this.value)"
                                   style="width: 100%; height: 8px; border-radius: 4px; background: rgba(255,255,255,0.3); outline: none; margin-bottom: 10px;">
                            <div style="text-align: center;">
                                <span id="playerRatingValue" style="font-size: 24px; font-weight: 700; color: #ffd700;">0.00</span>
                                <span style="font-size: 16px; opacity: 0.8;">/5.00</span>
                            </div>
                        </div>
                        
                        <div style="display: flex; gap: 10px;">
                            <button onclick="submitPlayerRating()" style="flex: 1; padding: 12px; background: linear-gradient(45deg, #4caf50, #66bb6a); border: none; border-radius: 10px; color: white; font-weight: 600; cursor: pointer;">
                                ‚úÖ –û—Ü—ñ–Ω–∏—Ç–∏
                            </button>
                            <button onclick="closeModal('ratingModal')" style="flex: 1; padding: 12px; background: rgba(255,255,255,0.2); border: none; border-radius: 10px; color: white; font-weight: 600; cursor: pointer;">
                                ‚ùå –°–∫–∞—Å—É–≤–∞—Ç–∏
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            modal.style.display = 'flex';
            currentRating = 0;
        }

        function updatePlayerRating(value) {
            currentRating = parseFloat(value);
            const display = document.getElementById('playerRatingValue');
            if (display) {
                display.textContent = currentRating.toFixed(2);
            }
        }

        function submitPlayerRating() {
            if (currentRating === 0) {
                showToast('‚≠ê –û–±–µ—Ä—ñ—Ç—å —Ä–µ–π—Ç–∏–Ω–≥!', 'error');
                return;
            }
            
            // Close modal
            closeModal('ratingModal');
            
            // If rating team players, move to next player
            if (currentTeamRating.teamPlayers && currentTeamRating.teamPlayers.length > 0) {
                currentTeamRating.currentIndex++;
                
                showToast(`‚≠ê –†–µ–π—Ç–∏–Ω–≥ ${currentRating.toFixed(2)}/5 –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ!`, 'success');
                
                // Show rating change effect
                setTimeout(() => {
                    if (currentTeamRating.currentIndex < currentTeamRating.teamPlayers.length) {
                        showTeamRatingModal();
                    } else {
                        showToast('üéâ –í—Å—ñ—Ö –≥—Ä–∞–≤—Ü—ñ–≤ –æ—Ü—ñ–Ω–µ–Ω–æ! –î—è–∫—É—î–º–æ –∑–∞ –≥—Ä—É!', 'success');
                        currentTeamRating = { teamPlayers: [], currentIndex: 0 };
                    }
                }, 1000);
            } else {
                showToast(`‚≠ê –†–µ–π—Ç–∏–Ω–≥ ${currentRating.toFixed(2)}/5 –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ!`, 'success');
            }
        }

        function manageMyMatch(matchId) {
            console.log(`‚öôÔ∏è manageMyMatch –≤–∏–∫–ª–∏–∫–∞–Ω–∞ –¥–ª—è ${matchId}`);
            
            // First ensure we're on "My Matches" tab
            switchMatchTab('my');
            
            // Hide my matches list and show management
            const myMatchesList = document.getElementById('myMatchesList');
            const matchManagement = document.getElementById('matchManagement');
            
            if (myMatchesList) {
                myMatchesList.style.display = 'none';
                console.log('‚úÖ myMatchesList –ø—Ä–∏—Ö–æ–≤–∞–Ω–æ');
            } else {
                console.error('‚ùå myMatchesList –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ');
            }
            
            if (matchManagement) {
                matchManagement.style.display = 'block';
                console.log('‚úÖ matchManagement –ø–æ–∫–∞–∑–∞–Ω–æ');
                
                // Scroll to management section
                matchManagement.scrollIntoView({ behavior: 'smooth' });
            } else {
                console.error('‚ùå matchManagement –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ');
                showToast('‚ùå –°–µ–∫—Ü—ñ—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –º–∞—Ç—á–µ–º –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–∞', 'error');
            }
            
            showToast(`‚öôÔ∏è –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –º–∞—Ç—á–µ–º ${matchId}`, 'info');
        }

        function backToMyMatches() {
            console.log('‚¨ÖÔ∏è backToMyMatches –≤–∏–∫–ª–∏–∫–∞–Ω–∞');
            const myMatchesList = document.getElementById('myMatchesList');
            const matchManagement = document.getElementById('matchManagement');
            if (myMatchesList) myMatchesList.style.display = 'block';
            if (matchManagement) matchManagement.style.display = 'none';
        }

        function editMatch(matchId) {
            console.log(`‚úèÔ∏è editMatch –≤–∏–∫–ª–∏–∫–∞–Ω–∞ –¥–ª—è ${matchId}`);
            showToast('‚úèÔ∏è –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –º–∞—Ç—á—É', 'info');
        }

        function showFriendsSelector() {
            console.log('üë• showFriendsSelector –≤–∏–∫–ª–∏–∫–∞–Ω–∞');
            
            const friendsSelector = document.getElementById('friendsSelector');
            if (friendsSelector) {
                const isVisible = friendsSelector.style.display === 'block';
                friendsSelector.style.display = isVisible ? 'none' : 'block';
                
                const button = document.querySelector('[onclick="showFriendsSelector()"]');
                if (button) {
                    if (isVisible) {
                        button.textContent = 'üë• –í–∏–±—Ä–∞—Ç–∏ –¥—Ä—É–∑—ñ–≤';
                        button.style.background = '#4caf50';
                    } else {
                        button.textContent = 'üë• –°—Ö–æ–≤–∞—Ç–∏ —Å–ø–∏—Å–æ–∫';
                        button.style.background = '#ff9800';
                    }
                }
            } else {
                showToast('üë• –°–ø–∏—Å–æ–∫ –¥—Ä—É–∑—ñ–≤', 'info');
            }
        }

        function updateSelectedFriends() {
            const checkboxes = document.querySelectorAll('#friendsSelector input[type="checkbox"]:checked');
            const selectedCount = checkboxes.length;
            const selectedNames = Array.from(checkboxes).slice(0, 3).map(cb => cb.getAttribute('data-name'));
            
            const display = document.getElementById('selectedFriendsDisplay');
            if (display) {
                if (selectedCount === 0) {
                    display.textContent = '–ù–µ –≤–∏–±—Ä–∞–Ω–æ';
                    display.style.color = 'rgba(255,255,255,0.6)';
                } else {
                    let text = selectedNames.join(', ');
                    if (selectedCount > 3) {
                        text += ` —Ç–∞ —â–µ ${selectedCount - 3}`;
                    }
                    display.textContent = text;
                    display.style.color = '#4caf50';
                }
            }
            
            console.log(`üë• –í–∏–±—Ä–∞–Ω–æ –¥—Ä—É–∑—ñ–≤: ${selectedCount}`);
        }

        function showChallengeVideos(challengeId) {
            console.log(`üìπ showChallengeVideos –≤–∏–∫–ª–∏–∫–∞–Ω–∞ –¥–ª—è ${challengeId}`);
            
            const challengeData = {
                'best_trick': {
                    title: '–ö—Ä–∞—â–∏–π —Ñ—ñ–Ω—Ç —Ç–∏–∂–Ω—è',
                    totalVideos: 8,
                    videos: [
                        { id: 'trick1', title: '–ù–µ–π–º–æ–≤—ñ—Ä–Ω–∏–π —Ñ—ñ–Ω—Ç', author: '–ê–Ω–¥—Ä—ñ–π –ö.', city: '–ö–∏—ó–≤', rating: 4.2, votes: 15 },
                        { id: 'trick2', title: '–¢–µ—Ö–Ω—ñ—á–Ω–∏–π –æ–±–≤—ñ–¥', author: '–ü–µ—Ç—Ä–æ –ú.', city: '–õ—å–≤—ñ–≤', rating: 4.5, votes: 22 },
                        { id: 'trick3', title: '–®–≤–∏–¥–∫–∏–π –¥—Ä–∏–±–ª—ñ–Ω–≥', author: '–î–º–∏—Ç—Ä–æ –õ.', city: '–û–¥–µ—Å–∞', rating: 3.8, votes: 12 },
                        { id: 'trick4', title: '–ï–ª–µ–≥–∞–Ω—Ç–Ω–∏–π —Ñ—ñ–Ω—Ç', author: '–û–ª–µ–∫—Å—ñ–π –®.', city: '–•–∞—Ä–∫—ñ–≤', rating: 4.1, votes: 18 },
                        { id: 'trick5', title: '–ú–∞–π—Å—Ç–µ—Ä—Å—å–∫–∏–π –æ–±–≤—ñ–¥', author: '–ú–∞–∫—Å–∏–º –ó.', city: '–î–Ω—ñ–ø—Ä–æ', rating: 4.3, votes: 20 },
                        { id: 'trick6', title: '–ö—Ä–µ–∞—Ç–∏–≤–Ω–∏–π —Ä—É—Ö', author: '–í—ñ–∫—Ç–æ—Ä –°.', city: '–ö–∏—ó–≤', rating: 3.9, votes: 14 },
                        { id: 'trick7', title: '–§–∞–Ω—Ç–∞—Å—Ç–∏—á–Ω–∏–π —Ñ—ñ–Ω—Ç', author: '–û–ª–µ–∫—Å–∞–Ω–¥—Ä –ú.', city: '–õ—å–≤—ñ–≤', rating: 4.4, votes: 25 },
                        { id: 'trick8', title: '–ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–π –æ–±–≤—ñ–¥', author: '–Ü–≥–æ—Ä –ü.', city: '–û–¥–µ—Å–∞', rating: 4.0, votes: 16 }
                    ]
                },
                'accuracy': {
                    title: '–¢–æ—á–Ω—ñ—Å—Ç—å —É–¥–∞—Ä—ñ–≤',
                    totalVideos: 5,
                    videos: [
                        { id: 'acc1', title: '–¢–æ—á–Ω–∏–π —É–¥–∞—Ä —É –∫—É—Ç', author: '–°–µ—Ä–≥—ñ–π –ö.', city: '–ö–∏—ó–≤', rating: 4.6, votes: 28 },
                        { id: 'acc2', title: '–í–ª—É—á–Ω–∏–π –ø–æ—Å—Ç—Ä—ñ–ª', author: '–†–æ–º–∞–Ω –¢.', city: '–õ—å–≤—ñ–≤', rating: 4.2, votes: 19 },
                        { id: 'acc3', title: '–Ü–¥–µ–∞–ª—å–Ω–∞ —Ç–æ—á–Ω—ñ—Å—Ç—å', author: '–î–µ–Ω–∏—Å –í.', city: '–•–∞—Ä–∫—ñ–≤', rating: 4.8, votes: 32 },
                        { id: 'acc4', title: '–ú–∞–π—Å—Ç–µ—Ä—Å—å–∫–∏–π —É–¥–∞—Ä', author: '–ê—Ä—Ç–µ–º –ì.', city: '–î–Ω—ñ–ø—Ä–æ', rating: 4.1, votes: 17 },
                        { id: 'acc5', title: '–ù–µ–ø–µ—Ä–µ–≤–µ—Ä—à–µ–Ω–∞ —Ç–æ—á–Ω—ñ—Å—Ç—å', author: '–ë–æ–≥–¥–∞–Ω –§.', city: '–û–¥–µ—Å–∞', rating: 4.4, votes: 23 }
                    ]
                },
                'speed': {
                    title: '–®–≤–∏–¥–∫—ñ—Å—Ç—å –¥—Ä–∏–±–ª—ñ–Ω–≥—É',
                    totalVideos: 6,
                    videos: [
                        { id: 'speed1', title: '–ë–ª–∏—Å–∫–∞–≤–∏—á–Ω–∏–π –¥—Ä–∏–±–ª—ñ–Ω–≥', author: '–¢–∞—Ä–∞—Å –õ.', city: '–ö–∏—ó–≤', rating: 4.3, votes: 21 },
                        { id: 'speed2', title: '–®–≤–∏–¥–∫—ñ –Ω–æ–≥–∏', author: '–Æ—Ä—ñ–π –ú.', city: '–õ—å–≤—ñ–≤', rating: 4.0, votes: 15 },
                        { id: 'speed3', title: '–ù–∞–¥—à–≤–∏–¥–∫—ñ—Å—Ç—å', author: '–í–ª–∞–¥–∏—Å–ª–∞–≤ –ù.', city: '–û–¥–µ—Å–∞', rating: 4.7, votes: 29 },
                        { id: 'speed4', title: '–°—Ç—Ä—ñ–º–∫–∏–π —Ä—É—Ö', author: '–ú–∏—Ö–∞–π–ª–æ –û.', city: '–•–∞—Ä–∫—ñ–≤', rating: 3.9, votes: 13 },
                        { id: 'speed5', title: '–¢—É—Ä–±–æ-–¥—Ä–∏–±–ª—ñ–Ω–≥', author: '–ù–∞–∑–∞—Ä –ü.', city: '–î–Ω—ñ–ø—Ä–æ', rating: 4.5, votes: 26 },
                        { id: 'speed6', title: '–ö–æ—Å–º—ñ—á–Ω–∞ —à–≤–∏–¥–∫—ñ—Å—Ç—å', author: '–°—Ç–∞–Ω—ñ—Å–ª–∞–≤ –†.', city: '–ö–∏—ó–≤', rating: 4.2, votes: 18 }
                    ]
                }
            };

            const challenge = challengeData[challengeId];
            if (!challenge) {
                showToast('‚ùå –ß–µ–ª–µ–Ω–¥–∂ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ', 'error');
                return;
            }

            const modal = document.getElementById('challengeVideosModal');
            if (!modal) {
                showToast('‚ùå –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ', 'error');
                return;
            }

            // Create modal content
            modal.innerHTML = `
                <div class="modal-content" style="max-width: 600px; margin: 50px auto; background: linear-gradient(135deg, #2e7d32, #4caf50); border-radius: 20px; padding: 0; color: white; overflow: hidden; max-height: 80vh; overflow-y: auto;">
                    <div style="background: linear-gradient(45deg, #1b5e20, #2e7d32); padding: 20px; text-align: center; position: sticky; top: 0; z-index: 10;">
                        <button onclick="closeChallengeVideos()" style="position: absolute; top: 10px; right: 15px; background: none; border: none; color: white; font-size: 24px; cursor: pointer;">&times;</button>
                        <h3 style="margin: 0; font-size: 20px;">${challenge.title}</h3>
                        <p style="margin: 5px 0; opacity: 0.9;">–í—Å—å–æ–≥–æ –≤—ñ–¥–µ–æ: ${challenge.totalVideos}</p>
                        <button onclick="sortChallengeVideos('${challengeId}')" style="padding: 8px 15px; background: rgba(255,255,255,0.2); border: none; border-radius: 15px; color: white; cursor: pointer; font-size: 12px; margin-top: 10px;">
                            üìä –°–æ—Ä—Ç—É–≤–∞—Ç–∏ –∑–∞ —Ä–µ–π—Ç–∏–Ω–≥–æ–º
                        </button>
                    </div>
                    
                    <div style="padding: 20px;">
                        <div id="challengeVideosList">
                            ${challenge.videos.map(video => `
                                <div style="background: rgba(255,255,255,0.1); border-radius: 15px; padding: 15px; margin-bottom: 15px; border: 1px solid rgba(255,255,255,0.2);">
                                    <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 10px;">
                                        <div style="width: 60px; height: 60px; background: linear-gradient(45deg, #ff6b6b, #ee5a24); border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 18px;">
                                            ‚ñ∂Ô∏è
                                        </div>
                                        <div style="flex: 1;">
                                            <h4 style="margin: 0 0 5px 0; font-size: 16px;">${video.title}</h4>
                                            <p style="margin: 0; opacity: 0.8; font-size: 14px;">
                                                <strong>${video.author}</strong> ‚Ä¢ ${video.city}<br>
                                                ‚≠ê ${video.rating}/5 ‚Ä¢ üë• ${video.votes} –≥–æ–ª–æ—Å—ñ–≤
                                            </p>
                                        </div>
                                    </div>
                                    
                                    <div style="display: flex; align-items: center; gap: 10px; margin-top: 10px;">
                                        <span style="font-size: 12px; opacity: 0.8;">–í–∞—à–∞ –æ—Ü—ñ–Ω–∫–∞:</span>
                                        <input type="range" id="slider_${video.id}" min="0" max="5" step="0.01" value="0" 
                                               onchange="updateChallengeVoteValue('${video.id}', this.value)"
                                               style="flex: 1; height: 6px; border-radius: 3px; background: rgba(255,255,255,0.3); outline: none;">
                                        <span id="vote_${video.id}" style="min-width: 35px; font-weight: 600; font-size: 14px;">0.00</span>
                                        <button id="btn_${video.id}" onclick="voteForChallengeVideo('${video.id}', event)" 
                                                style="padding: 6px 12px; background: #4caf50; color: white; border: none; border-radius: 8px; font-size: 12px; font-weight: 600; cursor: pointer;">
                                            –ì–æ–ª–æ—Å
                                        </button>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                        
                        <div style="text-align: center; margin-top: 20px; padding-top: 20px; border-top: 1px solid rgba(255,255,255,0.2);">
                            <button onclick="submitAllChallengeVotes('${challengeId}')" style="padding: 12px 30px; background: linear-gradient(45deg, #4caf50, #66bb6a); color: white; border: none; border-radius: 20px; font-weight: 700; cursor: pointer; font-size: 16px;">
                                ‚úÖ –ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ –≤—Å—ñ –≥–æ–ª–æ—Å–∏ (+20 –º–æ–Ω–µ—Ç)
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            modal.style.display = 'flex';
        }

        function updateChallengeVoteValue(videoId, value) {
            const ratingValue = parseFloat(value);
            const display = document.getElementById('vote_' + videoId);
            if (display) {
                display.textContent = ratingValue.toFixed(2);
            }
        }

        function voteForChallengeVideo(videoId, event) {
            const slider = document.getElementById('slider_' + videoId);
            const button = document.getElementById('btn_' + videoId);
            
            if (!slider || !button) return;
            
            const rating = parseFloat(slider.value);
            if (rating === 0) {
                showToast('‚ùå –û–±–µ—Ä—ñ—Ç—å –æ—Ü—ñ–Ω–∫—É –Ω–∞ –ø–æ–≤–∑—É–Ω–∫—É!', 'error');
                return;
            }
            
            // Disable slider and button
            slider.disabled = true;
            button.disabled = true;
            button.textContent = '–ü—Ä–æ–≥–æ–ª–æ—Å–æ–≤–∞–Ω–æ';
            button.style.background = '#757575';
            
            showToast(`‚≠ê –ì–æ–ª–æ—Å ${rating.toFixed(2)} –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ!`, 'success');
        }

        function submitAllChallengeVotes(challengeId) {
            coins += 20;
            document.querySelector('.coins-count').textContent = coins;
            closeChallengeVideos();
            showToast('üéâ –í—Å—ñ –≥–æ–ª–æ—Å–∏ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ! +20 –º–æ–Ω–µ—Ç', 'success');
        }

        function sortChallengeVideos(challengeId) {
            showToast('üìä –í—ñ–¥–µ–æ –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–æ –∑–∞ —Ä–µ–π—Ç–∏–Ω–≥–æ–º', 'info');
        }

        function closeChallengeVideos() {
            console.log('‚ùå closeChallengeVideos –≤–∏–∫–ª–∏–∫–∞–Ω–∞');
            const modal = document.getElementById('challengeVideosModal');
            if (modal) modal.style.display = 'none';
        }

        function filterRating(filterType) {
            console.log(`‚≠ê filterRating –≤–∏–∫–ª–∏–∫–∞–Ω–∞ –∑ ${filterType}`);
            showToast(`‚≠ê –§—ñ–ª—å—Ç—Ä —Ä–µ–π—Ç–∏–Ω–≥—É: ${filterType}`, 'info');
        }

        function showSettings() {
            console.log('‚öôÔ∏è showSettings –≤–∏–∫–ª–∏–∫–∞–Ω–∞');
            showToast('‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è', 'info');
        }

        function editProfile() {
            console.log('‚úèÔ∏è editProfile –≤–∏–∫–ª–∏–∫–∞–Ω–∞');
            showToast('‚úèÔ∏è –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –ø—Ä–æ—Ñ—ñ–ª—é', 'info');
        }

        function showAchievements() {
            console.log('üèÜ showAchievements –≤–∏–∫–ª–∏–∫–∞–Ω–∞');
            showToast('üèÜ –î–æ—Å—è–≥–Ω–µ–Ω–Ω—è', 'info');
        }

        function showFriends() {
            console.log('üë• showFriends –≤–∏–∫–ª–∏–∫–∞–Ω–∞');
            showToast('üë• –î—Ä—É–∑—ñ', 'info');
        }

        function showMyAchievements() {
            console.log('üèÜ showMyAchievements –≤–∏–∫–ª–∏–∫–∞–Ω–∞');
            showToast('üèÜ –ú–æ—ó –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è', 'info');
        }

        function showAddMenu() {
            const menu = document.getElementById('addMenu');
            if (menu) {
                const isVisible = menu.style.display === 'block';
                menu.style.display = isVisible ? 'none' : 'block';
            } else {
                // Create add menu if it doesn't exist
                const newMenu = document.createElement('div');
                newMenu.id = 'addMenu';
                newMenu.style.cssText = `
                    position: fixed;
                    bottom: 90px;
                    right: 20px;
                    background: white;
                    border-radius: 15px;
                    box-shadow: 0 8px 32px rgba(0,0,0,0.3);
                    z-index: 1000;
                    display: block;
                    min-width: 200px;
                `;
                newMenu.innerHTML = `
                    <div style="padding: 15px;">
                        <div onclick="showCreateVideo(); document.getElementById('addMenu').style.display='none';" style="padding: 12px; display: flex; align-items: center; gap: 12px; cursor: pointer; border-radius: 8px; transition: background 0.2s;" onmouseover="this.style.background='#f5f5f5'" onmouseout="this.style.background='transparent'">
                            <div style="width: 40px; height: 40px; background: linear-gradient(135deg, #4caf50, #66bb6a); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 18px;">üìπ</div>
                            <div>
                                <div style="font-weight: 600; font-size: 14px; color: #333;">–°—Ç–≤–æ—Ä–∏—Ç–∏ –≤—ñ–¥–µ–æ</div>
                                <div style="font-size: 12px; color: #666;">–ü–æ–¥—ñ–ª—ñ—Ç—å—Å—è —Å–≤–æ—ó–º –º–æ–º–µ–Ω—Ç–æ–º</div>
                            </div>
                        </div>
                        <div onclick="showCreateChallenge(); document.getElementById('addMenu').style.display='none';" style="padding: 12px; display: flex; align-items: center; gap: 12px; cursor: pointer; border-radius: 8px; transition: background 0.2s;" onmouseover="this.style.background='#f5f5f5'" onmouseout="this.style.background='transparent'">
                            <div style="width: 40px; height: 40px; background: linear-gradient(135deg, #ff9800, #ffb74d); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 18px;">üèÜ</div>
                            <div>
                                <div style="font-weight: 600; font-size: 14px; color: #333;">–°—Ç–≤–æ—Ä–∏—Ç–∏ —á–µ–ª–µ–Ω–¥–∂</div>
                                <div style="font-size: 12px; color: #666;">–ó–∞–ø—Ä–æ—Å—ñ—Ç—å —ñ–Ω—à–∏—Ö –¥–æ –∑–º–∞–≥–∞–Ω–Ω—è</div>
                            </div>
                        </div>
                        <div onclick="showCreateMatchModal(); document.getElementById('addMenu').style.display='none';" style="padding: 12px; display: flex; align-items: center; gap: 12px; cursor: pointer; border-radius: 8px; transition: background 0.2s;" onmouseover="this.style.background='#f5f5f5'" onmouseout="this.style.background='transparent'">
                            <div style="width: 40px; height: 40px; background: linear-gradient(135deg, #2196f3, #64b5f6); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 18px;">‚öΩ</div>
                            <div>
                                <div style="font-weight: 600; font-size: 14px; color: #333;">–°—Ç–≤–æ—Ä–∏—Ç–∏ –º–∞—Ç—á</div>
                                <div style="font-size: 12px; color: #666;">–û—Ä–≥–∞–Ω—ñ–∑—É–π—Ç–µ –≥—Ä—É</div>
                            </div>
                        </div>
                    </div>
                `;
                document.body.appendChild(newMenu);
                
                // Close menu when clicking outside
                document.addEventListener('click', function(e) {
                    if (!newMenu.contains(e.target) && !e.target.closest('.fab')) {
                        newMenu.style.display = 'none';
                    }
                });
            }
        }

        function closePlayerProfile() {
            console.log('‚ùå closePlayerProfile –≤–∏–∫–ª–∏–∫–∞–Ω–∞');
            closeModal('playerModal');
        }

        // Missing functions
        function acceptNotification(notificationId) {
            console.log('‚úÖ acceptNotification –≤–∏–∫–ª–∏–∫–∞–Ω–∞ –¥–ª—è:', notificationId);
            showToast('‚úÖ –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–∏–π–Ω—è—Ç–æ', 'success');
        }

        function addVideo() {
            console.log('üìπ addVideo –≤–∏–∫–ª–∏–∫–∞–Ω–∞');
            showCreateVideo();
        }

        function closeFriends() {
            console.log('‚ùå closeFriends –≤–∏–∫–ª–∏–∫–∞–Ω–∞');
            const modal = document.getElementById('friendsModal');
            if (modal) modal.style.display = 'none';
        }

        function closeSettings() {
            console.log('‚ùå closeSettings –≤–∏–∫–ª–∏–∫–∞–Ω–∞');
            const modal = document.getElementById('settingsModal');
            if (modal) modal.style.display = 'none';
        }

        function copyContact(contactType, value) {
            console.log('üìã copyContact –≤–∏–∫–ª–∏–∫–∞–Ω–∞:', contactType, value);
            navigator.clipboard.writeText(value).then(() => {
                showToast('üìã –ö–æ–Ω—Ç–∞–∫—Ç —Å–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ', 'success');
            }).catch(() => {
                showToast('‚ùå –ü–æ–º–∏–ª–∫–∞ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è', 'error');
            });
        }

        function createMatch() {
            console.log('‚öΩ createMatch –≤–∏–∫–ª–∏–∫–∞–Ω–∞');
            showCreateMatchModal();
        }

        function inviteToMatch(matchId, playerId) {
            console.log('üì® inviteToMatch –≤–∏–∫–ª–∏–∫–∞–Ω–∞:', matchId, playerId);
            showToast('üì® –ó–∞–ø—Ä–æ—à–µ–Ω–Ω—è –Ω–∞–¥—ñ—Å–ª–∞–Ω–æ', 'success');
        }

        function logout() {
            console.log('üö™ logout –≤–∏–∫–ª–∏–∫–∞–Ω–∞');
            if (confirm('–í–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ —Ö–æ—á–µ—Ç–µ –≤–∏–π—Ç–∏?')) {
                document.getElementById('authScreen').classList.add('active');
                document.getElementById('mainScreen').classList.remove('active');
                showToast('üëã –î–æ –ø–æ–±–∞—á–µ–Ω–Ω—è!', 'info');
            }
        }

        function readNotification(notificationId) {
            console.log('üëÅÔ∏è readNotification –≤–∏–∫–ª–∏–∫–∞–Ω–∞ –¥–ª—è:', notificationId);
            // Mark notification as read
            const notification = document.querySelector(`[data-notification-id="${notificationId}"]`);
            if (notification) {
                notification.style.opacity = '0.7';
                notification.style.background = '#f5f5f5';
            }
        }

        function showNotificationSettings() {
            console.log('üîî showNotificationSettings –≤–∏–∫–ª–∏–∫–∞–Ω–∞');
            showToast('üîî –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–ø–æ–≤—ñ—â–µ–Ω—å', 'info');
        }

        function showPrivacySettings() {
            console.log('üîí showPrivacySettings –≤–∏–∫–ª–∏–∫–∞–Ω–∞');
            showToast('üîí –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—ñ', 'info');
        }

        function skipRating() {
            console.log('‚è≠Ô∏è skipRating –≤–∏–∫–ª–∏–∫–∞–Ω–∞');
            showToast('‚è≠Ô∏è –û—Ü—ñ–Ω—é–≤–∞–Ω–Ω—è –ø—Ä–æ–ø—É—â–µ–Ω–æ', 'info');
            // Close any open rating modal
            const ratingModal = document.querySelector('.rating-modal.show');
            if (ratingModal) {
                ratingModal.classList.remove('show');
            }
        }

        // NEW FUNCTIONS FOR FIXES
        function searchMatches(query) {
            console.log('üîç searchMatches:', query);
            const matches = document.querySelectorAll('.match-item');
            matches.forEach(match => {
                const text = match.textContent.toLowerCase();
                const visible = text.includes(query.toLowerCase());
                match.style.display = visible ? 'block' : 'none';
            });
        }

        function applyMatchFilters() {
            console.log('üîß applyMatchFilters –≤–∏–∫–ª–∏–∫–∞–Ω–∞');
            const city = document.getElementById('cityFilterMatch')?.value || '';
            const format = document.getElementById('formatFilterMatch')?.value || '';
            const time = document.getElementById('timeFilterMatch')?.value || '';
            const price = document.getElementById('priceFilterMatch')?.value || '';
            
            showToast(`üîç –§—ñ–ª—å—Ç—Ä–∏: ${city} ${format} ${time} ${price}`, 'info');
        }

        function searchPlayers(query) {
            console.log('üîç searchPlayers:', query);
            const players = document.querySelectorAll('.player-item');
            players.forEach(player => {
                const text = player.textContent.toLowerCase();
                const visible = text.includes(query.toLowerCase());
                player.style.display = visible ? 'block' : 'none';
            });
        }

    </script>
</body>
</html>
