<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FLAP - Fill Like A Pro</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #f5f5f5; }
        .screen { display: none; min-height: 100vh; }
        .screen.active { display: block; }
        
        .splash { background: linear-gradient(135deg, #4f46e5, #7c3aed, #ec4899); display: flex; flex-direction: column; align-items: center; justify-content: center; color: white; text-align: center; min-height: 100vh; }
        .splash-logo { width: 120px; height: 120px; background: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 60px; margin-bottom: 30px; animation: bounce 2s infinite; }
        @keyframes bounce { 0%, 20%, 50%, 80%, 100% { transform: translateY(0); } 40% { transform: translateY(-10px); } }
        
        .welcome { background: linear-gradient(135deg, #667eea, #764ba2); display: flex; flex-direction: column; align-items: center; justify-content: center; color: white; text-align: center; padding: 40px 20px; min-height: 100vh; }
        .btn-primary { background: linear-gradient(45deg, #f97316, #ea580c); color: white; border: none; padding: 16px 32px; border-radius: 25px; font-size: 16px; font-weight: 600; cursor: pointer; }
        
        .auth { background: linear-gradient(135deg, #667eea, #764ba2); padding: 40px 20px; min-height: 100vh; display: flex; justify-content: center; align-items: center; }
        .auth-container { background: white; border-radius: 20px; padding: 40px 30px; max-width: 400px; width: 100%; }
        .auth-btn { width: 100%; padding: 16px; border: none; border-radius: 12px; font-size: 16px; font-weight: 600; margin-bottom: 15px; cursor: pointer; }
        .google-btn { background: #dc2626; color: white; }
        .facebook-btn { background: #1877f2; color: white; }
        .input-field { width: 100%; padding: 16px; border: 2px solid #e5e7eb; border-radius: 12px; font-size: 16px; margin-bottom: 15px; }
        
        .main-app { background: #f9fafb; min-height: 100vh; padding-bottom: 80px; }
        .header { background: linear-gradient(135deg, #4f46e5, #7c3aed, #ec4899); padding: 20px; color: white; }
        .profile-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px; }
        .avatar { width: 50px; height: 50px; background: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 20px; cursor: pointer; }
        .quick-actions { padding: 20px; display: grid; gap: 15px; }
        .action-btn { padding: 20px; border: none; border-radius: 16px; font-size: 16px; font-weight: 600; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 10px; }
        .video-btn { background: linear-gradient(45deg, #7c3aed, #ec4899); color: white; }
        .match-btn { background: linear-gradient(45deg, #10b981, #06b6d4); color: white; }
        .shop-btn { background: linear-gradient(45deg, #fbbf24, #f97316); color: white; }
        .rating-btn { background: linear-gradient(45deg, #3b82f6, #4f46e5); color: white; }
        
        .page-header { background: white; padding: 15px 20px; display: flex; align-items: center; justify-content: space-between; border-bottom: 1px solid #e5e7eb; }
        .back-btn { background: none; border: none; font-size: 16px; cursor: pointer; color: #3b82f6; }
        .videos-page, .matches-page, .rating-page { background: #f5f5f5; min-height: 100vh; padding-bottom: 80px; }
        
        .filters { padding: 15px 20px; background: white; border-bottom: 1px solid #e5e7eb; }
        .filter-btn { background: #f3f4f6; border: none; padding: 8px 16px; border-radius: 20px; font-size: 14px; margin-right: 10px; cursor: pointer; }
        .filter-btn.active { background: linear-gradient(45deg, #dc2626, #ec4899); color: white; }
        .challenge-card { background: #f9fafb; border-radius: 16px; padding: 20px; margin-bottom: 15px; border: 1px solid #e5e7eb; }
        .video-item { position: relative; height: 100vh; background: linear-gradient(45deg, #1f2937, #374151); display: flex; align-items: center; justify-content: center; }
        .play-btn { width: 80px; height: 80px; background: rgba(255,255,255,0.3); border: none; border-radius: 50%; color: white; font-size: 30px; cursor: pointer; }
        
        .match-card { background: white; border-radius: 16px; padding: 20px; margin: 15px 20px; border: 1px solid #e5e7eb; }
        
        .podium { padding: 30px 20px; background: white; margin-bottom: 10px; }
        .podium-container { display: flex; align-items: end; justify-content: center; gap: 20px; }
        .podium-avatar { width: 60px; height: 60px; background: #f3f4f6; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 24px; margin: 0 auto 10px; position: relative; }
        .podium-1 .podium-avatar { background: linear-gradient(45deg, #fbbf24, #f59e0b); width: 80px; height: 80px; }
        .podium-2 .podium-avatar { background: linear-gradient(45deg, #9ca3af, #6b7280); width: 70px; height: 70px; }
        .podium-3 .podium-avatar { background: linear-gradient(45deg, #cd7c2f, #92400e); width: 60px; height: 60px; }
        .rating-list { background: white; }
        .rating-item { display: flex; align-items: center; padding: 15px 20px; border-bottom: 1px solid #f3f4f6; }
        
        .bottom-nav { position: fixed; bottom: 0; left: 0; right: 0; background: white; border-top: 1px solid #e5e7eb; display: flex; padding: 10px 0; z-index: 1000; }
        .nav-item { flex: 1; text-align: center; padding: 10px; cursor: pointer; color: #6b7280; }
        .nav-item.active { color: #3b82f6; }
        
        .modal { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); z-index: 2000; align-items: center; justify-content: center; padding: 20px; }
        .modal.active { display: flex; }
        .modal-content { background: white; border-radius: 20px; padding: 30px; max-width: 500px; width: 100%; max-height: 80vh; overflow-y: auto; }
        .close-btn { background: none; border: none; font-size: 24px; cursor: pointer; color: #6b7280; }
        .shop-item { background: #f9fafb; border-radius: 12px; padding: 15px; margin-bottom: 15px; display: flex; justify-content: space-between; align-items: center; }
        .buy-btn { background: linear-gradient(45deg, #3b82f6, #7c3aed); color: white; border: none; padding: 8px 16px; border-radius: 8px; font-size: 14px; cursor: pointer; }
        .slider { width: 100%; height: 8px; border-radius: 4px; background: linear-gradient(to right, #dc2626 0%, #fbbf24 50%, #10b981 100%); outline: none; -webkit-appearance: none; }
        .slider-value { text-align: center; font-size: 24px; font-weight: 700; color: #1f2937; margin: 10px 0; }
    </style>
</head>
<body>
    <!-- Splash Screen -->
    <div class="screen active splash" id="splashScreen">
        <div class="splash-logo">‚öΩ</div>
        <h1 style="font-size: 48px; font-weight: 900; background: linear-gradient(45deg, #fbbf24, #f97316); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 20px;">FLAP</h1>
        <p style="font-size: 18px; opacity: 0.9;">Fill ‚Ä¢ Like ‚Ä¢ A Pro</p>
    </div>

    <!-- Welcome Screen -->
    <div class="screen welcome" id="welcomeScreen">
        <div style="width: 80px; height: 80px; background: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 40px; margin-bottom: 30px;">‚öΩ</div>
        <h1 style="font-size: 42px; font-weight: 900; background: linear-gradient(45deg, #fbbf24, #f97316); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 15px;">FLAP</h1>
        <p style="font-size: 16px; opacity: 0.9; margin-bottom: 40px;">–§—É—Ç–±–æ–ª—å–Ω–∞ —Å–æ—Ü—ñ–∞–ª—å–Ω–∞ –º–µ—Ä–µ–∂–∞ –¥–ª—è —Å–ø—Ä–∞–≤–∂–Ω—ñ—Ö –≥—Ä–∞–≤—Ü—ñ–≤</p>
        <button class="btn-primary" onclick="showAuth()">–°—Ç–∞—Ç–∏ –ø—Ä–æ—Ñ—ñ ‚ö°</button>
        <div style="display: flex; gap: 30px; margin-top: 20px;">
            <div style="text-align: center; opacity: 0.8;"><div style="font-size: 24px; margin-bottom: 8px;">üé•</div><div style="font-size: 12px;">–í—ñ–¥–µ–æ</div></div>
            <div style="text-align: center; opacity: 0.8;"><div style="font-size: 24px; margin-bottom: 8px;">üèÜ</div><div style="font-size: 12px;">–ß–µ–ª–µ–Ω–¥–∂—ñ</div></div>
            <div style="text-align: center; opacity: 0.8;"><div style="font-size: 24px; margin-bottom: 8px;">‚öΩ</div><div style="font-size: 12px;">–ú–∞—Ç—á—ñ</div></div>
        </div>
    </div>

    <!-- Auth Screen -->
    <div class="screen auth" id="authScreen">
        <div class="auth-container">
            <h2 style="text-align: center; font-size: 28px; font-weight: 700; margin-bottom: 30px; color: #1f2937;">–í—Ö—ñ–¥ –¥–æ FLAP</h2>
            <button class="auth-btn google-btn" onclick="loginDemo()">üî¥ –£–≤—ñ–π—Ç–∏ —á–µ—Ä–µ–∑ Google</button>
            <button class="auth-btn facebook-btn" onclick="loginDemo()">üìò –£–≤—ñ–π—Ç–∏ —á–µ—Ä–µ–∑ Facebook</button>
            <div style="text-align: center; margin: 20px 0; color: #6b7280;">–∞–±–æ</div>
            <input type="email" class="input-field" placeholder="Email">
            <input type="password" class="input-field" placeholder="–ü–∞—Ä–æ–ª—å">
            <button class="auth-btn" style="background: #1f2937; color: white;" onclick="loginDemo()">–£–≤—ñ–π—Ç–∏</button>
            <div style="text-align: center; margin-top: 20px; color: #6b7280;">
                –ù–µ–º–∞—î –∞–∫–∞—É–Ω—Ç—É? <button style="background: none; border: none; color: #3b82f6; font-weight: 600; cursor: pointer;" onclick="showProfileCreation()">–°—Ç–≤–æ—Ä–∏—Ç–∏ –∞–∫–∞—É–Ω—Ç ‚ú®</button>
            </div>
        </div>
    </div>

    <!-- Profile Creation Screen -->
    <div class="screen" id="profileCreationScreen" style="background: #f9fafb; min-height: 100vh; padding: 20px;">
        <div style="max-width: 500px; margin: 0 auto; background: white; border-radius: 20px; padding: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.1);">
            <h2 style="text-align: center; font-size: 24px; font-weight: 700; margin-bottom: 30px; color: #1f2937;">–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—Ä–æ—Ñ—ñ–ª—é</h2>
            
            <div style="text-align: center; margin-bottom: 30px;">
                <div style="width: 100px; height: 100px; border: 3px dashed #d1d5db; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 15px; cursor: pointer; transition: border-color 0.2s; font-size: 30px; color: #6b7280;" onclick="selectPhoto()" id="photoUpload">üì∑</div>
                <p style="color: #6b7280; font-size: 14px;">–î–æ–¥–∞—Ç–∏ —Ñ–æ—Ç–æ</p>
            </div>
            
            <input type="text" class="input-field" placeholder="–í–∞—à–µ —ñ–º'—è" id="profileNameInput">
            <input type="tel" class="input-field" placeholder="–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É" id="profilePhoneInput">
            
            <select class="input-field" style="background: white;" id="profilePositionSelect">
                <option value="">–û–±–µ—Ä—ñ—Ç—å –ø–æ–∑–∏—Ü—ñ—é</option>
                <option value="goalkeeper">ü•Ö –í–æ—Ä–æ—Ç–∞—Ä</option>
                <option value="defender">üõ°Ô∏è –ó–∞—Ö–∏—Å–Ω–∏–∫</option>
                <option value="midfielder">‚öΩ –ü—ñ–≤–∑–∞—Ö–∏—Å–Ω–∏–∫</option>
                <option value="forward">üéØ –ù–∞–ø–∞–¥–Ω–∏–∫</option>
            </select>
            
            <textarea class="input-field" placeholder="–†–æ–∑–∫–∞–∂—ñ—Ç—å –ø—Ä–æ —Å–µ–±–µ..." style="resize: vertical; min-height: 100px;" id="profileDescriptionInput"></textarea>
            
            <input type="text" class="input-field" placeholder="–í–∞—à–µ –º—ñ—Å—Ç–æ" id="profileCityInput">
            
            <button style="background: linear-gradient(45deg, #f97316, #ea580c); color: white; border: none; padding: 16px 32px; border-radius: 12px; font-size: 16px; font-weight: 600; cursor: pointer; width: 100%; margin-top: 20px;" onclick="createProfile()">–°—Ç–≤–æ—Ä–∏—Ç–∏ –ø—Ä–æ—Ñ—ñ–ª—å üöÄ</button>
        </div>
    </div>

    <!-- Main App -->
    <div class="screen main-app" id="mainApp">
        <div class="header">
            <div class="profile-header">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div class="avatar" onclick="showProfile('own')">üë§</div>
                    <div>
                        <h2 style="font-size: 18px; margin-bottom: 5px;" id="userName">–û–ª–µ–∫—Å—ñ–π</h2>
                        <div style="font-size: 14px; opacity: 0.9;">‚≠ê 4.2</div>
                                                       <div style="background: #fbbf24; color: #1f2937; padding: 4px 12px; border-radius: 12px; font-size: 12px; margin-top: 5px; display: inline-block;" id="subscriptionBadge">–ß–ï–ú–ü–Ü–û–ù–ò</div>
                    </div>
                </div>
                <div style="text-align: right;">
                    <div style="font-size: 24px; font-weight: 700;" id="coinBalance">247 ü™ô</div>
                    <div style="font-size: 12px; opacity: 0.8;">–º–æ–Ω–µ—Ç</div>
                </div>
            </div>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                <div style="background: rgba(255,255,255,0.2); padding: 15px; border-radius: 12px; text-align: center;">
                    <div style="font-size: 20px; font-weight: 700; margin-bottom: 5px;">23</div>
                    <div style="font-size: 12px; opacity: 0.8;">–Ü–≥–æ—Ä –∑—ñ–≥—Ä–∞–Ω–æ</div>
                </div>
                <div style="background: rgba(255,255,255,0.2); padding: 15px; border-radius: 12px; text-align: center;">
                    <div style="font-size: 20px; font-weight: 700; margin-bottom: 5px;">78%</div>
                    <div style="font-size: 12px; opacity: 0.8;">Win Rate</div>
                </div>
            </div>
        </div>

        <div class="quick-actions">
            <button class="action-btn video-btn" onclick="showVideos()"><span>üé•</span><span>–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –≤—ñ–¥–µ–æ</span></button>
            <button class="action-btn match-btn" onclick="showMatches()"><span>‚öΩ</span><span>–ü–æ—à—É–∫ –≥—Ä–∏</span></button>
                             <button class="action-btn shop-btn" onclick="showShop()"><span>üõçÔ∏è</span><span>–ú–∞–≥–∞–∑–∏–Ω</span></button>
                 <button class="action-btn rating-btn" onclick="showRating()"><span>üèÜ</span><span>–†–µ–π—Ç–∏–Ω–≥ –≥—Ä–∞–≤—Ü—ñ–≤</span></button>
                 <button class="action-btn" style="background: linear-gradient(45deg, #ec4899, #be185d); color: white;" onclick="showFriendsModal()"><span>üë•</span><span>–ú–æ—ó –¥—Ä—É–∑—ñ</span></button>
                 <button class="action-btn" style="background: linear-gradient(45deg, #8b5cf6, #7c3aed); color: white;" onclick="showSubscriptions()"><span>üëë</span><span>–ü—ñ–¥–ø–∏—Å–∫–∏</span></button>
        </div>
    </div>

    <!-- Videos Page -->
    <div class="screen videos-page" id="videosPage">
        <div class="page-header">
            <button class="back-btn" onclick="showMain()">‚Üê –ù–∞–∑–∞–¥</button>
            <div style="font-size: 18px; font-weight: 700;">üé• –í—ñ–¥–µ–æ</div>
                         <button style="background: linear-gradient(45deg, #dc2626, #ec4899); color: white; border: none; width: 32px; height: 32px; border-radius: 50%; font-size: 18px; cursor: pointer;" onclick="showCreateChallenge()">+</button>
        </div>

        <div class="filters">
            <button class="filter-btn active">üî• –í—Å—ñ</button>
            <button class="filter-btn">üèÜ –ß–µ–ª–µ–Ω–¥–∂—ñ</button>
            <button class="filter-btn">‚öΩ —Ñ—ñ–Ω—Ç–∏</button>
            <button class="filter-btn">‚öΩ –≥–æ–ª–∏</button>
            <button class="filter-btn">‚öΩ —Å–µ–π–≤–∏</button>
        </div>

        <div style="padding: 20px; background: white; margin-bottom: 10px;">
            <h2 style="font-size: 18px; font-weight: 700; margin-bottom: 15px;">üî• –ì–∞—Ä—è—á—ñ —á–µ–ª–µ–Ω–¥–∂—ñ</h2>
            
            <div class="challenge-card">
                <div style="display: flex; justify-content: space-between; margin-bottom: 15px;">
                    <div>
                        <div style="font-size: 16px; font-weight: 700; margin-bottom: 8px;">–ù–∞–π–∫—Ä–∞—â–∏–π —Ñ—ñ–Ω—Ç 2025</div>
                        <div style="font-size: 14px; color: #6b7280; margin-bottom: 8px;">–ü–æ–∫–∞–∂–∏ —Å–≤—ñ–π –Ω–∞–π–∫—Ä–∞—â–∏–π —Ñ—ñ–Ω—Ç! –ù–∞–≥—Ä–∞–¥–∏ —á–µ–∫–∞—é—Ç—å –Ω–∞ –ø–µ—Ä–µ–º–æ–∂—Ü—ñ–≤ üèÜ</div>
                        <div style="font-size: 12px; color: #6b7280;">–≤—ñ–¥ <span style="color: #3b82f6; cursor: pointer;" onclick="showProfile('–ú–∞–∫—Å–∏–º')">–ú–∞–∫—Å–∏–º –ü.</span> ‚≠ê 4.5</div>
                    </div>
                    <div>
                        <div style="font-size: 20px; font-weight: 700; color: #fbbf24;">500 ü™ô</div>
                        <div style="font-size: 12px; color: #6b7280;">23 —É—á–∞—Å–Ω–∏–∫–∏</div>
                    </div>
                </div>
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <span style="background: #f3f4f6; padding: 4px 8px; border-radius: 8px; font-size: 12px; color: #6b7280; margin-right: 10px;">‚è∞ 2 –¥–Ω—ñ</span>
                        <span style="background: #7c3aed; color: white; padding: 4px 8px; border-radius: 8px; font-size: 12px;">#—Ñ—ñ–Ω—Ç–∏</span>
                    </div>
                                               <button style="background: linear-gradient(45deg, #10b981, #059669); color: white; padding: 8px 16px; border: none; border-radius: 12px; font-size: 12px; cursor: pointer;" onclick="acceptChallenge()">üöÄ –ü—Ä–∏–π–Ω—è—Ç–∏ –≤–∏–∫–ª–∏–∫</button>
                </div>
            </div>

            <div class="challenge-card">
                <div style="display: flex; justify-content: space-between; margin-bottom: 15px;">
                    <div>
                        <div style="font-size: 16px; font-weight: 700; margin-bottom: 8px;">–ö–æ—Ä–æ–ª—å –≤–æ—Ä–æ—Ç–∞—Ä—ñ–≤</div>
                        <div style="font-size: 14px; color: #6b7280; margin-bottom: 8px;">–ù–∞–π–∫—Ä–∞—â—ñ —Å–µ–π–≤–∏ –≤—ñ–¥ –≤–æ—Ä–æ—Ç–∞—Ä—ñ–≤! –ü–æ–∫–∞–∂–∏ —Å–≤–æ—é —Ä–µ–∞–∫—Ü—ñ—é ü•Ö</div>
                        <div style="font-size: 12px; color: #6b7280;">–≤—ñ–¥ <span style="color: #3b82f6; cursor: pointer;" onclick="showProfile('–ê–Ω–¥—Ä—ñ–π')">–ê–Ω–¥—Ä—ñ–π –ö.</span> ‚≠ê 4.1</div>
                    </div>
                    <div>
                        <div style="font-size: 20px; font-weight: 700; color: #fbbf24;">300 ü™ô</div>
                        <div style="font-size: 12px; color: #6b7280;">15 —É—á–∞—Å–Ω–∏–∫—ñ–≤</div>
                    </div>
                </div>
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <span style="background: #f3f4f6; padding: 4px 8px; border-radius: 8px; font-size: 12px; color: #6b7280; margin-right: 10px;">‚è∞ 5 –¥–Ω—ñ–≤</span>
                        <span style="background: #7c3aed; color: white; padding: 4px 8px; border-radius: 8px; font-size: 12px;">#—Å–µ–π–≤–∏</span>
                    </div>
                    <button style="background: linear-gradient(45deg, #3b82f6, #7c3aed); color: white; padding: 8px 16px; border: none; border-radius: 12px; font-size: 12px; cursor: pointer;" onclick="openVoting()">üó≥Ô∏è –ì–æ–ª–æ—Å—É–≤–∞—Ç–∏</button>
                </div>
            </div>
        </div>

        <div style="background: #000;">
            <div class="video-item">
                <button class="play-btn" onclick="alert('–í—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤—ñ–¥–µ–æ...')">‚ñ∂Ô∏è</button>
                <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; padding: 20px; display: flex; flex-direction: column; justify-content: space-between;">
                    <div style="display: flex; justify-content: space-between;">
                        <div style="background: linear-gradient(45deg, #dc2626, #ec4899); color: white; padding: 6px 12px; border-radius: 12px; font-size: 12px; font-weight: 600;">üèÜ –ß–ï–õ–ï–ù–î–ñ</div>
                        <div style="background: rgba(0,0,0,0.5); color: white; padding: 6px 12px; border-radius: 12px; font-size: 12px;">#—Ñ—ñ–Ω—Ç–∏</div>
                    </div>
                    <div style="display: flex; justify-content: space-between; align-items: flex-end;">
                        <div>
                            <div style="font-size: 18px; font-weight: 700; color: white; margin-bottom: 8px;">–ù–µ–π–º–æ–≤—ñ—Ä–Ω–∏–π —Ñ—ñ–Ω—Ç –†–æ–Ω–∞–ª–¥—ñ–Ω—å–æ</div>
                            <div style="font-size: 14px; color: #3b82f6; cursor: pointer;" onclick="showProfile('–ú–∞–∫—Å–∏–º')">@–ú–∞–∫—Å–∏–º –ü. ‚≠ê 4.5</div>
                        </div>
                        <div style="display: flex; flex-direction: column; gap: 20px; align-items: center;">
                            <div>
                                <button style="width: 50px; height: 50px; background: rgba(255,255,255,0.3); border: none; border-radius: 50%; color: white; font-size: 20px; cursor: pointer;" onclick="likeVideo(this)">‚ù§Ô∏è</button>
                                <div style="font-size: 12px; color: white; margin-top: 5px; text-align: center;">142</div>
                            </div>
                            <div>
                                <button style="width: 50px; height: 50px; background: rgba(255,255,255,0.3); border: none; border-radius: 50%; color: white; font-size: 20px; cursor: pointer;" onclick="alert('–ö–æ–º–µ–Ω—Ç–∞—Ä—ñ...')">üí¨</button>
                                <div style="font-size: 12px; color: white; margin-top: 5px; text-align: center;">23</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Matches Page -->
    <div class="screen matches-page" id="matchesPage">
        <div style="background: linear-gradient(135deg, #10b981, #06b6d4, #3b82f6); padding: 15px 20px; display: flex; align-items: center; justify-content: space-between;">
            <button class="back-btn" style="color: white;" onclick="showMain()">‚Üê –ù–∞–∑–∞–¥</button>
            <div style="font-size: 18px; font-weight: 700; color: white;">‚öΩ –ü–æ—à—É–∫ –º–∞—Ç—á—ñ–≤</div>
                             <button style="background: rgba(255,255,255,0.3); color: white; border: none; width: 32px; height: 32px; border-radius: 50%; font-size: 18px; cursor: pointer;" onclick="showCreateMatch()">+</button>
        </div>

        <div style="padding: 15px 20px; background: white; border-bottom: 1px solid #e5e7eb;">
            <button class="filter-btn active">üìÖ –°—å–æ–≥–æ–¥–Ω—ñ</button>
            <button class="filter-btn">üóìÔ∏è –ó–∞–≤—Ç—Ä–∞</button>
            <button class="filter-btn">üìç –ü–æ—Ä—É—á</button>
        </div>

        <div class="match-card">
            <div style="font-size: 16px; font-weight: 700; margin-bottom: 8px;">–§—É—Ç–±–æ–ª –≤ —Ü–µ–Ω—Ç—Ä—ñ</div>
            <div style="font-size: 14px; color: #6b7280; margin-bottom: 15px;">–î—Ä—É–∂–Ω—è –≥—Ä–∞ 5—Ö5, –≤—Å—ñ —Ä—ñ–≤–Ω—ñ –≤—ñ—Ç–∞—é—Ç—å—Å—è</div>
            <div style="font-size: 12px; color: #6b7280; margin-bottom: 15px;">–û—Ä–≥–∞–Ω—ñ–∑–∞—Ç–æ—Ä: <span style="font-weight: 600;">–ú–∞–∫—Å–∏–º –ü.</span></div>
            
            <div style="margin: 15px 0;">
                <div style="display: flex; align-items: center; gap: 10px; margin: 8px 0; font-size: 14px;">
                    <span style="color: #10b981;">üìç</span><span>–°—Ç–∞–¥—ñ–æ–Ω –î–∏–Ω–∞–º–æ</span>
                </div>
                <div style="display: flex; align-items: center; gap: 10px; margin: 8px 0; font-size: 14px;">
                    <span style="color: #3b82f6;">üìÖ</span><span>2025-01-25 –æ 18:00</span>
                </div>
                <div style="display: flex; align-items: center; gap: 10px; margin: 8px 0; font-size: 14px;">
                    <span style="color: #7c3aed;">üë•</span><span>6/10 –≥—Ä–∞–≤—Ü—ñ–≤</span>
                </div>
            </div>

            <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 15px;">
                <div>
                    <span style="background: #dcfce7; color: #166534; padding: 4px 12px; border-radius: 20px; font-size: 12px; font-weight: 600;">üü¢ –í—ñ–¥–∫—Ä–∏—Ç–æ</span>
                    <div style="font-size: 12px; color: #6b7280; margin-top: 4px;">–ü–æ—Ç—Ä—ñ–±–Ω–æ: 4 –≥—Ä–∞–≤—Ü—ñ</div>
                </div>
                <button style="background: linear-gradient(45deg, #10b981, #06b6d4); color: white; padding: 8px 16px; border: none; border-radius: 12px; font-size: 14px; cursor: pointer;" onclick="alert('–ó–∞—è–≤–∫–∞ –ø–æ–¥–∞–Ω–∞!')">–ü–æ–¥–∞—Ç–∏ –∑–∞—è–≤–∫—É</button>
            </div>
        </div>
    </div>

    <!-- Rating Page -->
    <div class="screen rating-page" id="ratingPage">
        <div style="background: linear-gradient(135deg, #fbbf24, #f97316, #dc2626); padding: 15px 20px; display: flex; align-items: center; justify-content: space-between;">
            <button class="back-btn" style="color: white;" onclick="showMain()">‚Üê –ù–∞–∑–∞–¥</button>
            <div style="font-size: 18px; font-weight: 700; color: white;">üèÜ –†–µ–π—Ç–∏–Ω–≥ –≥—Ä–∞–≤—Ü—ñ–≤</div>
            <div></div>
        </div>

        <div style="padding: 15px 20px; background: white; border-bottom: 1px solid #e5e7eb;">
            <button class="filter-btn active">üåü –ó–∞–≥–∞–ª—å–Ω–∏–π</button>
            <button class="filter-btn">üèôÔ∏è –ú–æ—ó –º—ñ—Å—Ç–∞</button>
            <button class="filter-btn">üë• –î—Ä—É–∑—ñ</button>
        </div>

        <div class="podium">
            <h3 style="text-align: center; margin-bottom: 20px; font-size: 18px; font-weight: 700;">–¢–æ–ø-3 –≥—Ä–∞–≤—Ü—ñ</h3>
            <div class="podium-container">
                <div style="text-align: center; order: 1;" class="podium-2">
                    <div class="podium-avatar">üë§<div style="position: absolute; top: -5px; right: -5px; background: white; border-radius: 50%; width: 24px; height: 24px; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: 700;">2</div></div>
                    <div style="font-weight: 700; margin-bottom: 4px;">–ê–Ω–¥—Ä—ñ–π</div>
                    <div style="font-size: 14px; color: #6b7280;">‚≠ê 4.7</div>
                </div>
                <div style="text-align: center; order: 2;" class="podium-1">
                    <div class="podium-avatar">üë§<div style="position: absolute; top: -5px; right: -5px; background: white; border-radius: 50%; width: 24px; height: 24px; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: 700;">1</div></div>
                    <div style="font-weight: 700; margin-bottom: 4px;">–ú–∞–∫—Å–∏–º</div>
                    <div style="font-size: 14px; color: #6b7280;">‚≠ê 4.9</div>
                </div>
                <div style="text-align: center; order: 3;" class="podium-3">
                    <div class="podium-avatar">üë§<div style="position: absolute; top: -5px; right: -5px; background: white; border-radius: 50%; width: 24px; height: 24px; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: 700;">3</div></div>
                    <div style="font-weight: 700; margin-bottom: 4px;">–û–ª–µ–≥</div>
                    <div style="font-size: 14px; color: #6b7280;">‚≠ê 4.5</div>
                </div>
            </div>
        </div>

        <div class="rating-list">
            <div class="rating-item" style="background: linear-gradient(45deg, rgba(59, 130, 246, 0.1), rgba(79, 70, 229, 0.1));">
                <div style="width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700; margin-right: 15px; background: #3b82f6; color: white;">4</div>
                <div style="width: 40px; height: 40px; background: #f3f4f6; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 16px; margin-right: 15px;">üë§</div>
                <div style="flex: 1;">
                    <div style="font-size: 16px; font-weight: 700; margin-bottom: 4px;">–û–ª–µ–∫—Å—ñ–π (–í–∏)</div>
                    <div style="font-size: 12px; color: #6b7280;">–ü—ñ–≤–∑–∞—Ö–∏—Å–Ω–∏–∫ ‚Ä¢ –ö–∏—ó–≤ ‚Ä¢ 23 —ñ–≥—Ä–∏</div>
                </div>
                <div style="text-align: right;">
                    <div style="font-size: 18px; font-weight: 700;">‚≠ê 4.2</div>
                    <div style="font-size: 12px; color: #6b7280;">78%</div>
                </div>
            </div>

            <div class="rating-item">
                <div style="width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700; margin-right: 15px; background: #6b7280; color: white;">5</div>
                <div style="width: 40px; height: 40px; background: #f3f4f6; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 16px; margin-right: 15px;">üë§</div>
                <div style="flex: 1;">
                    <div style="font-size: 16px; font-weight: 700; margin-bottom: 4px;">–î–º–∏—Ç—Ä–æ</div>
                    <div style="font-size: 12px; color: #6b7280;">–ù–∞–ø–∞–¥–Ω–∏–∫ ‚Ä¢ –ö–∏—ó–≤ ‚Ä¢ 18 —ñ–≥–æ—Ä</div>
                </div>
                <div style="text-align: right;">
                    <div style="font-size: 18px; font-weight: 700;">‚≠ê 4.1</div>
                    <div style="font-size: 12px; color: #6b7280;">72%</div>
                </div>
                <button style="background: #3b82f6; color: white; border: none; padding: 4px 8px; border-radius: 6px; font-size: 12px; cursor: pointer; margin-left: 10px;" onclick="addFriend(this, '–î–º–∏—Ç—Ä–æ')">‚ûï</button>
            </div>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <div class="bottom-nav" id="bottomNav" style="display: none;">
        <div class="nav-item active" onclick="updateNav(0); showMain();">
            <div style="font-size: 20px; margin-bottom: 5px;">üè†</div>
            <div style="font-size: 12px;">–ì–æ–ª–æ–≤–Ω–∞</div>
        </div>
        <div class="nav-item" onclick="updateNav(1); showVideos();">
            <div style="font-size: 20px; margin-bottom: 5px;">üé•</div>
            <div style="font-size: 12px;">–í—ñ–¥–µ–æ</div>
        </div>
        <div class="nav-item" onclick="updateNav(2); showMatches();">
            <div style="font-size: 20px; margin-bottom: 5px;">‚öΩ</div>
            <div style="font-size: 12px;">–ú–∞—Ç—á—ñ</div>
        </div>
        <div class="nav-item" onclick="updateNav(3); showRating();">
            <div style="font-size: 20px; margin-bottom: 5px;">üë•</div>
            <div style="font-size: 12px;">–†–µ–π—Ç–∏–Ω–≥</div>
        </div>
    </div>

    <!-- Shop Modal -->
    <div class="modal" id="shopModal">
                 <div class="modal-content">
             <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px;">
                 <div style="font-size: 20px; font-weight: 700; flex: 1; text-align: center;">üõçÔ∏è –ú–∞–≥–∞–∑–∏–Ω</div>
                 <button class="close-btn" onclick="closeModal('shopModal')">‚úï</button>
             </div>
             
             <div style="background: linear-gradient(45deg, #fbbf24, #f97316); color: white; padding: 15px; border-radius: 12px; margin-bottom: 20px; text-align: center;">
                 <div style="font-size: 18px; font-weight: 700;">–í–∞—à –±–∞–ª–∞–Ω—Å: <span id="modalBalance">247 ü™ô</span></div>
             </div>
             
             <h3 style="margin-bottom: 15px;">üí∞ –ö—É–ø–∏—Ç–∏ FlapCoins</h3>
             <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 20px;">
                 <button class="buy-btn" onclick="buyCoins(50, 50)">50 FC - 50‚Ç¥</button>
                 <button class="buy-btn" onclick="buyCoins(100, 100)">100 FC - 100‚Ç¥</button>
                 <button class="buy-btn" onclick="buyCoins(500, 450)">500 FC - 450‚Ç¥</button>
                 <button class="buy-btn" onclick="buyCoins(1000, 850)">1000 FC - 850‚Ç¥</button>
             </div>
             
             <h3 style="margin-bottom: 15px;">üéñÔ∏è –ë–µ–π–¥–∂—ñ</h3>
             
             <div class="shop-item">
                 <div>
                     <h3 style="font-size: 16px; font-weight: 700; margin-bottom: 5px;">üé≠ –ö–æ—Ä–æ–ª—å —Ñ—ñ–Ω—Ç—ñ–≤</h3>
                     <div style="font-size: 14px; color: #6b7280;">–ü–æ–∫–∞–∑—É—î –º–∞–π—Å—Ç–µ—Ä–Ω—ñ—Å—Ç—å —É —Ñ—ñ–Ω—Ç–∞—Ö</div>
                 </div>
                 <div>
                     <div style="font-size: 18px; font-weight: 700; color: #fbbf24; margin-bottom: 5px;">100 ü™ô</div>
                     <button class="buy-btn" onclick="buyItem('üé≠ –ö–æ—Ä–æ–ª—å —Ñ—ñ–Ω—Ç—ñ–≤', 100)">–ö—É–ø–∏—Ç–∏</button>
                 </div>
             </div>

             <div class="shop-item">
                 <div>
                     <h3 style="font-size: 16px; font-weight: 700; margin-bottom: 5px;">üéØ –°–Ω–∞–π–ø–µ—Ä</h3>
                     <div style="font-size: 14px; color: #6b7280;">–ó–∞ —Ç–æ—á–Ω—ñ —É–¥–∞—Ä–∏ –∑ –¥–∏—Å—Ç–∞–Ω—Ü—ñ—ó</div>
                 </div>
                 <div>
                     <div style="font-size: 18px; font-weight: 700; color: #fbbf24; margin-bottom: 5px;">150 ü™ô</div>
                     <button class="buy-btn" onclick="buyItem('üéØ –°–Ω–∞–π–ø–µ—Ä', 150)">–ö—É–ø–∏—Ç–∏</button>
                 </div>
             </div>

             <div class="shop-item">
                 <div>
                     <h3 style="font-size: 16px; font-weight: 700; margin-bottom: 5px;">üëë –ö–∞–ø—ñ—Ç–∞–Ω –∫–æ–º–∞–Ω–¥–∏</h3>
                     <div style="font-size: 14px; color: #6b7280;">–õ—ñ–¥–µ—Ä—Å—å–∫—ñ —è–∫–æ—Å—Ç—ñ –Ω–∞ –ø–æ–ª—ñ</div>
                 </div>
                 <div>
                     <div style="font-size: 18px; font-weight: 700; color: #fbbf24; margin-bottom: 5px;">200 ü™ô</div>
                     <button class="buy-btn" onclick="buyItem('üëë –ö–∞–ø—ñ—Ç–∞–Ω –∫–æ–º–∞–Ω–¥–∏', 200)">–ö—É–ø–∏—Ç–∏</button>
                 </div>
             </div>

             <div class="shop-item" style="opacity: 0.5;">
                 <div>
                     <h3 style="font-size: 16px; font-weight: 700; margin-bottom: 5px;">‚≠ê –í—ñ–¥–≥—É–∫ –≤—ñ–¥ –ê–Ω–¥—Ä—ñ—è –Ø—Ä–º–æ–ª–µ–Ω–∫–∞</h3>
                     <div style="font-size: 14px; color: #6b7280;">Coming Soon - –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∏–π –≤—ñ–¥–≥—É–∫</div>
                 </div>
                 <div>
                     <div style="font-size: 18px; font-weight: 700; color: #fbbf24; margin-bottom: 5px;">500 ü™ô</div>
                     <button class="buy-btn" disabled style="background: #9ca3af;">Coming Soon</button>
                 </div>
             </div>
         </div>
    </div>

    <!-- Voting Modal -->
    <div class="modal" id="votingModal">
        <div class="modal-content">
            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px;">
                <div style="font-size: 20px; font-weight: 700; flex: 1; text-align: center;">üèÜ –ß–µ–ª–µ–Ω–¥–∂: –ì–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è</div>
                <button class="close-btn" onclick="closeModal('votingModal')">‚úï</button>
            </div>
            
            <div style="background: #f9fafb; border-radius: 12px; padding: 15px; margin-bottom: 15px;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                    <div style="font-weight: 700;">–í—ñ–¥–µ–æ #1</div>
                    <div style="color: #fbbf24; font-weight: 700;">4.23 ‚≠ê (15 –≥–æ–ª–æ—Å—ñ–≤)</div>
                </div>
                <div style="margin-bottom: 10px;">–≤—ñ–¥ <span style="color: #3b82f6; cursor: pointer;" onclick="showProfile('–Ü–≤–∞–Ω')">–Ü–≤–∞–Ω –°.</span> ‚≠ê 4.0</div>
                
                <div style="width: 100%; height: 120px; background: #d1d5db; border-radius: 8px; display: flex; align-items: center; justify-content: center; margin: 10px 0; cursor: pointer; font-size: 30px; color: #6b7280;" onclick="alert('–ü–µ—Ä–µ–≥–ª—è–¥ –≤—ñ–¥–µ–æ...')">‚ñ∂Ô∏è</div>
                
                <div class="slider-value" id="sliderValue1">3.47</div>
                <input type="range" min="0" max="5" step="0.01" value="3.47" class="slider" oninput="updateSliderValue(1, this.value)">
                
                <button style="background: linear-gradient(45deg, #3b82f6, #7c3aed); color: white; border: none; padding: 12px 24px; border-radius: 12px; font-size: 14px; cursor: pointer; width: 100%; margin-top: 15px;" onclick="submitVote(1)">–ü—Ä–æ–≥–æ–ª–æ—Å—É–≤–∞—Ç–∏ –∑–∞ <span id="voteValue1">3.47</span> ‚≠ê</button>
            </div>
        </div>
    </div>

    <!-- Profile Modal -->
    <div class="modal" id="profileModal">
        <div class="modal-content">
            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px;">
                <div style="font-size: 20px; font-weight: 700; flex: 1; text-align: center;" id="profileName">–ü—Ä–æ—Ñ—ñ–ª—å –≥—Ä–∞–≤—Ü—è</div>
                <button class="close-btn" onclick="closeModal('profileModal')">‚úï</button>
            </div>
            
            <div style="text-align: center; margin-bottom: 20px;">
                <div style="width: 80px; height: 80px; background: #f3f4f6; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 32px; margin: 0 auto 15px;">üë§</div>
                <h3 style="font-size: 24px; font-weight: 700; margin-bottom: 8px;" id="profilePlayerName">–ú–∞–∫—Å–∏–º –ü.</h3>
                <div style="font-size: 16px; color: #6b7280; margin-bottom: 8px;">‚≠ê 4.5 ‚Ä¢ –ü—ñ–≤–∑–∞—Ö–∏—Å–Ω–∏–∫</div>
                <div style="font-size: 14px; color: #6b7280;">üìç –ö–∏—ó–≤ ‚Ä¢ 2 —Ö–≤ —Ç–æ–º—É</div>
            </div>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px; margin: 20px 0;">
                <div style="background: #f9fafb; padding: 15px; border-radius: 12px; text-align: center;">
                    <div style="font-size: 20px; font-weight: 700; color: #1f2937;">28</div>
                    <div style="font-size: 12px; color: #6b7280;">–Ü–≥–æ—Ä –∑—ñ–≥—Ä–∞–Ω–æ</div>
                </div>
                <div style="background: #f9fafb; padding: 15px; border-radius: 12px; text-align: center;">
                    <div style="font-size: 20px; font-weight: 700; color: #10b981;">82%</div>
                    <div style="font-size: 12px; color: #6b7280;">Win Rate</div>
                </div>
                <div style="background: #f9fafb; padding: 15px; border-radius: 12px; text-align: center;">
                    <div style="font-size: 20px; font-weight: 700; color: #3b82f6;">4.5</div>
                    <div style="font-size: 12px; color: #6b7280;">–†–µ–π—Ç–∏–Ω–≥</div>
                </div>
            </div>
            
            <button style="background: linear-gradient(45deg, #3b82f6, #7c3aed); color: white; border: none; padding: 12px 24px; border-radius: 12px; font-size: 14px; cursor: pointer; width: 100%;" id="friendActionBtn" onclick="toggleFriend()">‚ûï –î–æ–¥–∞—Ç–∏ –≤ –¥—Ä—É–∑—ñ</button>
                 </div>
     </div>

     <!-- Create Challenge Modal - Step 1 -->
     <div class="modal" id="createChallengeStep1">
         <div class="modal-content">
             <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px;">
                 <div style="font-size: 20px; font-weight: 700; flex: 1; text-align: center;">üèÜ –°—Ç–≤–æ—Ä–∏—Ç–∏ —á–µ–ª–µ–Ω–¥–∂</div>
                 <button class="close-btn" onclick="closeModal('createChallengeStep1')">‚úï</button>
             </div>
             
             <input type="text" class="input-field" placeholder="–ù–∞–∑–≤–∞ —á–µ–ª–µ–Ω–¥–∂—É" id="challengeNameInput">
             <textarea class="input-field" placeholder="–û–ø–∏—Å —á–µ–ª–µ–Ω–¥–∂—É..." style="resize: vertical; min-height: 80px;" id="challengeDescriptionInput"></textarea>
             
             <select class="input-field" style="background: white;" id="challengeCategorySelect">
                 <option value="">üé≠ –û–±–µ—Ä—ñ—Ç—å –∫–∞—Ç–µ–≥–æ—Ä—ñ—é</option>
                 <option value="tricks">ü§π –§—ñ–Ω—Ç–∏</option>
                 <option value="goals">‚öΩ –ì–æ–ª–∏</option>
                 <option value="saves">ü•Ö –°–µ–π–≤–∏</option>
                 <option value="technique">ü¶∂ –¢–µ—Ö–Ω—ñ–∫–∞</option>
             </select>
             
             <input type="number" class="input-field" placeholder="–ü—Ä–∏–∑–æ–≤–∏–π —Ñ–æ–Ω–¥ (–º–æ–Ω–µ—Ç–∏)" id="challengePrizeInput">
             
             <select class="input-field" style="background: white;" id="challengeTermSelect">
                 <option value="">‚è∞ –¢–µ—Ä–º—ñ–Ω</option>
                 <option value="1">1 –¥–µ–Ω—å</option>
                 <option value="3">3 –¥–Ω—ñ</option>
                 <option value="7">7 –¥–Ω—ñ–≤</option>
                 <option value="14">14 –¥–Ω—ñ–≤</option>
             </select>
             
             <button style="background: linear-gradient(45deg, #3b82f6, #7c3aed); color: white; border: none; padding: 12px 24px; border-radius: 12px; font-size: 14px; cursor: pointer; width: 100%; margin-top: 15px;" onclick="goToChallengeStep2()">–î–∞–ª—ñ: –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≤—ñ–¥–µ–æ üìπ</button>
         </div>
     </div>

     <!-- Create Challenge Modal - Step 2 -->
     <div class="modal" id="createChallengeStep2">
         <div class="modal-content">
             <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px;">
                 <button style="background: none; border: none; font-size: 16px; cursor: pointer; color: #3b82f6;" onclick="backToChallengeStep1()">‚Üê –ù–∞–∑–∞–¥</button>
                 <div style="font-size: 20px; font-weight: 700; flex: 1; text-align: center;">üìπ –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≤—ñ–¥–µ–æ</div>
                 <button class="close-btn" onclick="closeModal('createChallengeStep2')">‚úï</button>
             </div>
             
             <div style="border: 3px dashed #d1d5db; border-radius: 12px; padding: 40px; text-align: center; margin-bottom: 20px; cursor: pointer; transition: border-color 0.2s;" onclick="selectVideo()" id="videoUploadZone">
                 <div style="font-size: 48px; margin-bottom: 15px;">üì§</div>
                 <div style="font-size: 18px; font-weight: 600; margin-bottom: 8px;">–ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –≤–∞—à–µ –≤—ñ–¥–µ–æ</div>
                 <div style="font-size: 14px; color: #6b7280;">MP4, MOV –¥–æ 100MB</div>
             </div>
             
             <button style="background: linear-gradient(45deg, #10b981, #06b6d4); color: white; border: none; padding: 12px 24px; border-radius: 12px; font-size: 14px; cursor: pointer; width: 100%;" onclick="goToChallengeStep3()">–î–∞–ª—ñ: –ó–∞–ø—Ä–æ—Å–∏—Ç–∏ –¥—Ä—É–∑—ñ–≤ üë•</button>
         </div>
     </div>

     <!-- Create Challenge Modal - Step 3 -->
     <div class="modal" id="createChallengeStep3">
         <div class="modal-content">
             <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px;">
                 <button style="background: none; border: none; font-size: 16px; cursor: pointer; color: #3b82f6;" onclick="backToChallengeStep2()">‚Üê –ù–∞–∑–∞–¥</button>
                 <div style="font-size: 20px; font-weight: 700; flex: 1; text-align: center;">üë• –ó–∞–ø—Ä–æ—Å–∏—Ç–∏ —É—á–∞—Å–Ω–∏–∫—ñ–≤</div>
                 <button class="close-btn" onclick="closeModal('createChallengeStep3')">‚úï</button>
             </div>
             
             <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px;">
                 <button style="background: #f3f4f6; border: none; padding: 15px; border-radius: 12px; cursor: pointer; transition: background-color 0.2s;" onclick="selectInviteOption('friends')" id="inviteFriends">
                     <div style="font-size: 24px; margin-bottom: 8px;">üë•</div>
                     <div style="font-size: 14px; font-weight: 600;">–ú–æ—ó –¥—Ä—É–∑—ñ</div>
                 </button>
                 <button style="background: #f3f4f6; border: none; padding: 15px; border-radius: 12px; cursor: pointer; transition: background-color 0.2s;" onclick="selectInviteOption('cities')" id="inviteCities">
                     <div style="font-size: 24px; margin-bottom: 8px;">üèôÔ∏è</div>
                     <div style="font-size: 14px; font-weight: 600;">–ü–æ –º—ñ—Å—Ç–∞—Ö</div>
                 </button>
                 <button style="background: #f3f4f6; border: none; padding: 15px; border-radius: 12px; cursor: pointer; transition: background-color 0.2s;" onclick="selectInviteOption('positions')" id="invitePositions">
                     <div style="font-size: 24px; margin-bottom: 8px;">‚öΩ</div>
                     <div style="font-size: 14px; font-weight: 600;">–ü–æ –ø–æ–∑–∏—Ü—ñ—è—Ö</div>
                 </button>
                 <button style="background: #f3f4f6; border: none; padding: 15px; border-radius: 12px; cursor: pointer; transition: background-color 0.2s;" onclick="selectInviteOption('everyone')" id="inviteEveryone">
                     <div style="font-size: 24px; margin-bottom: 8px;">üåç</div>
                     <div style="font-size: 14px; font-weight: 600;">–í—Å—ñ–º</div>
                 </button>
             </div>
             
             <div style="background: #f9fafb; padding: 15px; border-radius: 12px; margin-bottom: 20px;">
                 <div style="font-weight: 600; margin-bottom: 10px;">–û–±—Ä–∞–Ω—ñ —É—á–∞—Å–Ω–∏–∫–∏:</div>
                 <div id="selectedParticipants" style="font-size: 14px; color: #6b7280;">–û–±–µ—Ä—ñ—Ç—å –≤–∞—Ä—ñ–∞–Ω—Ç –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—è</div>
             </div>
             
             <button style="background: linear-gradient(45deg, #dc2626, #ec4899); color: white; border: none; padding: 12px 24px; border-radius: 12px; font-size: 14px; cursor: pointer; width: 100%;" onclick="createChallengeComplete()">üöÄ –°—Ç–≤–æ—Ä–∏—Ç–∏ —á–µ–ª–µ–Ω–¥–∂</button>
         </div>
     </div>

     <!-- Friends Modal -->
     <div class="modal" id="friendsModal">
         <div class="modal-content">
             <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px;">
                 <div style="font-size: 20px; font-weight: 700; flex: 1; text-align: center;">üë• –ú–æ—ó –¥—Ä—É–∑—ñ</div>
                 <button class="close-btn" onclick="closeModal('friendsModal')">‚úï</button>
             </div>
             
             <div id="friendsList">
                 <div style="text-align: center; padding: 40px;">
                     <div style="font-size: 48px; opacity: 0.3; margin-bottom: 15px;">üë•</div>
                     <div style="font-size: 18px; font-weight: 600; margin-bottom: 8px;">–£ –≤–∞—Å –ø–æ–∫–∏ –Ω–µ–º–∞—î –¥—Ä—É–∑—ñ–≤</div>
                     <div style="font-size: 14px; color: #6b7280;">–î–æ–¥–∞–π—Ç–µ –¥—Ä—É–∑—ñ–≤ —á–µ—Ä–µ–∑ —Ä–µ–π—Ç–∏–Ω–≥ –≥—Ä–∞–≤—Ü—ñ–≤</div>
                 </div>
             </div>
         </div>
     </div>

     <!-- Video Upload Modal -->
     <div class="modal" id="videoUploadModal">
         <div class="modal-content">
             <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px;">
                 <div style="font-size: 20px; font-weight: 700; flex: 1; text-align: center;">üìπ –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≤—ñ–¥–µ–æ</div>
                 <button class="close-btn" onclick="closeModal('videoUploadModal')">‚úï</button>
             </div>
             
             <div style="border: 3px dashed #d1d5db; border-radius: 12px; padding: 40px; text-align: center; margin-bottom: 20px; cursor: pointer;" onclick="selectChallengeVideo()">
                 <div style="font-size: 48px; margin-bottom: 15px;">üì∑</div>
                 <div style="font-size: 18px; font-weight: 600; margin-bottom: 8px;">–ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –≤–∞—à–µ –≤—ñ–¥–µ–æ –¥–ª—è —á–µ–ª–µ–Ω–¥–∂—É</div>
                 <div style="font-size: 14px; color: #6b7280;">MP4, MOV –¥–æ 100MB</div>
             </div>
             
             <button style="background: linear-gradient(45deg, #10b981, #06b6d4); color: white; border: none; padding: 12px 24px; border-radius: 12px; font-size: 14px; cursor: pointer; width: 100%;" onclick="uploadChallengeVideo()">üöÄ –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≤—ñ–¥–µ–æ</button>
         </div>
     </div>

     <!-- Create Match Modal -->
     <div class="modal" id="createMatchModal">
         <div class="modal-content">
             <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px;">
                 <div style="font-size: 20px; font-weight: 700; flex: 1; text-align: center;">‚öΩ –°—Ç–≤–æ—Ä–∏—Ç–∏ –º–∞—Ç—á</div>
                 <button class="close-btn" onclick="closeModal('createMatchModal')">‚úï</button>
             </div>
             
             <input type="text" class="input-field" placeholder="–ù–∞–∑–≤–∞ –º–∞—Ç—á—É" id="matchNameInput">
             <textarea class="input-field" placeholder="–û–ø–∏—Å –º–∞—Ç—á—É..." style="resize: vertical; min-height: 60px;" id="matchDescriptionInput"></textarea>
             
             <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                 <select class="input-field" style="background: white;" id="matchTypeSelect">
                     <option value="">‚öΩ –¢–∏–ø –≥—Ä–∏</option>
                     <option value="5v5">5 –Ω–∞ 5</option>
                     <option value="7v7">7 –Ω–∞ 7</option>
                     <option value="11v11">11 –Ω–∞ 11</option>
                 </select>
                 <select class="input-field" style="background: white;" id="matchLevelSelect">
                     <option value="">üìà –†—ñ–≤–µ–Ω—å</option>
                     <option value="beginner">–ü–æ—á–∞—Ç–∫—ñ–≤—Ü—ñ</option>
                     <option value="amateur">–ê–º–∞—Ç–æ—Ä–∏</option>
                     <option value="advanced">–ü—Ä–æ—Å—É–Ω—É—Ç—ñ</option>
                 </select>
             </div>
             
             <input type="text" class="input-field" placeholder="üìç –õ–æ–∫–∞—Ü—ñ—è (—Å—Ç–∞–¥—ñ–æ–Ω/–∞–¥—Ä–µ—Å–∞)" id="matchLocationInput">
             
             <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                 <input type="date" class="input-field" id="matchDateInput">
                 <input type="time" class="input-field" id="matchTimeInput">
             </div>
             
             <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                 <input type="number" class="input-field" placeholder="–ú–∞–∫—Å. –≥—Ä–∞–≤—Ü—ñ–≤" id="matchMaxPlayersInput">
                 <input type="number" class="input-field" placeholder="–¶—ñ–Ω–∞ —É—á–∞—Å—Ç—ñ (‚Ç¥)" id="matchPriceInput">
             </div>
             
             <div style="background: #f9fafb; padding: 15px; border-radius: 12px; margin-bottom: 15px;">
                 <div style="font-weight: 600; margin-bottom: 10px;">üéØ –î–æ–¥–∞—Ç–∫–æ–≤—ñ –æ–ø—Ü—ñ—ó:</div>
                 <label style="display: flex; align-items: center; margin-bottom: 8px; font-size: 14px;">
                     <input type="checkbox" style="margin-right: 10px;" id="matchPhotoCheck"> üì∏ –§–æ—Ç–æ–≥—Ä–∞—Ñ
                 </label>
                 <label style="display: flex; align-items: center; margin-bottom: 8px; font-size: 14px;">
                     <input type="checkbox" style="margin-right: 10px;" id="matchVideoCheck"> üé• –í—ñ–¥–µ–æ–∑–π–æ–º–∫–∞
                 </label>
                 <label style="display: flex; align-items: center; font-size: 14px;">
                     <input type="checkbox" style="margin-right: 10px;" id="matchRatingCheck"> ‚≠ê –†–µ–π—Ç–∏–Ω–≥ –≥—Ä–∞–≤—Ü—ñ–≤
                 </label>
             </div>
             
             <button style="background: linear-gradient(45deg, #10b981, #06b6d4); color: white; border: none; padding: 12px 24px; border-radius: 12px; font-size: 14px; cursor: pointer; width: 100%;" onclick="createMatchComplete()">üöÄ –°—Ç–≤–æ—Ä–∏—Ç–∏ –º–∞—Ç—á</button>
         </div>
     </div>

     <!-- Subscriptions Modal -->
     <div class="modal" id="subscriptionsModal">
         <div class="modal-content">
             <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px;">
                 <div style="font-size: 20px; font-weight: 700; flex: 1; text-align: center;">üëë –ü—ñ–¥–ø–∏—Å–∫–∏ FLAP</div>
                 <button class="close-btn" onclick="closeModal('subscriptionsModal')">‚úï</button>
             </div>
             
             <div style="background: linear-gradient(45deg, #fbbf24, #f97316); color: white; padding: 15px; border-radius: 12px; margin-bottom: 20px; text-align: center;">
                 <div style="font-size: 16px; font-weight: 700;">–ü–æ—Ç–æ—á–Ω–∞ –ø—ñ–¥–ø–∏—Å–∫–∞: <span id="currentSubscription">–ß–ï–ú–ü–Ü–û–ù–ò</span></div>
                 <div style="font-size: 12px; opacity: 0.9;" id="subscriptionExpiry">–î—ñ—î –¥–æ: 08.02.2025</div>
             </div>
             
             <!-- Free Plan -->
             <div style="border: 2px solid #e5e7eb; border-radius: 16px; padding: 20px; margin-bottom: 15px;">
                 <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                     <h3 style="font-size: 18px; font-weight: 700;">‚öΩ –°–¢–ê–†–¢</h3>
                     <div style="font-size: 24px; font-weight: 900; color: #10b981;">–ë–ï–ó–ö–û–®–¢–û–í–ù–û</div>
                 </div>
                 <div style="font-size: 14px; color: #6b7280; margin-bottom: 15px;">
                     ‚úÖ –ü–µ—Ä–µ–≥–ª—è–¥ –≤—ñ–¥–µ–æ<br>
                     ‚úÖ –£—á–∞—Å—Ç—å —É –º–∞—Ç—á–∞—Ö<br>
                     ‚úÖ –ë–∞–∑–æ–≤–∏–π —Ä–µ–π—Ç–∏–Ω–≥<br>
                     ‚ùå –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —á–µ–ª–µ–Ω–¥–∂—ñ–≤<br>
                     ‚ùå –ü—Ä–æ—Å—É–Ω—É—Ç–∞ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞
                 </div>
                 <button style="background: #9ca3af; color: white; border: none; padding: 8px 16px; border-radius: 8px; font-size: 12px; cursor: not-allowed;" disabled>–ü–æ—Ç–æ—á–Ω–∏–π –ø–ª–∞–Ω</button>
             </div>
             
             <!-- Premium Plan -->
             <div style="border: 2px solid #3b82f6; border-radius: 16px; padding: 20px; margin-bottom: 15px; position: relative;">
                 <div style="position: absolute; top: -10px; left: 20px; background: #3b82f6; color: white; padding: 4px 12px; border-radius: 12px; font-size: 10px; font-weight: 700;">–ü–û–ü–£–õ–Ø–†–ù–ò–ô</div>
                 <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                     <h3 style="font-size: 18px; font-weight: 700; color: #3b82f6;">üèÜ –ß–ï–ú–ü–Ü–û–ù–ò</h3>
                     <div>
                         <div style="font-size: 24px; font-weight: 900; color: #3b82f6;">199‚Ç¥</div>
                         <div style="font-size: 12px; color: #6b7280;">/–º—ñ—Å—è—Ü—å</div>
                     </div>
                 </div>
                 <div style="font-size: 14px; color: #6b7280; margin-bottom: 15px;">
                     ‚úÖ –í—Å–µ –∑ –°–¢–ê–†–¢<br>
                     ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —á–µ–ª–µ–Ω–¥–∂—ñ–≤<br>
                     ‚úÖ –ü—Ä–æ—Å—É–Ω—É—Ç–∞ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞<br>
                     ‚úÖ –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç —É –º–∞—Ç—á–∞—Ö<br>
                     ‚úÖ –ë–µ–∑–ª—ñ–º—ñ—Ç–Ω—ñ FlapCoins
                 </div>
                 <button style="background: linear-gradient(45deg, #3b82f6, #7c3aed); color: white; border: none; padding: 8px 16px; border-radius: 8px; font-size: 12px; cursor: pointer;" onclick="subscribeToPlan('champions', 199)">–ü–æ—Ç–æ—á–Ω–∞ –ø—ñ–¥–ø–∏—Å–∫–∞ ‚úì</button>
             </div>
             
             <!-- Pro Plan -->
             <div style="border: 2px solid #fbbf24; border-radius: 16px; padding: 20px; margin-bottom: 15px;">
                 <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                     <h3 style="font-size: 18px; font-weight: 700; color: #fbbf24;">üëë –õ–ï–ì–ï–ù–î–ò</h3>
                     <div>
                         <div style="font-size: 24px; font-weight: 900; color: #fbbf24;">399‚Ç¥</div>
                         <div style="font-size: 12px; color: #6b7280;">/–º—ñ—Å—è—Ü—å</div>
                     </div>
                 </div>
                 <div style="font-size: 14px; color: #6b7280; margin-bottom: 15px;">
                     ‚úÖ –í—Å–µ –∑ –ß–ï–ú–ü–Ü–û–ù–ò<br>
                     ‚úÖ –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∏–π —Ç—Ä–µ–Ω–µ—Ä<br>
                     ‚úÖ –í—ñ–¥–≥—É–∫–∏ –≤—ñ–¥ –ø—Ä–æ—Ñ–µ—Å—ñ–æ–Ω–∞–ª—ñ–≤<br>
                     ‚úÖ –ï–∫—Å–∫–ª—é–∑–∏–≤–Ω—ñ —Ç—É—Ä–Ω—ñ—Ä–∏<br>
                     ‚úÖ –ó–æ–ª–æ—Ç–∏–π –±–µ–π–¥–∂
                 </div>
                 <button style="background: linear-gradient(45deg, #fbbf24, #f97316); color: white; border: none; padding: 8px 16px; border-radius: 8px; font-size: 12px; cursor: pointer;" onclick="subscribeToPlan('legends', 399)">–û–Ω–æ–≤–∏—Ç–∏ –¥–æ –õ–ï–ì–ï–ù–î–ò</button>
             </div>
             
             <div style="text-align: center; margin-top: 20px; font-size: 12px; color: #6b7280;">
                 üí° –í—Å—ñ –ø—ñ–¥–ø–∏—Å–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–æ–Ω–æ–≤–ª—é—é—Ç—å—Å—è. –°–∫–∞—Å—É–≤–∞—Ç–∏ –º–æ–∂–Ω–∞ –≤ –±—É–¥—å-—è–∫–∏–π —á–∞—Å.
             </div>
         </div>
     </div>

     <script>
                 let currentUser = { name: '–û–ª–µ–∫—Å—ñ–π', coins: 247, friends: [], subscription: 'champions', subscriptionExpiry: '2025-02-08' };
        let currentProfile = null;

                 window.onload = function() {
             setTimeout(() => showScreen('welcomeScreen'), 3000);
             updateSubscriptionDisplay();
         };

        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(screen => screen.classList.remove('active'));
            document.getElementById(screenId).classList.add('active');
            
            const bottomNav = document.getElementById('bottomNav');
            bottomNav.style.display = (screenId === 'mainApp' || screenId.includes('Page')) ? 'flex' : 'none';
        }

                 function showAuth() { showScreen('authScreen'); }
         function showProfileCreation() { showScreen('profileCreationScreen'); }
         function loginDemo() { showScreen('mainApp'); updateNav(0); }

        function updateNav(activeIndex) {
            document.querySelectorAll('.nav-item').forEach((item, index) => {
                if (index === activeIndex) item.classList.add('active');
                else item.classList.remove('active');
            });
        }

        function showMain() { showScreen('mainApp'); updateNav(0); }
        function showVideos() { showScreen('videosPage'); updateNav(1); }
        function showMatches() { showScreen('matchesPage'); updateNav(2); }
        function showRating() { showScreen('ratingPage'); updateNav(3); }

        function likeVideo(button) {
            const countElement = button.parentElement.querySelector('div:last-child');
            let count = parseInt(countElement.textContent);
            countElement.textContent = count + 1;
            button.style.transform = 'scale(1.2)';
            setTimeout(() => button.style.transform = 'scale(1)', 200);
            alert('–õ–∞–π–∫ –¥–æ–¥–∞–Ω–æ! ‚ù§Ô∏è');
        }

        function addFriend(button, name) {
            if (!currentUser.friends.includes(name)) {
                currentUser.friends.push(name);
                button.textContent = '‚úì';
                alert(`${name} –¥–æ–¥–∞–Ω–æ –≤ –¥—Ä—É–∑—ñ!`);
            }
        }

        function showProfile(name) {
            currentProfile = name;
            document.getElementById('profilePlayerName').textContent = name === 'own' ? currentUser.name : name + ' –ü.';
            document.getElementById('profileModal').classList.add('active');
        }

        function toggleFriend() {
            if (currentProfile && currentProfile !== 'own') {
                const friendBtn = document.getElementById('friendActionBtn');
                if (currentUser.friends.includes(currentProfile)) {
                    const index = currentUser.friends.indexOf(currentProfile);
                    currentUser.friends.splice(index, 1);
                    friendBtn.textContent = '‚ûï –î–æ–¥–∞—Ç–∏ –≤ –¥—Ä—É–∑—ñ';
                } else {
                    currentUser.friends.push(currentProfile);
                    friendBtn.textContent = '‚úì –£ –¥—Ä—É–∑—è—Ö';
                }
            }
        }

        function showShop() {
            document.getElementById('modalBalance').textContent = currentUser.coins + ' ü™ô';
            document.getElementById('shopModal').classList.add('active');
        }

                 function buyItem(itemName, price) {
             if (currentUser.coins >= price) {
                 currentUser.coins -= price;
                 document.getElementById('coinBalance').textContent = currentUser.coins + ' ü™ô';
                 document.getElementById('modalBalance').textContent = currentUser.coins + ' ü™ô';
                 alert(`–ü—Ä–∏–¥–±–∞–Ω–æ: ${itemName}!`);
             } else {
                 alert('–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –º–æ–Ω–µ—Ç!');
             }
         }

         function buyCoins(amount, priceUAH) {
             alert(`–ü–æ–∫—É–ø–∫–∞ ${amount} FlapCoins –∑–∞ ${priceUAH}‚Ç¥\n–ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –Ω–∞ –æ–ø–ª–∞—Ç—É...`);
             setTimeout(() => {
                 currentUser.coins += amount;
                 document.getElementById('coinBalance').textContent = currentUser.coins + ' ü™ô';
                 document.getElementById('modalBalance').textContent = currentUser.coins + ' ü™ô';
                 alert(`–£—Å–ø—ñ—à–Ω–æ! +${amount} FlapCoins –¥–æ–¥–∞–Ω–æ –¥–æ –±–∞–ª–∞–Ω—Å—É`);
             }, 2000);
         }

        function openVoting() { document.getElementById('votingModal').classList.add('active'); }

        function updateSliderValue(videoNum, value) {
            document.getElementById(`sliderValue${videoNum}`).textContent = parseFloat(value).toFixed(2);
            document.getElementById(`voteValue${videoNum}`).textContent = parseFloat(value).toFixed(2);
        }

        function submitVote(videoNum) {
            const rating = document.getElementById(`sliderValue${videoNum}`).textContent;
            alert(`–í–∞—à –≥–æ–ª–æ—Å –∑–∞ –≤—ñ–¥–µ–æ #${videoNum}: ${rating} ‚≠ê –∑–±–µ—Ä–µ–∂–µ–Ω–æ!`);
            closeModal('votingModal');
        }

                 function closeModal(modalId) {
             document.getElementById(modalId).classList.remove('active');
         }

         // Profile Creation Functions
         function selectPhoto() {
             const photoUpload = document.getElementById('photoUpload');
             photoUpload.style.borderColor = '#3b82f6';
             photoUpload.innerHTML = 'üë§';
             alert('–Ü–º—ñ—Ç–∞—Ü—ñ—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–æ—Ç–æ');
         }

         function createProfile() {
             const name = document.getElementById('profileNameInput').value;
             const city = document.getElementById('profileCityInput').value;
             const position = document.getElementById('profilePositionSelect').value;
             
             if (name) {
                 currentUser.name = name;
                 document.getElementById('userName').textContent = name;
             }
             if (city) currentUser.city = city;
             if (position) currentUser.position = position;
             
             alert('–ü—Ä–æ—Ñ—ñ–ª—å —Å—Ç–≤–æ—Ä–µ–Ω–æ! –í–∞–º –Ω–∞–¥–∞–Ω–æ 2 —Ç–∏–∂–Ω—ñ –ø—ñ–¥–ø–∏—Å–∫–∏ "–õ—ñ–≥–∞ –ß–µ–º–ø—ñ–æ–Ω—ñ–≤"');
             showScreen('mainApp');
             updateNav(0);
         }

         // Challenge Creation Functions
         function showCreateChallenge() {
             document.getElementById('createChallengeStep1').classList.add('active');
         }

         function goToChallengeStep2() {
             const name = document.getElementById('challengeNameInput').value;
             const category = document.getElementById('challengeCategorySelect').value;
             const prize = document.getElementById('challengePrizeInput').value;
             
             if (!name || !category || !prize) {
                 alert('–ó–∞–ø–æ–≤–Ω—ñ—Ç—å –≤—Å—ñ –ø–æ–ª—è');
                 return;
             }
             
             closeModal('createChallengeStep1');
             document.getElementById('createChallengeStep2').classList.add('active');
         }

         function backToChallengeStep1() {
             closeModal('createChallengeStep2');
             document.getElementById('createChallengeStep1').classList.add('active');
         }

         function selectVideo() {
             const uploadZone = document.getElementById('videoUploadZone');
             uploadZone.style.borderColor = '#3b82f6';
             uploadZone.innerHTML = '<div style="font-size: 48px; margin-bottom: 15px;">‚úÖ</div><div style="font-size: 18px; font-weight: 600; margin-bottom: 8px;">–í—ñ–¥–µ–æ –æ–±—Ä–∞–Ω–æ</div><div style="font-size: 14px; color: #6b7280;">football_trick.mp4</div>';
             alert('–Ü–º—ñ—Ç–∞—Ü—ñ—è –≤–∏–±–æ—Ä—É –≤—ñ–¥–µ–æ —Ñ–∞–π–ª—É');
         }

         function goToChallengeStep3() {
             closeModal('createChallengeStep2');
             document.getElementById('createChallengeStep3').classList.add('active');
         }

         function backToChallengeStep2() {
             closeModal('createChallengeStep3');
             document.getElementById('createChallengeStep2').classList.add('active');
         }

         function selectInviteOption(option) {
             // Reset all buttons
             document.querySelectorAll('#createChallengeStep3 button[id^="invite"]').forEach(btn => {
                 btn.style.background = '#f3f4f6';
             });
             
             // Highlight selected option
             const selectedBtn = document.getElementById('invite' + option.charAt(0).toUpperCase() + option.slice(1));
             selectedBtn.style.background = 'linear-gradient(45deg, #3b82f6, #7c3aed)';
             selectedBtn.style.color = 'white';
             
             // Update participants text
             const participantsDiv = document.getElementById('selectedParticipants');
             switch(option) {
                 case 'friends':
                     participantsDiv.innerHTML = currentUser.friends.length > 0 ? 
                         currentUser.friends.map(f => `@${f}`).join(', ') : 
                         '–£ –≤–∞—Å –ø–æ–∫–∏ –Ω–µ–º–∞—î –¥—Ä—É–∑—ñ–≤';
                     break;
                 case 'cities':
                     participantsDiv.textContent = `–ì—Ä–∞–≤—Ü—ñ –∑ –º—ñ—Å—Ç–∞: ${currentUser.city || '–ö–∏—ó–≤'}`;
                     break;
                 case 'positions':
                     participantsDiv.textContent = '–ì—Ä–∞–≤—Ü—ñ —Ç—ñ—î—ó –∂ –ø–æ–∑–∏—Ü—ñ—ó';
                     break;
                 case 'everyone':
                     participantsDiv.textContent = '–ü—É–±–ª—ñ—á–Ω–∏–π —á–µ–ª–µ–Ω–¥–∂ –¥–ª—è –≤—Å—ñ—Ö –≥—Ä–∞–≤—Ü—ñ–≤';
                     break;
             }
         }

         function createChallengeComplete() {
             const name = document.getElementById('challengeNameInput').value;
             const prize = parseInt(document.getElementById('challengePrizeInput').value);
             
             if (currentUser.coins >= prize) {
                 currentUser.coins -= prize;
                 document.getElementById('coinBalance').textContent = currentUser.coins + ' ü™ô';
                 alert('–ß–µ–ª–µ–Ω–¥–∂ —Å—Ç–≤–æ—Ä–µ–Ω–æ! –û—á—ñ–∫—É–π—Ç–µ —É—á–∞—Å–Ω–∏–∫—ñ–≤.');
                 closeModal('createChallengeStep3');
             } else {
                 alert('–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –º–æ–Ω–µ—Ç –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —á–µ–ª–µ–Ω–¥–∂—É');
             }
         }

         // Video Upload Functions
         function selectChallengeVideo() {
             alert('–Ü–º—ñ—Ç–∞—Ü—ñ—è –≤–∏–±–æ—Ä—É –≤—ñ–¥–µ–æ –¥–ª—è —á–µ–ª–µ–Ω–¥–∂—É');
         }

         function uploadChallengeVideo() {
             alert('–í—ñ–¥–µ–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ! –í–∏ –ø—Ä–∏—î–¥–Ω–∞–ª–∏—Å—è –¥–æ —á–µ–ª–µ–Ω–¥–∂—É');
             closeModal('videoUploadModal');
         }

         // Updated challenge buttons
         function acceptChallenge() {
             document.getElementById('videoUploadModal').classList.add('active');
         }

         function showFriendsModal() {
             updateFriendsList();
             document.getElementById('friendsModal').classList.add('active');
         }

         function updateFriendsList() {
             const friendsList = document.getElementById('friendsList');
             if (currentUser.friends.length === 0) {
                 friendsList.innerHTML = `
                     <div style="text-align: center; padding: 40px;">
                         <div style="font-size: 48px; opacity: 0.3; margin-bottom: 15px;">üë•</div>
                         <div style="font-size: 18px; font-weight: 600; margin-bottom: 8px;">–£ –≤–∞—Å –ø–æ–∫–∏ –Ω–µ–º–∞—î –¥—Ä—É–∑—ñ–≤</div>
                         <div style="font-size: 14px; color: #6b7280;">–î–æ–¥–∞–π—Ç–µ –¥—Ä—É–∑—ñ–≤ —á–µ—Ä–µ–∑ —Ä–µ–π—Ç–∏–Ω–≥ –≥—Ä–∞–≤—Ü—ñ–≤</div>
                     </div>
                 `;
             } else {
                 friendsList.innerHTML = currentUser.friends.map(friend => `
                     <div style="display: flex; align-items: center; padding: 15px; border-bottom: 1px solid #f3f4f6;">
                         <div style="width: 50px; height: 50px; background: #f3f4f6; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 20px; margin-right: 15px;">üë§</div>
                         <div style="flex: 1;">
                             <div style="font-size: 16px; font-weight: 700; margin-bottom: 4px;">${friend}</div>
                             <div style="font-size: 12px; color: #6b7280;">‚≠ê 4.${Math.floor(Math.random() * 9)} ‚Ä¢ –í –º–µ—Ä–µ–∂—ñ</div>
                         </div>
                         <button style="background: #3b82f6; color: white; border: none; padding: 8px 12px; border-radius: 8px; font-size: 12px; cursor: pointer;" onclick="showProfile('${friend}')">–ü—Ä–æ—Ñ—ñ–ª—å</button>
                     </div>
                 `).join('');
             }
         }

         // Match Creation Functions
         function showCreateMatch() {
             // Set default date to today
             const today = new Date();
             const dateStr = today.toISOString().split('T')[0];
             document.getElementById('matchDateInput').value = dateStr;
             
             // Set default time to current hour + 2
             const currentHour = today.getHours() + 2;
             const timeStr = `${currentHour.toString().padStart(2, '0')}:00`;
             document.getElementById('matchTimeInput').value = timeStr;
             
             document.getElementById('createMatchModal').classList.add('active');
         }

         function createMatchComplete() {
             const name = document.getElementById('matchNameInput').value;
             const type = document.getElementById('matchTypeSelect').value;
             const location = document.getElementById('matchLocationInput').value;
             const date = document.getElementById('matchDateInput').value;
             const time = document.getElementById('matchTimeInput').value;
             const maxPlayers = document.getElementById('matchMaxPlayersInput').value;
             
             if (!name || !type || !location || !date || !time || !maxPlayers) {
                 alert('–ó–∞–ø–æ–≤–Ω—ñ—Ç—å –≤—Å—ñ –æ–±–æ–≤\'—è–∑–∫–æ–≤—ñ –ø–æ–ª—è');
                 return;
             }
             
             alert(`–ú–∞—Ç—á "${name}" —Å—Ç–≤–æ—Ä–µ–Ω–æ!\nüìÖ ${date} –æ ${time}\nüìç ${location}\nüë• ${type}, –¥–æ ${maxPlayers} –≥—Ä–∞–≤—Ü—ñ–≤`);
             closeModal('createMatchModal');
             
             // Clear form
             document.getElementById('matchNameInput').value = '';
             document.getElementById('matchDescriptionInput').value = '';
             document.getElementById('matchLocationInput').value = '';
             document.getElementById('matchMaxPlayersInput').value = '';
             document.getElementById('matchPriceInput').value = '';
         }

         // Subscription Functions
         function showSubscriptions() {
             updateSubscriptionDisplay();
             document.getElementById('subscriptionsModal').classList.add('active');
         }

         function updateSubscriptionDisplay() {
             const subscriptionNames = {
                 'start': '‚öΩ –°–¢–ê–†–¢',
                 'champions': 'üèÜ –ß–ï–ú–ü–Ü–û–ù–ò', 
                 'legends': 'üëë –õ–ï–ì–ï–ù–î–ò'
             };
             
             document.getElementById('currentSubscription').textContent = subscriptionNames[currentUser.subscription];
             document.getElementById('subscriptionExpiry').textContent = `–î—ñ—î –¥–æ: ${formatDate(currentUser.subscriptionExpiry)}`;
             
             // Update badge in header
             const badge = document.getElementById('subscriptionBadge');
             if (currentUser.subscription === 'legends') {
                 badge.textContent = '–õ–ï–ì–ï–ù–î–ò';
                 badge.style.background = 'linear-gradient(45deg, #fbbf24, #f97316)';
                 badge.style.color = 'white';
             } else if (currentUser.subscription === 'champions') {
                 badge.textContent = '–ß–ï–ú–ü–Ü–û–ù–ò';
                 badge.style.background = '#fbbf24';
                 badge.style.color = '#1f2937';
             } else {
                 badge.textContent = '–°–¢–ê–†–¢';
                 badge.style.background = '#9ca3af';
                 badge.style.color = 'white';
             }
         }

         function formatDate(dateStr) {
             const date = new Date(dateStr);
             return date.toLocaleDateString('uk-UA');
         }

         function subscribeToPlan(plan, price) {
             if (currentUser.subscription === plan) {
                 alert('–£ –≤–∞—Å –≤–∂–µ –∞–∫—Ç–∏–≤–Ω–∞ —Ü—è –ø—ñ–¥–ø–∏—Å–∫–∞!');
                 return;
             }
             
             const planNames = {
                 'start': '‚öΩ –°–¢–ê–†–¢',
                 'champions': 'üèÜ –ß–ï–ú–ü–Ü–û–ù–ò',
                 'legends': 'üëë –õ–ï–ì–ï–ù–î–ò'
             };
             
             alert(`–û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –ø—ñ–¥–ø–∏—Å–∫–∏ ${planNames[plan]} –∑–∞ ${price}‚Ç¥/–º—ñ—Å—è—Ü—å\n–ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –Ω–∞ –æ–ø–ª–∞—Ç—É...`);
             
             setTimeout(() => {
                 currentUser.subscription = plan;
                 const newExpiry = new Date();
                 newExpiry.setMonth(newExpiry.getMonth() + 1);
                 currentUser.subscriptionExpiry = newExpiry.toISOString().split('T')[0];
                 
                 updateSubscriptionDisplay();
                 alert(`–í—ñ—Ç–∞—î–º–æ! –ü—ñ–¥–ø–∏—Å–∫–∞ ${planNames[plan]} –∞–∫—Ç–∏–≤–æ–≤–∞–Ω–∞!`);
                 closeModal('subscriptionsModal');
             }, 2000);
         }

         window.onclick = function(event) {
             if (event.target.classList.contains('modal')) {
                 event.target.classList.remove('active');
             }
         }
    </script>
</body>
</html>