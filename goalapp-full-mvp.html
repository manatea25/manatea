<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GoalApp - –§—É—Ç–±–æ–ª—å–Ω–∏–π –≤—Å–µ—Å–≤—ñ—Ç</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    animation: {
                        'bounce-slow': 'bounce 2s infinite',
                        'pulse-slow': 'pulse 3s infinite',
                    }
                }
            }
        }
    </script>
    <style>
        .gradient-text {
            background: linear-gradient(45deg, #ffffff, #fbbf24);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .slider {
            -webkit-appearance: none;
            appearance: none;
            height: 6px;
            border-radius: 5px;
            background: #d3d3d3;
            outline: none;
        }
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #10b981;
            cursor: pointer;
        }
        .slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #10b981;
            cursor: pointer;
            border: none;
        }
    </style>
</head>
<body class="bg-gray-50">
    <div id="app" class="max-w-sm mx-auto bg-white min-h-screen relative">
        <!-- Content will be loaded here -->
    </div>

    <script>
        // Global state management
        let currentScreen = 'welcome';
        let user = null;
        let selectedMatch = null;
        let selectedPlayer = null;
        let selectedChallenge = null;
        let selectedVideo = null;
        let favorites = new Set();
        let friends = new Set([1, 2]);
        let videoComments = {};
        let videoRatings = {};
        let playerRatings = {};
        let matchCityFilter = '–í—Å—ñ –º—ñ—Å—Ç–∞';
        let playerCityFilter = '–í—Å—ñ –º—ñ—Å—Ç–∞';
        let challengeCategory = '–í—Å—ñ';
        let contentType = '–í—Å—ñ';
        let newComment = '';

        // Data
        const cities = ['–í—Å—ñ –º—ñ—Å—Ç–∞', '–õ—å–≤—ñ–≤', '–ö–∏—ó–≤', '–•–∞—Ä–∫—ñ–≤', '–û–¥–µ—Å–∞', '–î–Ω—ñ–ø—Ä–æ'];
        const categories = ['–í—Å—ñ', '–ì–æ–ª–∏', '–ü–µ—Ä–µ–¥–∞—á—ñ', '–§—ñ–Ω—Ç–∏', '–í–æ—Ä–æ—Ç–∞—Ä—Å—Ç–≤–æ'];
        const contentTypes = ['–í—Å—ñ', '–í—ñ–¥–µ–æ', '–ß–µ–ª–µ–Ω–¥–∂—ñ'];

        const badges = [
            { id: 1, name: '‚öΩ –ú–∞–π—Å—Ç–µ—Ä –º\'—è—á–∞', price: 50, description: '–ó–∞ —Ç–µ—Ö–Ω—ñ–∫—É –≤–µ–¥–µ–Ω–Ω—è', owned: false },
            { id: 2, name: 'ü•Ö –°–Ω–∞–π–ø–µ—Ä', price: 75, description: '–ó–∞ —Ç–æ—á–Ω—ñ—Å—Ç—å —É–¥–∞—Ä—ñ–≤', owned: false },
            { id: 3, name: 'üèÉ‚Äç‚ôÇÔ∏è –°–ø—ñ–¥—Å—Ç–µ—Ä', price: 60, description: '–ó–∞ —à–≤–∏–¥–∫—ñ—Å—Ç—å', owned: true },
            { id: 4, name: 'üéØ –ê—Å–∏—Å—Ç–µ–Ω—Ç', price: 65, description: '–ó–∞ –∫—Ä–∞—â—ñ –ø–µ—Ä–µ–¥–∞—á—ñ', owned: false },
            { id: 5, name: 'üõ°Ô∏è –ó–∞—Ö–∏—Å–Ω–∏–∫', price: 70, description: '–ó–∞ –Ω–∞–¥—ñ–π–Ω—É –≥—Ä—É –≤ –æ–±–æ—Ä–æ–Ω—ñ', owned: false },
        ];

        const comingSoonItems = [
            { id: 1, name: 'üåü –í—ñ–¥–≥—É–∫ –≤—ñ–¥ —Å–µ–ª–µ–±—Ä–µ—Ç—ñ', description: '–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∏–π –≤—ñ–¥–≥—É–∫ –≤—ñ–¥ –∑—ñ—Ä–∫–∏ —Ñ—É—Ç–±–æ–ª—É', icon: '‚≠ê' },
            { id: 2, name: 'üè™ –ó–Ω–∏–∂–∫–∞ –Ω–∞ —Å–ø–æ—Ä—Ç—Ç–æ–≤–∞—Ä–∏', description: '20% –∑–Ω–∏–∂–∫–∞ –≤ –ø–∞—Ä—Ç–Ω–µ—Ä—Å—å–∫–∏—Ö –º–∞–≥–∞–∑–∏–Ω–∞—Ö', icon: 'üè∑Ô∏è' },
        ];

        const videos = [
            { 
                id: 1, 
                title: '–¢–µ—Ö–Ω—ñ–∫–∞ –≤–µ–¥–µ–Ω–Ω—è –º\'—è—á–∞', 
                author: '–ê—Ä—Ç–µ–º –ö.', 
                authorId: 1,
                votes: 45, 
                views: 234,
                category: '–§—ñ–Ω—Ç–∏', 
                city: '–õ—å–≤—ñ–≤', 
                isVideo: true,
                likes: 89,
                dislikes: 12,
                avgRating: 4.2,
                comments: [
                    { id: 1, author: '–ú–∞–∫—Å–∏–º –ü.', text: '–°—É–ø–µ—Ä —Ç–µ—Ö–Ω—ñ–∫–∞! –°–ø—Ä–æ–±—É—é –ø–æ–≤—Ç–æ—Ä–∏—Ç–∏', time: '2 –≥–æ–¥ —Ç–æ–º—É' },
                    { id: 2, author: '–û–ª–µ–≥ –ú.', text: '–î—É–∂–µ –∫–æ—Ä–∏—Å–Ω–æ, –¥—è–∫—É—é!', time: '1 –≥–æ–¥ —Ç–æ–º—É' }
                ]
            }
        ];

        const challenges = [
            { 
                id: 1, 
                title: '–°—É–ø–µ—Ä –∫–ª–∞—Å–Ω–∏–π —Ñ—ñ–Ω—Ç –ù–µ–π–º–∞—Ä–∞', 
                author: '–ê—Ä—Ç–µ–º –ö.', 
                authorId: 1,
                votes: 23, 
                likes: 87,
                rating: 4.5, 
                category: '–§—ñ–Ω—Ç–∏', 
                city: '–õ—å–≤—ñ–≤', 
                coins: 50,
                prizePool: 450,
                entryFee: 25,
                participants: 18,
                maxParticipants: 50,
                status: "voting",
                description: "–°–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–≤—Ç–æ—Ä–∏—Ç–∏ —Ü–µ–π —Ñ—ñ–Ω—Ç!",
                isVideo: false,
                submissions: [
                    { 
                        id: 1, 
                        author: "–ú–∞–∫—Å–∏–º –ü.", 
                        authorId: 2,
                        rating: 4.2, 
                        city: "–õ—å–≤—ñ–≤",
                        avgScore: 4.3,
                        totalVotes: 15,
                        submittedAt: "1 –≥–æ–¥–∏–Ω–∞ —Ç–æ–º—É"
                    }
                ]
            }
        ];

        let matches = [
            { 
                id: 1, 
                title: '–§—É—Ç–±–æ–ª —É –ø–∞—Ä–∫—É –®–µ–≤—á–µ–Ω–∫–∞', 
                date: '23.07.2025', 
                time: '18:00', 
                location: '–õ—å–≤—ñ–≤, –ø–∞—Ä–∫ –®–µ–≤—á–µ–Ω–∫–∞', 
                city: '–õ—å–≤—ñ–≤',
                players: '8/10', 
                isMyMatch: true, 
                applications: 8,
                organizer: '–û–ª–µ–∫—Å–∞–Ω–¥—Ä –ü–µ—Ç—Ä–µ–Ω–∫–æ',
                description: '–¢–æ–≤–∞—Ä–∏—Å—å–∫–∏–π –º–∞—Ç—á 5 –Ω–∞ 5.',
                participants: [
                    { id: 1, name: '–ê—Ä—Ç–µ–º –ö.', position: '–ù–∞–ø–∞–¥–Ω–∏–∫', rating: 4.2 },
                    { id: 2, name: '–ú–∞–∫—Å–∏–º –ü.', position: '–ó–∞—Ö–∏—Å–Ω–∏–∫', rating: 3.8 },
                    { id: 3, name: '–û–ª–µ–≥ –ú.', position: '–í–æ—Ä–æ—Ç–∞—Ä', rating: 4.5 },
                    { id: 4, name: '–Ü–≤–∞–Ω –°.', position: '–ü—ñ–≤–∑–∞—Ö–∏—Å–Ω–∏–∫', rating: 4.0 },
                    { id: 5, name: '–ü–µ—Ç—Ä–æ –î.', position: '–ù–∞–ø–∞–¥–Ω–∏–∫', rating: 3.9 },
                    { id: 6, name: '–°–µ—Ä–≥—ñ–π –õ.', position: '–ó–∞—Ö–∏—Å–Ω–∏–∫', rating: 4.1 },
                    { id: 7, name: '–ê–Ω–¥—Ä—ñ–π –ö.', position: '–í–æ—Ä–æ—Ç–∞—Ä', rating: 3.7 },
                    { id: 8, name: '–†–æ–º–∞–Ω –¢.', position: '–ü—ñ–≤–∑–∞—Ö–∏—Å–Ω–∏–∫', rating: 4.3 }
                ],
                teams: null,
                gameStarted: false,
                gameFinished: false,
                winnerTeam: null
            }
        ];

        const players = [
            { 
                id: 1, 
                name: '–ê—Ä—Ç–µ–º –ö.', 
                fullName: '–ê—Ä—Ç–µ–º –ö–æ–≤–∞–ª—å—á—É–∫',
                position: '–ù–∞–ø–∞–¥–Ω–∏–∫', 
                rating: 4.8, 
                city: '–õ—å–≤—ñ–≤', 
                games: 24, 
                wins: 18, 
                winRate: 75,
                age: 23,
                phone: '+380 67 123 45 67',
                telegram: '@artem_football',
                bio: '–ì—Ä–æ—é –∑ –¥–∏—Ç–∏–Ω—Å—Ç–≤–∞. –õ—é–±–ª—é —à–≤–∏–¥–∫—ñ –∞—Ç–∞–∫–∏.',
                achievements: ['ü•á –ß–µ–º–ø—ñ–æ–Ω –º—ñ—Å—Ç–∞ 2024'],
                lastGames: ['W', 'W', 'L', 'W', 'W']
            },
            { 
                id: 2, 
                name: '–ú–∞–∫—Å–∏–º –ü.', 
                fullName: '–ú–∞–∫—Å–∏–º –ü–µ—Ç—Ä–µ–Ω–∫–æ',
                position: '–ó–∞—Ö–∏—Å–Ω–∏–∫', 
                rating: 4.5, 
                city: '–õ—å–≤—ñ–≤', 
                games: 31, 
                wins: 20, 
                winRate: 65,
                age: 26,
                phone: '+380 67 234 56 78',
                telegram: '@maxim_defense',
                bio: '–ù–∞–¥—ñ–π–Ω–∏–π –∑–∞—Ö–∏—Å–Ω–∏–∫ –∫–æ–º–∞–Ω–¥–∏.',
                lastGames: ['W', 'L', 'W', 'W', 'L']
            },
            { 
                id: 3, 
                name: '–û–ª–µ–≥ –ú.', 
                fullName: '–û–ª–µ–≥ –ú–µ–ª—å–Ω–∏–∫',
                position: '–í–æ—Ä–æ—Ç–∞—Ä', 
                rating: 4.3, 
                city: '–ö–∏—ó–≤', 
                games: 19, 
                wins: 14, 
                winRate: 74,
                age: 28,
                bio: '–î–æ—Å–≤—ñ–¥—á–µ–Ω–∏–π –≤–æ—Ä–æ—Ç–∞—Ä.',
                lastGames: ['W', 'W', 'W', 'L', 'W']
            }
        ];

        const subscriptionPlans = [
            {
                id: 'europa',
                name: '–õ—ñ–≥–∞ –Ñ–≤—Ä–æ–ø–∏',
                price: 99,
                color: 'from-blue-400 to-purple-500',
                features: [
                    '–†–µ–π—Ç–∏–Ω–≥ –≤–∏–¥–∏–º–∏–π 999 –º—ñ—Å—è—Ü—ñ–≤',
                    '1 —á–µ–ª–µ–Ω–¥–∂ –Ω–∞ –º—ñ—Å—è—Ü—å',
                    '–ë–∞–∑–æ–≤–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞',
                    '–£—á–∞—Å—Ç—å —É –≤—Å—ñ—Ö –º–∞—Ç—á–∞—Ö'
                ]
            },
            {
                id: 'champions',
                name: '–õ—ñ–≥–∞ –ß–µ–º–ø—ñ–æ–Ω—ñ–≤',
                price: 159,
                color: 'from-yellow-400 to-orange-500',
                features: [
                    '–ü–æ—Å—Ç—ñ–π–Ω–æ –≤–∏–¥–∏–º–∏–π —Ä–µ–π—Ç–∏–Ω–≥',
                    '–ù–µ–æ–±–º–µ–∂–µ–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —á–µ–ª–µ–Ω–¥–∂—ñ–≤',
                    '–†–æ–∑—à–∏—Ä–µ–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞',
                    '–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç —É –º–∞—Ç—á–∞—Ö',
                    '–ï–∫—Å–∫–ª—é–∑–∏–≤–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó',
                    '–ó–Ω–∞—á–æ–∫ Premium'
                ],
                isPopular: true
            }
        ];

        // Utility functions
        function toggleFavorite(playerId) {
            if (favorites.has(playerId)) {
                favorites.delete(playerId);
                showNotification('–í–∏–¥–∞–ª–µ–Ω–æ –∑ –æ–±—Ä–∞–Ω–∏—Ö');
            } else {
                favorites.add(playerId);
                showNotification('–î–æ–¥–∞–Ω–æ –≤ –æ–±—Ä–∞–Ω—ñ!');
            }
            render();
        }

        function toggleFriend(playerId) {
            if (friends.has(playerId)) {
                friends.delete(playerId);
                showNotification(`–ì—Ä–∞–≤—Ü—è –≤–∏–¥–∞–ª–µ–Ω–æ –∑ –¥—Ä—É–∑—ñ–≤`);
            } else {
                friends.add(playerId);
                showNotification(`–ì—Ä–∞–≤—Ü—è –¥–æ–¥–∞–Ω–æ –≤ –¥—Ä—É–∑—ñ!`);
            }
            render();
        }

        function shuffleTeams(matchId) {
            const match = matches.find(m => m.id === matchId);
            if (!match) return;

            const goalkeepers = match.participants.filter(p => p.position === '–í–æ—Ä–æ—Ç–∞—Ä');
            const defenders = match.participants.filter(p => p.position === '–ó–∞—Ö–∏—Å–Ω–∏–∫');
            const midfielders = match.participants.filter(p => p.position === '–ü—ñ–≤–∑–∞—Ö–∏—Å–Ω–∏–∫');
            const forwards = match.participants.filter(p => p.position === '–ù–∞–ø–∞–¥–Ω–∏–∫');
            
            const team1 = [];
            const team2 = [];
            
            if (goalkeepers.length >= 2) {
                team1.push(goalkeepers[0]);
                team2.push(goalkeepers[1]);
            } else if (goalkeepers.length === 1) {
                team1.push(goalkeepers[0]);
            }
            
            const otherPlayers = [...defenders, ...midfielders, ...forwards];
            const shuffled = otherPlayers.sort(() => Math.random() - 0.5);
            
            shuffled.forEach((player, index) => {
                if (team1.length <= team2.length) {
                    team1.push(player);
                } else {
                    team2.push(player);
                }
            });
            
            match.teams = { team1, team2 };
            showNotification('–ö–æ–º–∞–Ω–¥–∏ –ø–µ—Ä–µ–º—ñ—à–∞–Ω–æ! üîÄ');
            render();
        }

        function startMatch(matchId) {
            const match = matches.find(m => m.id === matchId);
            if (match) {
                match.gameStarted = true;
                showNotification('–ú–∞—Ç—á —Ä–æ–∑–ø–æ—á–∞—Ç–æ! ‚öΩ');
                render();
            }
        }

        function finishMatch(matchId) {
            const match = matches.find(m => m.id === matchId);
            if (match) {
                match.gameFinished = true;
                match.gameStarted = false;
                showNotification('–ú–∞—Ç—á –∑–∞–≤–µ—Ä—à–µ–Ω–æ! üèÅ');
                render();
            }
        }

        function setWinner(matchId, teamNumber) {
            const match = matches.find(m => m.id === matchId);
            if (match) {
                match.winnerTeam = teamNumber;
                showNotification(`–ö–æ–º–∞–Ω–¥–∞ ${teamNumber === 1 ? 'A' : 'B'} –ø–µ—Ä–µ–º–æ–≥–ª–∞! üéâ`);
                if (user) {
                    user.coins += 50;
                }
                render();
            }
        }

        function addCommentToVideo(videoId, comment) {
            if (!videoComments[videoId]) {
                videoComments[videoId] = [];
            }
            videoComments[videoId].push({
                id: Date.now(),
                author: user?.nickname || '–ê–Ω–æ–Ω—ñ–º',
                text: comment,
                time: '—â–æ–π–Ω–æ'
            });
            showNotification('–ö–æ–º–µ–Ω—Ç–∞—Ä –¥–æ–¥–∞–Ω–æ! üí¨');
            render();
        }

        function rateVideoWithSlider(videoId, rating) {
            videoRatings[videoId] = rating;
            showNotification(`–í—ñ–¥–µ–æ –æ—Ü—ñ–Ω–µ–Ω–æ –Ω–∞ ${rating} –∑—ñ—Ä–æ–∫! ‚≠ê`);
        }

        function ratePlayerWithSlider(playerId, rating) {
            playerRatings[playerId] = rating;
            showNotification(`–ì—Ä–∞–≤–µ—Ü—å –æ—Ü—ñ–Ω–µ–Ω–∏–π –Ω–∞ ${rating} –∑—ñ—Ä–æ–∫! ‚≠ê`);
        }

        function buyBadge(badgeId) {
            const badge = badges.find(b => b.id === badgeId);
            if (!badge || badge.owned) return;
            
            if (user && user.coins >= badge.price) {
                user.coins -= badge.price;
                badge.owned = true;
                showNotification(`–ë–µ–π–¥–∂ "${badge.name}" –∫—É–ø–ª–µ–Ω–∏–π! üéâ`);
                render();
            } else {
                showNotification('–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –º–æ–Ω–µ—Ç! üí∞');
            }
        }

        function subscribeToPlan(planId) {
            const plan = subscriptionPlans.find(p => p.id === planId);
            if (plan && user) {
                user.subscription = planId;
                showNotification(`–ü—ñ–¥–ø–∏—Å–∫–∞ "${plan.name}" –æ—Ñ–æ—Ä–º–ª–µ–Ω–∞! ‚≠ê`);
                navigateTo('home');
            }
        }

        function showNotification(message) {
            const notification = document.createElement('div');
            notification.className = 'fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50 transform transition-all duration-300';
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => {
                    if (document.body.contains(notification)) {
                        document.body.removeChild(notification);
                    }
                }, 300);
            }, 3000);
        }

        function navigateTo(screen, data = null) {
            currentScreen = screen;
            if (data) {
                if (screen === 'player-profile') selectedPlayer = data;
                if (screen === 'match-details') selectedMatch = data;
                if (screen === 'challenge-details') selectedChallenge = data;
                if (screen === 'video-details') selectedVideo = data;
            }
            render();
        }

        // Screen components
        function WelcomeScreen() {
            return `
                <div class="min-h-screen bg-gradient-to-br from-green-400 via-blue-500 to-purple-600 flex flex-col items-center justify-center p-6 text-white relative overflow-hidden">
                    <div class="absolute inset-0 opacity-20">
                        <div class="absolute top-10 left-10 w-20 h-20 bg-white rounded-full animate-bounce"></div>
                        <div class="absolute top-32 right-16 w-16 h-16 bg-yellow-300 rounded-full animate-pulse"></div>
                        <div class="absolute bottom-20 left-20 w-12 h-12 bg-orange-300 rounded-full animate-bounce-slow"></div>
                        <div class="absolute bottom-40 right-12 w-14 h-14 bg-pink-300 rounded-full animate-pulse-slow"></div>
                    </div>
                    
                    <div class="text-center mb-12 z-10">
                        <div class="relative mb-8">
                            <div class="w-32 h-32 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center mx-auto mb-6 border-4 border-white/30">
                                <div class="w-20 h-20 bg-gradient-to-br from-green-400 to-blue-500 rounded-full flex items-center justify-center text-3xl animate-pulse">
                                    ‚öΩ
                                </div>
                            </div>
                            <div class="absolute -top-2 -right-2 w-8 h-8 bg-yellow-400 rounded-full flex items-center justify-center animate-spin">
                                ‚≠ê
                            </div>
                        </div>
                        
                        <h1 class="text-4xl font-bold mb-4 gradient-text">GoalApp</h1>
                        <p class="text-xl opacity-90 mb-2">–¢–≤—ñ–π —Ñ—É—Ç–±–æ–ª—å–Ω–∏–π –≤—Å–µ—Å–≤—ñ—Ç</p>
                        <p class="text-base opacity-75 mb-6">–ß–µ–ª–µ–Ω–¥–∂—ñ ‚Ä¢ –ú–∞—Ç—á—ñ ‚Ä¢ –†–µ–π—Ç–∏–Ω–≥–∏ ‚Ä¢ –î—Ä—É–∑—ñ</p>
                        
                        <div class="flex items-center justify-center space-x-6 text-sm opacity-80">
                            <div class="flex items-center space-x-1">
                                <span>üèÜ</span>
                                <span>–ó–º–∞–≥–∞–π—Å—è</span>
                            </div>
                            <div class="flex items-center space-x-1">
                                <span>üë•</span>
                                <span>–ó–Ω–∞—Ö–æ–¥—å –¥—Ä—É–∑—ñ–≤</span>
                            </div>
                            <div class="flex items-center space-x-1">
                                <span>üéØ</span>
                                <span>–†–æ–∑–≤–∏–≤–∞–π—Å—è</span>
                            </div>
                        </div>
                    </div>
                    
                    <button 
                        onclick="navigateTo('auth')"
                        class="bg-white text-gray-800 font-bold py-4 px-12 rounded-full text-lg w-full max-w-xs hover:bg-gray-50 transition-all duration-300 transform hover:scale-105 shadow-2xl z-10"
                    >
                        üöÄ –ü–æ—á–∞—Ç–∏ –ø—Ä–∏–≥–æ–¥—É
                    </button>
                    
                    <p class="text-xs opacity-60 mt-6 text-center z-10">
                        –ü—Ä–∏—î–¥–Ω—É–π—Å—è –¥–æ —Å–ø—ñ–ª—å–Ω–æ—Ç–∏ —Ñ—É—Ç–±–æ–ª—å–Ω–∏—Ö –µ–Ω—Ç—É–∑—ñ–∞—Å—Ç—ñ–≤
                    </p>
                </div>
            `;
        }

        function AuthScreen() {
            return `
                <div class="min-h-screen bg-gradient-to-br from-blue-50 to-green-50 p-6">
                    <button onclick="navigateTo('welcome')" class="mb-6 p-2 hover:bg-white/50 rounded-full transition-colors">
                        ‚Üê –ù–∞–∑–∞–¥
                    </button>
                    
                    <div class="max-w-sm mx-auto">
                        <div class="text-center mb-8">
                            <div class="w-16 h-16 bg-gradient-to-br from-green-400 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-4">
                                <span class="text-2xl">‚öΩ</span>
                            </div>
                            <h2 class="text-3xl font-bold text-gray-800 mb-2">–ó –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è–º!</h2>
                            <p class="text-gray-600">–£–≤—ñ–π–¥–∏ –≤ —Å–≤—ñ–π –∞–∫–∞—É–Ω—Ç</p>
                        </div>
                        
                        <div class="space-y-4 mb-6">
                            <input
                                type="email"
                                placeholder="üìß Email"
                                class="w-full p-4 border-2 border-gray-200 rounded-2xl focus:outline-none focus:border-green-500 transition-colors bg-white/80 backdrop-blur-sm"
                            />
                            <input
                                type="password"
                                placeholder="üîí –ü–∞—Ä–æ–ª—å"
                                class="w-full p-4 border-2 border-gray-200 rounded-2xl focus:outline-none focus:border-green-500 transition-colors bg-white/80 backdrop-blur-sm"
                            />
                        </div>
                        
                        <button
                            onclick="login()"
                            class="w-full bg-gradient-to-r from-green-500 to-blue-500 text-white font-bold py-4 rounded-2xl mb-4 hover:from-green-600 hover:to-blue-600 transition-all duration-300 transform hover:scale-105 shadow-lg"
                        >
                            üöÄ –£–≤—ñ–π—Ç–∏
                        </button>
                        
                        <button
                            onclick="showNotification('–§—É–Ω–∫—Ü—ñ—è —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó')"
                            class="w-full text-gray-600 font-medium hover:text-green-600 transition-colors"
                        >
                            –ù–µ–º–∞—î –∞–∫–∞—É–Ω—Ç—É? üìù –ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è
                        </button>
                    </div>
                </div>
            `;
        }

        function login() {
            user = {
                id: 999,
                nickname: '–û–ª–µ–∫—Å–∞–Ω–¥—Ä –ü–µ—Ç—Ä–µ–Ω–∫–æ',
                fullName: '–û–ª–µ–∫—Å–∞–Ω–¥—Ä –ü–µ—Ç—Ä–µ–Ω–∫–æ',
                city: '–õ—å–≤—ñ–≤',
                position: '–ü—ñ–≤–∑–∞—Ö–∏—Å–Ω–∏–∫',
                phone: '+380 67 890 12 34',
                telegram: '@alex_football',
                age: 25,
                bio: '–õ—é–±–ª—é —Ñ—É—Ç–±–æ–ª!',
                rating: 4.2,
                subscription: null,
                coins: 350,
                totalGames: 18,
                wins: 12,
                winRate: 67,
                lastGames: ['W', 'L', 'W', 'W', 'L']
            };
            showNotification('–í—ñ—Ç–∞—î–º–æ –≤ GoalApp! üéâ');
            navigateTo('home');
        }

        function HomeScreen() {
            return `
                <div class="min-h-screen bg-gradient-to-br from-gray-50 to-blue-50">
                    <div class="bg-white/80 backdrop-blur-sm px-6 py-4 shadow-sm border-b border-gray-100">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-3">
                                <div class="w-10 h-10 bg-gradient-to-br from-green-400 to-blue-500 rounded-full flex items-center justify-center">
                                    <span class="text-lg">‚öΩ</span>
                                </div>
                                <div>
                                    <h1 class="text-xl font-bold text-gray-800">GoalApp</h1>
                                    <p class="text-xs text-gray-500">–ü—Ä–∏–≤—ñ—Ç, ${user?.nickname}! üëã</p>
                                </div>
                            </div>
                            <div class="flex items-center space-x-3">
                                <button 
                                    onclick="navigateTo('friends')"
                                    class="relative p-2 hover:bg-gray-100 rounded-full transition-colors"
                                >
                                    <span class="text-xl">üë•</span>
                                    ${friends.size > 0 ? `<div class="absolute -top-1 -right-1 w-5 h-5 bg-green-500 rounded-full flex items-center justify-center">
                                        <span class="text-xs text-white font-bold">${friends.size}</span>
                                    </div>` : ''}
                                </button>
                                <button 
                                    onclick="navigateTo('favorites')"
                                    class="p-2 hover:bg-gray-100 rounded-full transition-colors"
                                >
                                    <span class="text-xl">‚ù§Ô∏è</span>
                                </button>
                                <button 
                                    onclick="navigateTo('profile')"
                                    class="w-8 h-8 bg-gradient-to-br from-purple-400 to-pink-400 rounded-full flex items-center justify-center"
                                >
                                    <span class="text-white text-sm">üë§</span>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="p-6">
                        <div class="grid grid-cols-3 gap-3 mb-6">
                            <div class="bg-gradient-to-br from-yellow-400 to-orange-500 p-4 rounded-2xl text-white text-center">
                                <div class="text-2xl font-bold">${user?.coins || 350}</div>
                                <div class="text-xs opacity-90">üí∞ –ú–æ–Ω–µ—Ç–∏</div>
                            </div>
                            <div class="bg-gradient-to-br from-green-400 to-teal-500 p-4 rounded-2xl text-white text-center">
                                <div class="text-2xl font-bold">${user?.totalGames || 18}</div>
                                <div class="text-xs opacity-90">‚öΩ –ú–∞—Ç—á—ñ</div>
                            </div>
                            <div class="bg-gradient-to-br from-blue-400 to-purple-500 p-4 rounded-2xl text-white text-center">
                                <div class="text-2xl font-bold">${user?.winRate || 67}%</div>
                                <div class="text-xs opacity-90">üèÜ –ü–µ—Ä–µ–º–æ–≥–∏</div>
                            </div>
                        </div>

                        <div class="grid grid-cols-2 gap-4 mb-6">
                            <button
                                onclick="navigateTo('challenges')"
                                class="bg-gradient-to-br from-orange-400 to-red-500 p-6 rounded-2xl text-white text-left relative overflow-hidden group hover:scale-105 transition-all duration-300 shadow-lg"
                            >
                                <div class="relative z-10">
                                    <div class="flex items-center space-x-2 mb-2">
                                        <span class="text-2xl">üìπ</span>
                                        <span class="text-lg">üî•</span>
                                    </div>
                                    <h3 class="text-lg font-bold mb-1">–í—ñ–¥–µ–æ</h3>
                                    <h3 class="text-lg font-bold mb-2">& –ß–µ–ª–µ–Ω–¥–∂—ñ</h3>
                                    <p class="text-xs opacity-90">–°—Ç–≤–æ—Ä—é–π —Ç–∞ –∑–∞—Ä–æ–±–ª—è–π</p>
                                </div>
                                <div class="absolute -right-4 -bottom-4 w-16 h-16 bg-white/10 rounded-full group-hover:scale-110 transition-transform duration-300"></div>
                            </button>
                            
                            <button
                                onclick="navigateTo('matches')"
                                class="bg-gradient-to-br from-blue-400 to-purple-500 p-6 rounded-2xl text-white text-left relative overflow-hidden group hover:scale-105 transition-all duration-300 shadow-lg"
                            >
                                <div class="relative z-10">
                                    <div class="flex items-center space-x-2 mb-2">
                                        <span class="text-2xl">üîç</span>
                                        <span class="text-lg">‚ö°</span>
                                    </div>
                                    <h3 class="text-lg font-bold mb-1">–ü–æ—à—É–∫</h3>
                                    <h3 class="text-lg font-bold mb-2">–º–∞—Ç—á—ñ–≤</h3>
                                    <p class="text-xs opacity-90">–ì—Ä–∞–π –ø–æ—Ä—É—á –∑ –¥–æ–º–æ–º</p>
                                </div>
                                <div class="absolute -right-4 -bottom-4 w-16 h-16 bg-white/10 rounded-full group-hover:scale-110 transition-transform duration-300"></div>
                            </button>
                        </div>

                        <div class="grid grid-cols-1 gap-4 mb-6">
                            <button
                                onclick="navigateTo('ratings')"
                                class="bg-gradient-to-r from-green-400 via-teal-400 to-blue-500 p-6 rounded-2xl text-white text-left relative overflow-hidden group hover:scale-105 transition-all duration-300 shadow-lg"
                            >
                                <div class="flex items-center justify-between">
                                    <div class="relative z-10">
                                        <div class="flex items-center space-x-2 mb-2">
                                            <span class="text-2xl">üèÜ</span>
                                            <span class="text-lg">üìà</span>
                                        </div>
                                        <h3 class="text-xl font-bold mb-2">–†–µ–π—Ç–∏–Ω–≥ –≥—Ä–∞–≤—Ü—ñ–≤</h3>
                                        <p class="text-sm opacity-90">–î–∏–≤–∏—Å—å —Ç–æ–ø —Ñ—É—Ç–±–æ–ª—ñ—Å—Ç—ñ–≤ —Ç–≤–æ–≥–æ –º—ñ—Å—Ç–∞</p>
                                    </div>
                                    <div class="relative z-10">
                                        <span class="text-5xl opacity-60">ü•á</span>
                                    </div>
                                </div>
                                <div class="absolute -right-8 -bottom-8 w-24 h-24 bg-white/10 rounded-full group-hover:scale-110 transition-transform duration-300"></div>
                            </button>
                        </div>

                        <div class="grid grid-cols-2 gap-3 mb-6">
                            <button
                                onclick="navigateTo('shop')"
                                class="bg-white p-4 rounded-xl shadow-sm border border-gray-100 text-left hover:shadow-md transition-all duration-300 group"
                            >
                                <div class="flex items-center space-x-3">
                                    <div class="w-10 h-10 bg-gradient-to-br from-purple-400 to-pink-500 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform">
                                        <span class="text-white">üõçÔ∏è</span>
                                    </div>
                                    <div>
                                        <h4 class="font-semibold text-gray-800">–ú–∞–≥–∞–∑–∏–Ω</h4>
                                        <p class="text-xs text-gray-500">–ë–µ–π–¥–∂—ñ —Ç–∞ –±–æ–Ω—É—Å–∏</p>
                                    </div>
                                </div>
                            </button>

                            <button
                                onclick="navigateTo('achievements')"
                                class="bg-white p-4 rounded-xl shadow-sm border border-gray-100 text-left hover:shadow-md transition-all duration-300 group"
                            >
                                <div class="flex items-center space-x-3">
                                    <div class="w-10 h-10 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform">
                                        <span class="text-white">üèÖ</span>
                                    </div>
                                    <div>
                                        <h4 class="font-semibold text-gray-800">–î–æ—Å—è–≥–Ω–µ–Ω–Ω—è</h4>
                                        <p class="text-xs text-gray-500">–¢–≤–æ—ó –Ω–∞–≥–æ—Ä–æ–¥–∏</p>
                                    </div>
                                </div>
                            </button>
                        </div>

                        <div class="bg-white rounded-2xl p-5 shadow-sm border border-gray-100 mb-6">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="font-bold text-gray-800">üî• –ê–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å</h3>
                                <button class="text-green-500 text-sm font-medium">–ë—ñ–ª—å—à–µ</button>
                            </div>
                            <div class="space-y-3">
                                <div class="flex items-center space-x-3 p-2 bg-green-50 rounded-lg">
                                    <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center">
                                        <span class="text-white text-sm">üèÜ</span>
                                    </div>
                                    <div class="flex-1">
                                        <p class="text-sm font-medium">–ù–æ–≤–∏–π —á–µ–ª–µ–Ω–¥–∂ –¥–æ—Å—Ç—É–ø–Ω–∏–π!</p>
                                        <p class="text-xs text-gray-500">2 —Ö–≤–∏–ª–∏–Ω–∏ —Ç–æ–º—É</p>
                                    </div>
                                </div>
                                <div class="flex items-center space-x-3 p-2 bg-blue-50 rounded-lg">
                                    <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center">
                                        <span class="text-white text-sm">üë•</span>
                                    </div>
                                    <div class="flex-1">
                                        <p class="text-sm font-medium">–ú–∞—Ç—á –∑–∞–≤—Ç—Ä–∞ –æ 18:00</p>
                                        <p class="text-xs text-gray-500">–ü–∞—Ä–∫ –®–µ–≤—á–µ–Ω–∫–∞</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="text-center">
                            <button 
                                onclick="navigateTo('subscription')"
                                class="text-sm text-gray-500 hover:text-green-600 transition-colors"
                            >
                                ‚≠ê –ü—ñ–¥–ø–∏—Å–∫–∞ —Ç–∞ –ø—Ä–µ–º—ñ—É–º —Ñ—É–Ω–∫—Ü—ñ—ó
                            </button>
                        </div>
                    </div>

                    <button
                        onclick="navigateTo('create-content')"
                        class="fixed bottom-6 right-6 w-14 h-14 bg-gradient-to-br from-green-500 to-teal-500 rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-all duration-300 z-50"
                    >
                        <span class="text-white text-2xl">+</span>
                    </button>
                </div>
            `;
        }

        // Additional Screens
        function FriendsScreen() {
            const friendsList = players.filter(p => friends.has(p.id));
            const suggestedFriends = players.filter(p => !friends.has(p.id) && p.city === user?.city);

            return `
                <div class="min-h-screen bg-gray-50">
                    <div class="bg-white px-6 py-4 shadow-sm flex items-center space-x-3 border-b border-gray-100">
                        <button onclick="navigateTo('home')" class="p-2 hover:bg-gray-100 rounded-full transition-colors">‚Üê –ù–∞–∑–∞–¥</button>
                        <h1 class="text-xl font-bold">üë• –î—Ä—É–∑—ñ</h1>
                    </div>
                    <div class="p-6">
                        <div class="mb-8">
                            <h2 class="text-lg font-bold mb-4 flex items-center space-x-2">
                                <span>ü§ù –ú–æ—ó –¥—Ä—É–∑—ñ</span>
                                <span class="bg-green-100 text-green-600 px-2 py-1 rounded-full text-xs">${friendsList.length}</span>
                            </h2>
                            ${friendsList.length === 0 ? `
                                <div class="text-center py-8 bg-white rounded-xl">
                                    <span class="text-6xl mb-4 block">üë•</span>
                                    <h3 class="text-lg font-semibold text-gray-500 mb-2">–ü–æ–∫–∏ –Ω–µ–º–∞—î –¥—Ä—É–∑—ñ–≤</h3>
                                    <p class="text-gray-400">–î–æ–¥–∞–π –≥—Ä–∞–≤—Ü—ñ–≤ —É –¥—Ä—É–∑—ñ, —â–æ–± –≥—Ä–∞—Ç–∏ —Ä–∞–∑–æ–º</p>
                                </div>
                            ` : `
                                <div class="space-y-3">
                                    ${friendsList.map(friend => `
                                        <div class="bg-white rounded-xl p-4 shadow-sm border border-gray-100">
                                            <div class="flex items-center space-x-4">
                                                <button onclick="navigateTo('player-profile', ${JSON.stringify(friend)})" 
                                                        class="w-12 h-12 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center hover:scale-110 transition-transform">
                                                    <span class="text-white">üë§</span>
                                                </button>
                                                <div class="flex-1">
                                                    <h3 class="font-semibold">${friend.name}</h3>
                                                    <p class="text-sm text-gray-600">${friend.position} ‚Ä¢ ${friend.city}</p>
                                                    <div class="flex items-center space-x-2 mt-1">
                                                        <span class="text-yellow-500">‚≠ê</span>
                                                        <span class="text-xs font-medium">${friend.rating}</span>
                                                        <span class="text-xs text-gray-400">‚Ä¢ ${friend.games} —ñ–≥–æ—Ä</span>
                                                    </div>
                                                </div>
                                                <div class="flex items-center space-x-2">
                                                    <button onclick="showNotification('–ó–∞–ø—Ä–æ—à–µ–Ω–Ω—è –Ω–∞ –º–∞—Ç—á –Ω–∞–¥—ñ—Å–ª–∞–Ω–æ ${friend.name}!')"
                                                            class="bg-green-500 text-white px-3 py-2 rounded-lg text-sm hover:bg-green-600 transition-colors">
                                                        –ó–∞–ø—Ä–æ—Å–∏—Ç–∏
                                                    </button>
                                                    <button onclick="toggleFriend(${friend.id})"
                                                            class="p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors">‚ùå</button>
                                                </div>
                                            </div>
                                        </div>
                                    `).join('')}
                                </div>
                            `}
                        </div>
                        ${suggestedFriends.length > 0 ? `
                            <div>
                                <h2 class="text-lg font-bold mb-4 flex items-center space-x-2">
                                    <span>üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó</span>
                                    <span class="text-sm text-gray-500">–∑ —Ç–≤–æ–≥–æ –º—ñ—Å—Ç–∞</span>
                                </h2>
                                <div class="space-y-3">
                                    ${suggestedFriends.slice(0, 3).map(player => `
                                        <div class="bg-white rounded-xl p-4 shadow-sm border border-gray-100">
                                            <div class="flex items-center space-x-4">
                                                <button onclick="navigateTo('player-profile', ${JSON.stringify(player)})"
                                                        class="w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center hover:bg-gray-300 transition-colors">
                                                    <span class="text-gray-500">üë§</span>
                                                </button>
                                                <div class="flex-1">
                                                    <h3 class="font-semibold">${player.name}</h3>
                                                    <p class="text-sm text-gray-600">${player.position} ‚Ä¢ ${player.city}</p>
                                                    <div class="flex items-center space-x-2 mt-1">
                                                        <span class="text-yellow-500">‚≠ê</span>
                                                        <span class="text-xs font-medium">${player.rating}</span>
                                                        <span class="text-xs text-gray-400">‚Ä¢ ${player.games} —ñ–≥–æ—Ä</span>
                                                    </div>
                                                </div>
                                                <button onclick="toggleFriend(${player.id})"
                                                        class="bg-blue-500 text-white px-4 py-2 rounded-lg text-sm hover:bg-blue-600 transition-colors flex items-center space-x-1">
                                                    <span>‚ûï</span><span>–î–æ–¥–∞—Ç–∏</span>
                                                </button>
                                            </div>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        ` : ''}
                    </div>
                </div>
            `;
        }

        function ShopScreen() {
            return `
                <div class="min-h-screen bg-gray-50">
                    <div class="bg-white px-6 py-4 shadow-sm flex items-center space-x-3 border-b border-gray-100">
                        <button onclick="navigateTo('home')" class="p-2 hover:bg-gray-100 rounded-full transition-colors">‚Üê –ù–∞–∑–∞–¥</button>
                        <h1 class="text-xl font-bold">üõçÔ∏è –ú–∞–≥–∞–∑–∏–Ω</h1>
                        <div class="flex-1"></div>
                        <div class="flex items-center space-x-2 bg-yellow-100 px-3 py-1 rounded-full">
                            <span class="text-lg">üí∞</span>
                            <span class="font-bold text-yellow-700">${user?.coins || 350}</span>
                        </div>
                    </div>
                    <div class="p-6">
                        <div class="mb-8">
                            <h2 class="text-lg font-bold mb-4 flex items-center space-x-2">
                                <span>üèÖ –ë–µ–π–¥–∂—ñ</span>
                                <span class="text-sm text-gray-500">–ø–æ–∫–∞–∂–∏ —Å–≤–æ—ó –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è</span>
                            </h2>
                            <div class="grid grid-cols-1 gap-4">
                                ${badges.map(badge => `
                                    <div class="rounded-xl p-4 shadow-sm border-2 ${badge.owned ? 'bg-gradient-to-r from-green-50 to-teal-50 border-green-200' : 'bg-white border-gray-200'}">
                                        <div class="flex items-center justify-between">
                                            <div class="flex items-center space-x-4">
                                                <div class="w-12 h-12 rounded-full flex items-center justify-center text-xl ${badge.owned ? 'bg-green-500' : 'bg-gray-200'}">
                                                    ${badge.owned ? '‚úÖ' : badge.name.split(' ')[0]}
                                                </div>
                                                <div>
                                                    <h3 class="font-semibold">${badge.name}</h3>
                                                    <p class="text-sm text-gray-600">${badge.description}</p>
                                                </div>
                                            </div>
                                            <div class="text-right">
                                                ${badge.owned ? `
                                                    <span class="bg-green-500 text-white px-3 py-1 rounded-full text-sm font-medium">–ú–∞—î—à</span>
                                                ` : `
                                                    <button onclick="buyBadge(${badge.id})" class="bg-yellow-500 text-white px-4 py-2 rounded-lg font-medium hover:bg-yellow-600 transition-colors">
                                                        ${badge.price} üí∞
                                                    </button>
                                                `}
                                            </div>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                        <div>
                            <h2 class="text-lg font-bold mb-4 flex items-center space-x-2">
                                <span>üöÄ –°–∫–æ—Ä–æ –±—É–¥–µ</span>
                                <span class="bg-purple-100 text-purple-600 px-2 py-1 rounded-full text-xs">BETA</span>
                            </h2>
                            <div class="space-y-4">
                                ${comingSoonItems.map(item => `
                                    <div class="bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-4 border-2 border-purple-200 relative overflow-hidden">
                                        <div class="flex items-center space-x-4">
                                            <div class="w-12 h-12 bg-gradient-to-br from-purple-400 to-pink-500 rounded-full flex items-center justify-center text-xl">${item.icon}</div>
                                            <div class="flex-1">
                                                <h3 class="font-semibold">${item.name}</h3>
                                                <p class="text-sm text-gray-600">${item.description}</p>
                                            </div>
                                            <div class="bg-purple-500 text-white px-3 py-1 rounded-full text-sm font-medium">–°–∫–æ—Ä–æ</div>
                                        </div>
                                        <div class="absolute -right-4 -bottom-4 w-16 h-16 bg-gradient-to-br from-purple-300 to-pink-300 rounded-full opacity-20"></div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                        ${!user?.subscription ? `
                            <div class="mt-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl p-6 text-white">
                                <div class="flex items-center space-x-3 mb-3">
                                    <span class="text-2xl">üëë</span>
                                    <h3 class="font-bold">–†–æ–∑–±–ª–æ–∫—É–π –±—ñ–ª—å—à–µ –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π</h3>
                                </div>
                                <p class="text-sm opacity-90 mb-4">–ó –ø—ñ–¥–ø–∏—Å–∫–æ—é –æ—Ç—Ä–∏–º–∞—î—à –¥–æ—Å—Ç—É–ø –¥–æ –µ–∫—Å–∫–ª—é–∑–∏–≤–Ω–∏—Ö –±–µ–π–¥–∂—ñ–≤ —Ç–∞ —Ñ—É–Ω–∫—Ü—ñ–π</p>
                                <button onclick="navigateTo('subscription')" class="bg-white text-purple-600 font-bold py-2 px-4 rounded-lg text-sm hover:bg-gray-100 transition-colors">
                                    –î–∏–≤–∏—Ç–∏—Å—è —Ç–∞—Ä–∏—Ñ–∏
                                </button>
                            </div>
                        ` : ''}
                    </div>
                </div>
            `;
        }

        function ChallengesScreen() {
            const allContent = [...videos, ...challenges];
            const filteredContent = allContent.filter(item => {
                const categoryMatch = challengeCategory === '–í—Å—ñ' || item.category === challengeCategory;
                const typeMatch = contentType === '–í—Å—ñ' || 
                    (contentType === '–í—ñ–¥–µ–æ' && item.isVideo) || 
                    (contentType === '–ß–µ–ª–µ–Ω–¥–∂—ñ' && !item.isVideo);
                return categoryMatch && typeMatch;
            });

            return `
                <div class="min-h-screen bg-gray-50">
                    <div class="bg-white px-6 py-4 shadow-sm">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center space-x-3">
                                <button onclick="navigateTo('home')" class="p-2 hover:bg-gray-100 rounded-full transition-colors">‚Üê –ù–∞–∑–∞–¥</button>
                                <h1 class="text-xl font-bold">üìπ –í—ñ–¥–µ–æ —Ç–∞ –ß–µ–ª–µ–Ω–¥–∂—ñ</h1>
                            </div>
                            <button onclick="navigateTo('create-content')" class="bg-green-500 text-white p-2 rounded-full">+</button>
                        </div>
                        <div class="flex space-x-2 overflow-x-auto pb-2 mb-2">
                            ${contentTypes.map(type => `
                                <button onclick="contentType = '${type}'; render();" 
                                        class="px-3 py-1 rounded-full text-sm whitespace-nowrap transition-colors ${contentType === type ? 'bg-purple-500 text-white' : 'bg-gray-100 text-gray-600 hover:bg-gray-200'}">
                                    ${type}
                                </button>
                            `).join('')}
                        </div>
                        <div class="flex space-x-2 overflow-x-auto pb-2">
                            ${categories.map(category => `
                                <button onclick="challengeCategory = '${category}'; render();" 
                                        class="px-3 py-1 rounded-full text-sm whitespace-nowrap transition-colors ${challengeCategory === category ? 'bg-green-500 text-white' : 'bg-gray-100 text-gray-600 hover:bg-gray-200'}">
                                    ${category}
                                </button>
                            `).join('')}
                        </div>
                    </div>
                    <div class="p-6 space-y-4">
                        ${filteredContent.map(item => `
                            <div class="bg-white rounded-xl p-4 shadow-sm">
                                <div class="flex items-center justify-between mb-3">
                                    <div class="flex items-center space-x-2">
                                        <h3 class="font-semibold">${item.title}</h3>
                                        <span class="bg-blue-100 text-blue-600 px-2 py-1 rounded text-xs">${item.category}</span>
                                        ${item.isVideo ? `<span class="bg-purple-100 text-purple-600 px-2 py-1 rounded text-xs">–í—ñ–¥–µ–æ</span>` : ''}
                                    </div>
                                    <button onclick="navigateTo('${item.isVideo ? 'video-details' : 'challenge-details'}', ${JSON.stringify(item)})" 
                                            class="bg-gray-100 p-2 rounded-full hover:bg-gray-200 transition-colors">‚ñ∂Ô∏è</button>
                                </div>
                                <div class="bg-gray-200 h-32 rounded-lg mb-3 flex items-center justify-center cursor-pointer"
                                     onclick="navigateTo('${item.isVideo ? 'video-details' : 'challenge-details'}', ${JSON.stringify(item)})">
                                    <span class="text-4xl">‚ñ∂Ô∏è</span>
                                </div>
                                <div class="flex items-center justify-between mb-3">
                                    <span class="text-sm text-gray-600">–≤—ñ–¥ ${item.author}</span>
                                    <span class="text-sm text-yellow-600">${item.isVideo ? `${item.views} –ø–µ—Ä–µ–≥–ª—è–¥—ñ–≤` : `+${item.coins} –º–æ–Ω–µ—Ç`}</span>
                                </div>
                                <div class="flex space-x-2">
                                    <button onclick="navigateTo('${item.isVideo ? 'video-details' : 'challenge-details'}', ${JSON.stringify(item)})" 
                                            class="flex-1 bg-green-500 text-white py-2 rounded-lg text-sm hover:bg-green-600 transition-colors">
                                        –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏
                                    </button>
                                    <button onclick="showNotification('–ü–æ–¥—ñ–ª–∏–≤—Å—è!')" 
                                            class="bg-blue-500 text-white py-2 px-3 rounded-lg text-sm hover:bg-blue-600 transition-colors">üì§</button>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        // Initial render
        function render() {
            const app = document.getElementById('app');
            
            switch (currentScreen) {
                case 'welcome':
                    app.innerHTML = WelcomeScreen();
                    break;
                case 'auth':
                    app.innerHTML = AuthScreen();
                    break;
                case 'home':
                    app.innerHTML = HomeScreen();
                    break;
                case 'friends':
                    app.innerHTML = FriendsScreen();
                    break;
                case 'shop':
                    app.innerHTML = ShopScreen();
                    break;
                case 'challenges':
                    app.innerHTML = ChallengesScreen();
                    break;
                default:
                    app.innerHTML = WelcomeScreen();
            }
        }

        // Initialize app
        render();
    </script>
</body>
</html>